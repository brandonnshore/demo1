var R6=Object.defineProperty;var O6=(t,e,n)=>e in t?R6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var cy=(t,e,n)=>O6(t,typeof e!="symbol"?e+"":e,n);function A6(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Id(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function px(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var gx={exports:{}},Ld={},mx={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ql=Symbol.for("react.element"),I6=Symbol.for("react.portal"),L6=Symbol.for("react.fragment"),M6=Symbol.for("react.strict_mode"),D6=Symbol.for("react.profiler"),F6=Symbol.for("react.provider"),z6=Symbol.for("react.context"),U6=Symbol.for("react.forward_ref"),B6=Symbol.for("react.suspense"),G6=Symbol.for("react.memo"),W6=Symbol.for("react.lazy"),dy=Symbol.iterator;function $6(t){return t===null||typeof t!="object"?null:(t=dy&&t[dy]||t["@@iterator"],typeof t=="function"?t:null)}var yx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vx=Object.assign,xx={};function Jo(t,e,n){this.props=t,this.context=e,this.refs=xx,this.updater=n||yx}Jo.prototype.isReactComponent={};Jo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Jo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function wx(){}wx.prototype=Jo.prototype;function sg(t,e,n){this.props=t,this.context=e,this.refs=xx,this.updater=n||yx}var ig=sg.prototype=new wx;ig.constructor=sg;vx(ig,Jo.prototype);ig.isPureReactComponent=!0;var hy=Array.isArray,_x=Object.prototype.hasOwnProperty,og={current:null},Sx={key:!0,ref:!0,__self:!0,__source:!0};function bx(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)_x.call(e,r)&&!Sx.hasOwnProperty(r)&&(s[r]=e[r]);var u=arguments.length-2;if(u===1)s.children=n;else if(1<u){for(var c=Array(u),h=0;h<u;h++)c[h]=arguments[h+2];s.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)s[r]===void 0&&(s[r]=u[r]);return{$$typeof:ql,type:t,key:i,ref:o,props:s,_owner:og.current}}function H6(t,e){return{$$typeof:ql,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ag(t){return typeof t=="object"&&t!==null&&t.$$typeof===ql}function V6(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var fy=/\/+/g;function Af(t,e){return typeof t=="object"&&t!==null&&t.key!=null?V6(""+t.key):e.toString(36)}function Mc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ql:case I6:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Af(o,0):r,hy(s)?(n="",t!=null&&(n=t.replace(fy,"$&/")+"/"),Mc(s,e,n,"",function(h){return h})):s!=null&&(ag(s)&&(s=H6(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(fy,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",hy(t))for(var u=0;u<t.length;u++){i=t[u];var c=r+Af(i,u);o+=Mc(i,e,n,c,s)}else if(c=$6(t),typeof c=="function")for(t=c.call(t),u=0;!(i=t.next()).done;)i=i.value,c=r+Af(i,u++),o+=Mc(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Xu(t,e,n){if(t==null)return t;var r=[],s=0;return Mc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function q6(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qt={current:null},Dc={transition:null},K6={ReactCurrentDispatcher:Qt,ReactCurrentBatchConfig:Dc,ReactCurrentOwner:og};function kx(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:Xu,forEach:function(t,e,n){Xu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xu(t,function(){e++}),e},toArray:function(t){return Xu(t,function(e){return e})||[]},only:function(t){if(!ag(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=Jo;je.Fragment=L6;je.Profiler=D6;je.PureComponent=sg;je.StrictMode=M6;je.Suspense=B6;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K6;je.act=kx;je.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=vx({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=og.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)_x.call(e,c)&&!Sx.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];r.children=u}return{$$typeof:ql,type:t.type,key:s,ref:i,props:r,_owner:o}};je.createContext=function(t){return t={$$typeof:z6,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:F6,_context:t},t.Consumer=t};je.createElement=bx;je.createFactory=function(t){var e=bx.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:U6,render:t}};je.isValidElement=ag;je.lazy=function(t){return{$$typeof:W6,_payload:{_status:-1,_result:t},_init:q6}};je.memo=function(t,e){return{$$typeof:G6,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=Dc.transition;Dc.transition={};try{t()}finally{Dc.transition=e}};je.unstable_act=kx;je.useCallback=function(t,e){return Qt.current.useCallback(t,e)};je.useContext=function(t){return Qt.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return Qt.current.useDeferredValue(t)};je.useEffect=function(t,e){return Qt.current.useEffect(t,e)};je.useId=function(){return Qt.current.useId()};je.useImperativeHandle=function(t,e,n){return Qt.current.useImperativeHandle(t,e,n)};je.useInsertionEffect=function(t,e){return Qt.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return Qt.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return Qt.current.useMemo(t,e)};je.useReducer=function(t,e,n){return Qt.current.useReducer(t,e,n)};je.useRef=function(t){return Qt.current.useRef(t)};je.useState=function(t){return Qt.current.useState(t)};je.useSyncExternalStore=function(t,e,n){return Qt.current.useSyncExternalStore(t,e,n)};je.useTransition=function(){return Qt.current.useTransition()};je.version="18.3.1";mx.exports=je;var A=mx.exports;const xe=Id(A),Y6=A6({__proto__:null,default:xe},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X6=A,Q6=Symbol.for("react.element"),J6=Symbol.for("react.fragment"),Z6=Object.prototype.hasOwnProperty,eS=X6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tS={key:!0,ref:!0,__self:!0,__source:!0};function Ex(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Z6.call(e,r)&&!tS.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Q6,type:t,key:i,ref:o,props:s,_owner:eS.current}}Ld.Fragment=J6;Ld.jsx=Ex;Ld.jsxs=Ex;gx.exports=Ld;var f=gx.exports,Pp={},Cx={exports:{}},An={},jx={exports:{}},Nx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,re){var oe=G.length;G.push(re);e:for(;0<oe;){var X=oe-1>>>1,he=G[X];if(0<s(he,re))G[X]=re,G[oe]=he,oe=X;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var re=G[0],oe=G.pop();if(oe!==re){G[0]=oe;e:for(var X=0,he=G.length,Me=he>>>1;X<Me;){var yt=2*(X+1)-1,qt=G[yt],Zt=yt+1,en=G[Zt];if(0>s(qt,oe))Zt<he&&0>s(en,qt)?(G[X]=en,G[Zt]=oe,X=Zt):(G[X]=qt,G[yt]=oe,X=yt);else if(Zt<he&&0>s(en,oe))G[X]=en,G[Zt]=oe,X=Zt;else break e}}return re}function s(G,re){var oe=G.sortIndex-re.sortIndex;return oe!==0?oe:G.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var c=[],h=[],p=1,m=null,y=3,_=!1,x=!1,b=!1,C=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(G){for(var re=n(h);re!==null;){if(re.callback===null)r(h);else if(re.startTime<=G)r(h),re.sortIndex=re.expirationTime,e(c,re);else break;re=n(h)}}function N(G){if(b=!1,E(G),!x)if(n(c)!==null)x=!0,H(O);else{var re=n(h);re!==null&&ge(N,re.startTime-G)}}function O(G,re){x=!1,b&&(b=!1,k(I),I=-1),_=!0;var oe=y;try{for(E(re),m=n(c);m!==null&&(!(m.expirationTime>re)||G&&!Y());){var X=m.callback;if(typeof X=="function"){m.callback=null,y=m.priorityLevel;var he=X(m.expirationTime<=re);re=t.unstable_now(),typeof he=="function"?m.callback=he:m===n(c)&&r(c),E(re)}else r(c);m=n(c)}if(m!==null)var Me=!0;else{var yt=n(h);yt!==null&&ge(N,yt.startTime-re),Me=!1}return Me}finally{m=null,y=oe,_=!1}}var T=!1,R=null,I=-1,U=5,$=-1;function Y(){return!(t.unstable_now()-$<U)}function q(){if(R!==null){var G=t.unstable_now();$=G;var re=!0;try{re=R(!0,G)}finally{re?ne():(T=!1,R=null)}}else T=!1}var ne;if(typeof S=="function")ne=function(){S(q)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,V=ie.port2;ie.port1.onmessage=q,ne=function(){V.postMessage(null)}}else ne=function(){C(q,0)};function H(G){R=G,T||(T=!0,ne())}function ge(G,re){I=C(function(){G(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){x||_||(x=!0,H(O))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(G){switch(y){case 1:case 2:case 3:var re=3;break;default:re=y}var oe=y;y=re;try{return G()}finally{y=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,re){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var oe=y;y=G;try{return re()}finally{y=oe}},t.unstable_scheduleCallback=function(G,re,oe){var X=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?X+oe:X):oe=X,G){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=oe+he,G={id:p++,callback:re,priorityLevel:G,startTime:oe,expirationTime:he,sortIndex:-1},oe>X?(G.sortIndex=oe,e(h,G),n(c)===null&&G===n(h)&&(b?(k(I),I=-1):b=!0,ge(N,oe-X))):(G.sortIndex=he,e(c,G),x||_||(x=!0,H(O))),G},t.unstable_shouldYield=Y,t.unstable_wrapCallback=function(G){var re=y;return function(){var oe=y;y=re;try{return G.apply(this,arguments)}finally{y=oe}}}})(Nx);jx.exports=Nx;var ol=jx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nS=A,On=ol;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Px=new Set,kl={};function Ri(t,e){zo(t,e),zo(t+"Capture",e)}function zo(t,e){for(kl[t]=e,t=0;t<e.length;t++)Px.add(e[t])}var Vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tp=Object.prototype.hasOwnProperty,rS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,py={},gy={};function sS(t){return Tp.call(gy,t)?!0:Tp.call(py,t)?!1:rS.test(t)?gy[t]=!0:(py[t]=!0,!1)}function iS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function oS(t,e,n,r){if(e===null||typeof e>"u"||iS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Jt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Lt[t]=new Jt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Lt[e]=new Jt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Lt[t]=new Jt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Lt[t]=new Jt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Lt[t]=new Jt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Lt[t]=new Jt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Lt[t]=new Jt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Lt[t]=new Jt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Lt[t]=new Jt(t,5,!1,t.toLowerCase(),null,!1,!1)});var lg=/[\-:]([a-z])/g;function ug(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(lg,ug);Lt[e]=new Jt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(lg,ug);Lt[e]=new Jt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(lg,ug);Lt[e]=new Jt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Lt[t]=new Jt(t,1,!1,t.toLowerCase(),null,!1,!1)});Lt.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Lt[t]=new Jt(t,1,!1,t.toLowerCase(),null,!0,!0)});function cg(t,e,n,r){var s=Lt.hasOwnProperty(e)?Lt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(oS(e,n,s,r)&&(n=null),r||s===null?sS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Xr=nS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qu=Symbol.for("react.element"),vo=Symbol.for("react.portal"),xo=Symbol.for("react.fragment"),dg=Symbol.for("react.strict_mode"),Rp=Symbol.for("react.profiler"),Tx=Symbol.for("react.provider"),Rx=Symbol.for("react.context"),hg=Symbol.for("react.forward_ref"),Op=Symbol.for("react.suspense"),Ap=Symbol.for("react.suspense_list"),fg=Symbol.for("react.memo"),xs=Symbol.for("react.lazy"),Ox=Symbol.for("react.offscreen"),my=Symbol.iterator;function Ia(t){return t===null||typeof t!="object"?null:(t=my&&t[my]||t["@@iterator"],typeof t=="function"?t:null)}var st=Object.assign,If;function Ka(t){if(If===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);If=e&&e[1]||""}return`
`+If+t}var Lf=!1;function Mf(t,e){if(!t||Lf)return"";Lf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,u=i.length-1;1<=o&&0<=u&&s[o]!==i[u];)u--;for(;1<=o&&0<=u;o--,u--)if(s[o]!==i[u]){if(o!==1||u!==1)do if(o--,u--,0>u||s[o]!==i[u]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=u);break}}}finally{Lf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ka(t):""}function aS(t){switch(t.tag){case 5:return Ka(t.type);case 16:return Ka("Lazy");case 13:return Ka("Suspense");case 19:return Ka("SuspenseList");case 0:case 2:case 15:return t=Mf(t.type,!1),t;case 11:return t=Mf(t.type.render,!1),t;case 1:return t=Mf(t.type,!0),t;default:return""}}function Ip(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xo:return"Fragment";case vo:return"Portal";case Rp:return"Profiler";case dg:return"StrictMode";case Op:return"Suspense";case Ap:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Rx:return(t.displayName||"Context")+".Consumer";case Tx:return(t._context.displayName||"Context")+".Provider";case hg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fg:return e=t.displayName||null,e!==null?e:Ip(t.type)||"Memo";case xs:e=t._payload,t=t._init;try{return Ip(t(e))}catch{}}return null}function lS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ip(e);case 8:return e===dg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ds(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ax(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function uS(t){var e=Ax(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ju(t){t._valueTracker||(t._valueTracker=uS(t))}function Ix(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ax(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function td(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Lp(t,e){var n=e.checked;return st({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function yy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ds(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Lx(t,e){e=e.checked,e!=null&&cg(t,"checked",e,!1)}function Mp(t,e){Lx(t,e);var n=Ds(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Dp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Dp(t,e.type,Ds(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function vy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Dp(t,e,n){(e!=="number"||td(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ya=Array.isArray;function Ro(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ds(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Fp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return st({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(Ya(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ds(n)}}function Mx(t,e){var n=Ds(e.value),r=Ds(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function wy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Dx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Dx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zu,Fx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Zu=Zu||document.createElement("div"),Zu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Zu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function El(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var al={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cS=["Webkit","ms","Moz","O"];Object.keys(al).forEach(function(t){cS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),al[e]=al[t]})});function zx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||al.hasOwnProperty(t)&&al[t]?(""+e).trim():e+"px"}function Ux(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=zx(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var dS=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Up(t,e){if(e){if(dS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function Bp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gp=null;function pg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wp=null,Oo=null,Ao=null;function _y(t){if(t=Xl(t)){if(typeof Wp!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=Ud(e),Wp(t.stateNode,t.type,e))}}function Bx(t){Oo?Ao?Ao.push(t):Ao=[t]:Oo=t}function Gx(){if(Oo){var t=Oo,e=Ao;if(Ao=Oo=null,_y(t),e)for(t=0;t<e.length;t++)_y(e[t])}}function Wx(t,e){return t(e)}function $x(){}var Df=!1;function Hx(t,e,n){if(Df)return t(e,n);Df=!0;try{return Wx(t,e,n)}finally{Df=!1,(Oo!==null||Ao!==null)&&($x(),Gx())}}function Cl(t,e){var n=t.stateNode;if(n===null)return null;var r=Ud(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var $p=!1;if(Vr)try{var La={};Object.defineProperty(La,"passive",{get:function(){$p=!0}}),window.addEventListener("test",La,La),window.removeEventListener("test",La,La)}catch{$p=!1}function hS(t,e,n,r,s,i,o,u,c){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(p){this.onError(p)}}var ll=!1,nd=null,rd=!1,Hp=null,fS={onError:function(t){ll=!0,nd=t}};function pS(t,e,n,r,s,i,o,u,c){ll=!1,nd=null,hS.apply(fS,arguments)}function gS(t,e,n,r,s,i,o,u,c){if(pS.apply(this,arguments),ll){if(ll){var h=nd;ll=!1,nd=null}else throw Error(Q(198));rd||(rd=!0,Hp=h)}}function Oi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Vx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Sy(t){if(Oi(t)!==t)throw Error(Q(188))}function mS(t){var e=t.alternate;if(!e){if(e=Oi(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Sy(s),t;if(i===r)return Sy(s),e;i=i.sibling}throw Error(Q(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,u=s.child;u;){if(u===n){o=!0,n=s,r=i;break}if(u===r){o=!0,r=s,n=i;break}u=u.sibling}if(!o){for(u=i.child;u;){if(u===n){o=!0,n=i,r=s;break}if(u===r){o=!0,r=i,n=s;break}u=u.sibling}if(!o)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function qx(t){return t=mS(t),t!==null?Kx(t):null}function Kx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Kx(t);if(e!==null)return e;t=t.sibling}return null}var Yx=On.unstable_scheduleCallback,by=On.unstable_cancelCallback,yS=On.unstable_shouldYield,vS=On.unstable_requestPaint,lt=On.unstable_now,xS=On.unstable_getCurrentPriorityLevel,gg=On.unstable_ImmediatePriority,Xx=On.unstable_UserBlockingPriority,sd=On.unstable_NormalPriority,wS=On.unstable_LowPriority,Qx=On.unstable_IdlePriority,Md=null,Nr=null;function _S(t){if(Nr&&typeof Nr.onCommitFiberRoot=="function")try{Nr.onCommitFiberRoot(Md,t,void 0,(t.current.flags&128)===128)}catch{}}var dr=Math.clz32?Math.clz32:kS,SS=Math.log,bS=Math.LN2;function kS(t){return t>>>=0,t===0?32:31-(SS(t)/bS|0)|0}var ec=64,tc=4194304;function Xa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function id(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var u=o&~s;u!==0?r=Xa(u):(i&=o,i!==0&&(r=Xa(i)))}else o=n&~s,o!==0?r=Xa(o):i!==0&&(r=Xa(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-dr(e),s=1<<n,r|=t[n],e&=~s;return r}function ES(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-dr(i),u=1<<o,c=s[o];c===-1?(!(u&n)||u&r)&&(s[o]=ES(u,e)):c<=e&&(t.expiredLanes|=u),i&=~u}}function Vp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Jx(){var t=ec;return ec<<=1,!(ec&4194240)&&(ec=64),t}function Ff(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Kl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-dr(e),t[e]=n}function jS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-dr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function mg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-dr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Le=0;function Zx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ew,yg,tw,nw,rw,qp=!1,nc=[],Ns=null,Ps=null,Ts=null,jl=new Map,Nl=new Map,_s=[],NS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ky(t,e){switch(t){case"focusin":case"focusout":Ns=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":Ts=null;break;case"pointerover":case"pointerout":jl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(e.pointerId)}}function Ma(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Xl(e),e!==null&&yg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function PS(t,e,n,r,s){switch(e){case"focusin":return Ns=Ma(Ns,t,e,n,r,s),!0;case"dragenter":return Ps=Ma(Ps,t,e,n,r,s),!0;case"mouseover":return Ts=Ma(Ts,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return jl.set(i,Ma(jl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Nl.set(i,Ma(Nl.get(i)||null,t,e,n,r,s)),!0}return!1}function sw(t){var e=gi(t.target);if(e!==null){var n=Oi(e);if(n!==null){if(e=n.tag,e===13){if(e=Vx(n),e!==null){t.blockedOn=e,rw(t.priority,function(){tw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Kp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Gp=r,n.target.dispatchEvent(r),Gp=null}else return e=Xl(n),e!==null&&yg(e),t.blockedOn=n,!1;e.shift()}return!0}function Ey(t,e,n){Fc(t)&&n.delete(e)}function TS(){qp=!1,Ns!==null&&Fc(Ns)&&(Ns=null),Ps!==null&&Fc(Ps)&&(Ps=null),Ts!==null&&Fc(Ts)&&(Ts=null),jl.forEach(Ey),Nl.forEach(Ey)}function Da(t,e){t.blockedOn===e&&(t.blockedOn=null,qp||(qp=!0,On.unstable_scheduleCallback(On.unstable_NormalPriority,TS)))}function Pl(t){function e(s){return Da(s,t)}if(0<nc.length){Da(nc[0],t);for(var n=1;n<nc.length;n++){var r=nc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ns!==null&&Da(Ns,t),Ps!==null&&Da(Ps,t),Ts!==null&&Da(Ts,t),jl.forEach(e),Nl.forEach(e),n=0;n<_s.length;n++)r=_s[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<_s.length&&(n=_s[0],n.blockedOn===null);)sw(n),n.blockedOn===null&&_s.shift()}var Io=Xr.ReactCurrentBatchConfig,od=!0;function RS(t,e,n,r){var s=Le,i=Io.transition;Io.transition=null;try{Le=1,vg(t,e,n,r)}finally{Le=s,Io.transition=i}}function OS(t,e,n,r){var s=Le,i=Io.transition;Io.transition=null;try{Le=4,vg(t,e,n,r)}finally{Le=s,Io.transition=i}}function vg(t,e,n,r){if(od){var s=Kp(t,e,n,r);if(s===null)Kf(t,e,r,ad,n),ky(t,r);else if(PS(s,t,e,n,r))r.stopPropagation();else if(ky(t,r),e&4&&-1<NS.indexOf(t)){for(;s!==null;){var i=Xl(s);if(i!==null&&ew(i),i=Kp(t,e,n,r),i===null&&Kf(t,e,r,ad,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Kf(t,e,r,null,n)}}var ad=null;function Kp(t,e,n,r){if(ad=null,t=pg(r),t=gi(t),t!==null)if(e=Oi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Vx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ad=t,null}function iw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xS()){case gg:return 1;case Xx:return 4;case sd:case wS:return 16;case Qx:return 536870912;default:return 16}default:return 16}}var Es=null,xg=null,zc=null;function ow(){if(zc)return zc;var t,e=xg,n=e.length,r,s="value"in Es?Es.value:Es.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return zc=s.slice(t,1<r?1-r:void 0)}function Uc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function rc(){return!0}function Cy(){return!1}function In(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?rc:Cy,this.isPropagationStopped=Cy,this}return st(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rc)},persist:function(){},isPersistent:rc}),e}var Zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wg=In(Zo),Yl=st({},Zo,{view:0,detail:0}),AS=In(Yl),zf,Uf,Fa,Dd=st({},Yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_g,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fa&&(Fa&&t.type==="mousemove"?(zf=t.screenX-Fa.screenX,Uf=t.screenY-Fa.screenY):Uf=zf=0,Fa=t),zf)},movementY:function(t){return"movementY"in t?t.movementY:Uf}}),jy=In(Dd),IS=st({},Dd,{dataTransfer:0}),LS=In(IS),MS=st({},Yl,{relatedTarget:0}),Bf=In(MS),DS=st({},Zo,{animationName:0,elapsedTime:0,pseudoElement:0}),FS=In(DS),zS=st({},Zo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),US=In(zS),BS=st({},Zo,{data:0}),Ny=In(BS),GS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$S={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=$S[t])?!!e[t]:!1}function _g(){return HS}var VS=st({},Yl,{key:function(t){if(t.key){var e=GS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Uc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?WS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_g,charCode:function(t){return t.type==="keypress"?Uc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Uc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qS=In(VS),KS=st({},Dd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Py=In(KS),YS=st({},Yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_g}),XS=In(YS),QS=st({},Zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),JS=In(QS),ZS=st({},Dd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),e8=In(ZS),t8=[9,13,27,32],Sg=Vr&&"CompositionEvent"in window,ul=null;Vr&&"documentMode"in document&&(ul=document.documentMode);var n8=Vr&&"TextEvent"in window&&!ul,aw=Vr&&(!Sg||ul&&8<ul&&11>=ul),Ty=" ",Ry=!1;function lw(t,e){switch(t){case"keyup":return t8.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wo=!1;function r8(t,e){switch(t){case"compositionend":return uw(e);case"keypress":return e.which!==32?null:(Ry=!0,Ty);case"textInput":return t=e.data,t===Ty&&Ry?null:t;default:return null}}function s8(t,e){if(wo)return t==="compositionend"||!Sg&&lw(t,e)?(t=ow(),zc=xg=Es=null,wo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return aw&&e.locale!=="ko"?null:e.data;default:return null}}var i8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!i8[t.type]:e==="textarea"}function cw(t,e,n,r){Bx(r),e=ld(e,"onChange"),0<e.length&&(n=new wg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var cl=null,Tl=null;function o8(t){_w(t,0)}function Fd(t){var e=bo(t);if(Ix(e))return t}function a8(t,e){if(t==="change")return e}var dw=!1;if(Vr){var Gf;if(Vr){var Wf="oninput"in document;if(!Wf){var Ay=document.createElement("div");Ay.setAttribute("oninput","return;"),Wf=typeof Ay.oninput=="function"}Gf=Wf}else Gf=!1;dw=Gf&&(!document.documentMode||9<document.documentMode)}function Iy(){cl&&(cl.detachEvent("onpropertychange",hw),Tl=cl=null)}function hw(t){if(t.propertyName==="value"&&Fd(Tl)){var e=[];cw(e,Tl,t,pg(t)),Hx(o8,e)}}function l8(t,e,n){t==="focusin"?(Iy(),cl=e,Tl=n,cl.attachEvent("onpropertychange",hw)):t==="focusout"&&Iy()}function u8(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fd(Tl)}function c8(t,e){if(t==="click")return Fd(e)}function d8(t,e){if(t==="input"||t==="change")return Fd(e)}function h8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fr=typeof Object.is=="function"?Object.is:h8;function Rl(t,e){if(fr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Tp.call(e,s)||!fr(t[s],e[s]))return!1}return!0}function Ly(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function My(t,e){var n=Ly(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ly(n)}}function fw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?fw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pw(){for(var t=window,e=td();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=td(t.document)}return e}function bg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function f8(t){var e=pw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&fw(n.ownerDocument.documentElement,n)){if(r!==null&&bg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=My(n,i);var o=My(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var p8=Vr&&"documentMode"in document&&11>=document.documentMode,_o=null,Yp=null,dl=null,Xp=!1;function Dy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xp||_o==null||_o!==td(r)||(r=_o,"selectionStart"in r&&bg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),dl&&Rl(dl,r)||(dl=r,r=ld(Yp,"onSelect"),0<r.length&&(e=new wg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_o)))}function sc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var So={animationend:sc("Animation","AnimationEnd"),animationiteration:sc("Animation","AnimationIteration"),animationstart:sc("Animation","AnimationStart"),transitionend:sc("Transition","TransitionEnd")},$f={},gw={};Vr&&(gw=document.createElement("div").style,"AnimationEvent"in window||(delete So.animationend.animation,delete So.animationiteration.animation,delete So.animationstart.animation),"TransitionEvent"in window||delete So.transitionend.transition);function zd(t){if($f[t])return $f[t];if(!So[t])return t;var e=So[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in gw)return $f[t]=e[n];return t}var mw=zd("animationend"),yw=zd("animationiteration"),vw=zd("animationstart"),xw=zd("transitionend"),ww=new Map,Fy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zs(t,e){ww.set(t,e),Ri(e,[t])}for(var Hf=0;Hf<Fy.length;Hf++){var Vf=Fy[Hf],g8=Vf.toLowerCase(),m8=Vf[0].toUpperCase()+Vf.slice(1);zs(g8,"on"+m8)}zs(mw,"onAnimationEnd");zs(yw,"onAnimationIteration");zs(vw,"onAnimationStart");zs("dblclick","onDoubleClick");zs("focusin","onFocus");zs("focusout","onBlur");zs(xw,"onTransitionEnd");zo("onMouseEnter",["mouseout","mouseover"]);zo("onMouseLeave",["mouseout","mouseover"]);zo("onPointerEnter",["pointerout","pointerover"]);zo("onPointerLeave",["pointerout","pointerover"]);Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qa));function zy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,gS(r,e,void 0,t),t.currentTarget=null}function _w(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var u=r[o],c=u.instance,h=u.currentTarget;if(u=u.listener,c!==i&&s.isPropagationStopped())break e;zy(s,u,h),i=c}else for(o=0;o<r.length;o++){if(u=r[o],c=u.instance,h=u.currentTarget,u=u.listener,c!==i&&s.isPropagationStopped())break e;zy(s,u,h),i=c}}}if(rd)throw t=Hp,rd=!1,Hp=null,t}function Ve(t,e){var n=e[t0];n===void 0&&(n=e[t0]=new Set);var r=t+"__bubble";n.has(r)||(Sw(e,t,2,!1),n.add(r))}function qf(t,e,n){var r=0;e&&(r|=4),Sw(n,t,r,e)}var ic="_reactListening"+Math.random().toString(36).slice(2);function Ol(t){if(!t[ic]){t[ic]=!0,Px.forEach(function(n){n!=="selectionchange"&&(y8.has(n)||qf(n,!1,t),qf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ic]||(e[ic]=!0,qf("selectionchange",!1,e))}}function Sw(t,e,n,r){switch(iw(e)){case 1:var s=RS;break;case 4:s=OS;break;default:s=vg}n=s.bind(null,e,n,t),s=void 0,!$p||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Kf(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var u=r.stateNode.containerInfo;if(u===s||u.nodeType===8&&u.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;u!==null;){if(o=gi(u),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}u=u.parentNode}}r=r.return}Hx(function(){var h=i,p=pg(n),m=[];e:{var y=ww.get(t);if(y!==void 0){var _=wg,x=t;switch(t){case"keypress":if(Uc(n)===0)break e;case"keydown":case"keyup":_=qS;break;case"focusin":x="focus",_=Bf;break;case"focusout":x="blur",_=Bf;break;case"beforeblur":case"afterblur":_=Bf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=jy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=LS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=XS;break;case mw:case yw:case vw:_=FS;break;case xw:_=JS;break;case"scroll":_=AS;break;case"wheel":_=e8;break;case"copy":case"cut":case"paste":_=US;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Py}var b=(e&4)!==0,C=!b&&t==="scroll",k=b?y!==null?y+"Capture":null:y;b=[];for(var S=h,E;S!==null;){E=S;var N=E.stateNode;if(E.tag===5&&N!==null&&(E=N,k!==null&&(N=Cl(S,k),N!=null&&b.push(Al(S,N,E)))),C)break;S=S.return}0<b.length&&(y=new _(y,x,null,n,p),m.push({event:y,listeners:b}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",y&&n!==Gp&&(x=n.relatedTarget||n.fromElement)&&(gi(x)||x[qr]))break e;if((_||y)&&(y=p.window===p?p:(y=p.ownerDocument)?y.defaultView||y.parentWindow:window,_?(x=n.relatedTarget||n.toElement,_=h,x=x?gi(x):null,x!==null&&(C=Oi(x),x!==C||x.tag!==5&&x.tag!==6)&&(x=null)):(_=null,x=h),_!==x)){if(b=jy,N="onMouseLeave",k="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(b=Py,N="onPointerLeave",k="onPointerEnter",S="pointer"),C=_==null?y:bo(_),E=x==null?y:bo(x),y=new b(N,S+"leave",_,n,p),y.target=C,y.relatedTarget=E,N=null,gi(p)===h&&(b=new b(k,S+"enter",x,n,p),b.target=E,b.relatedTarget=C,N=b),C=N,_&&x)t:{for(b=_,k=x,S=0,E=b;E;E=oo(E))S++;for(E=0,N=k;N;N=oo(N))E++;for(;0<S-E;)b=oo(b),S--;for(;0<E-S;)k=oo(k),E--;for(;S--;){if(b===k||k!==null&&b===k.alternate)break t;b=oo(b),k=oo(k)}b=null}else b=null;_!==null&&Uy(m,y,_,b,!1),x!==null&&C!==null&&Uy(m,C,x,b,!0)}}e:{if(y=h?bo(h):window,_=y.nodeName&&y.nodeName.toLowerCase(),_==="select"||_==="input"&&y.type==="file")var O=a8;else if(Oy(y))if(dw)O=d8;else{O=u8;var T=l8}else(_=y.nodeName)&&_.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(O=c8);if(O&&(O=O(t,h))){cw(m,O,n,p);break e}T&&T(t,y,h),t==="focusout"&&(T=y._wrapperState)&&T.controlled&&y.type==="number"&&Dp(y,"number",y.value)}switch(T=h?bo(h):window,t){case"focusin":(Oy(T)||T.contentEditable==="true")&&(_o=T,Yp=h,dl=null);break;case"focusout":dl=Yp=_o=null;break;case"mousedown":Xp=!0;break;case"contextmenu":case"mouseup":case"dragend":Xp=!1,Dy(m,n,p);break;case"selectionchange":if(p8)break;case"keydown":case"keyup":Dy(m,n,p)}var R;if(Sg)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else wo?lw(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(aw&&n.locale!=="ko"&&(wo||I!=="onCompositionStart"?I==="onCompositionEnd"&&wo&&(R=ow()):(Es=p,xg="value"in Es?Es.value:Es.textContent,wo=!0)),T=ld(h,I),0<T.length&&(I=new Ny(I,t,null,n,p),m.push({event:I,listeners:T}),R?I.data=R:(R=uw(n),R!==null&&(I.data=R)))),(R=n8?r8(t,n):s8(t,n))&&(h=ld(h,"onBeforeInput"),0<h.length&&(p=new Ny("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:h}),p.data=R))}_w(m,e)})}function Al(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ld(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Cl(t,n),i!=null&&r.unshift(Al(t,i,s)),i=Cl(t,e),i!=null&&r.push(Al(t,i,s))),t=t.return}return r}function oo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Uy(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var u=n,c=u.alternate,h=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&h!==null&&(u=h,s?(c=Cl(n,i),c!=null&&o.unshift(Al(n,c,u))):s||(c=Cl(n,i),c!=null&&o.push(Al(n,c,u)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var v8=/\r\n?/g,x8=/\u0000|\uFFFD/g;function By(t){return(typeof t=="string"?t:""+t).replace(v8,`
`).replace(x8,"")}function oc(t,e,n){if(e=By(e),By(t)!==e&&n)throw Error(Q(425))}function ud(){}var Qp=null,Jp=null;function Zp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var e0=typeof setTimeout=="function"?setTimeout:void 0,w8=typeof clearTimeout=="function"?clearTimeout:void 0,Gy=typeof Promise=="function"?Promise:void 0,_8=typeof queueMicrotask=="function"?queueMicrotask:typeof Gy<"u"?function(t){return Gy.resolve(null).then(t).catch(S8)}:e0;function S8(t){setTimeout(function(){throw t})}function Yf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Pl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Pl(e)}function Rs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Wy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ea=Math.random().toString(36).slice(2),jr="__reactFiber$"+ea,Il="__reactProps$"+ea,qr="__reactContainer$"+ea,t0="__reactEvents$"+ea,b8="__reactListeners$"+ea,k8="__reactHandles$"+ea;function gi(t){var e=t[jr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qr]||n[jr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Wy(t);t!==null;){if(n=t[jr])return n;t=Wy(t)}return e}t=n,n=t.parentNode}return null}function Xl(t){return t=t[jr]||t[qr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function bo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function Ud(t){return t[Il]||null}var n0=[],ko=-1;function Us(t){return{current:t}}function qe(t){0>ko||(t.current=n0[ko],n0[ko]=null,ko--)}function We(t,e){ko++,n0[ko]=t.current,t.current=e}var Fs={},Vt=Us(Fs),pn=Us(!1),ki=Fs;function Uo(t,e){var n=t.type.contextTypes;if(!n)return Fs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function gn(t){return t=t.childContextTypes,t!=null}function cd(){qe(pn),qe(Vt)}function $y(t,e,n){if(Vt.current!==Fs)throw Error(Q(168));We(Vt,e),We(pn,n)}function bw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(Q(108,lS(t)||"Unknown",s));return st({},n,r)}function dd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fs,ki=Vt.current,We(Vt,t),We(pn,pn.current),!0}function Hy(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=bw(t,e,ki),r.__reactInternalMemoizedMergedChildContext=t,qe(pn),qe(Vt),We(Vt,t)):qe(pn),We(pn,n)}var Gr=null,Bd=!1,Xf=!1;function kw(t){Gr===null?Gr=[t]:Gr.push(t)}function E8(t){Bd=!0,kw(t)}function Bs(){if(!Xf&&Gr!==null){Xf=!0;var t=0,e=Le;try{var n=Gr;for(Le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Gr=null,Bd=!1}catch(s){throw Gr!==null&&(Gr=Gr.slice(t+1)),Yx(gg,Bs),s}finally{Le=e,Xf=!1}}return null}var Eo=[],Co=0,hd=null,fd=0,$n=[],Hn=0,Ei=null,Wr=1,$r="";function ci(t,e){Eo[Co++]=fd,Eo[Co++]=hd,hd=t,fd=e}function Ew(t,e,n){$n[Hn++]=Wr,$n[Hn++]=$r,$n[Hn++]=Ei,Ei=t;var r=Wr;t=$r;var s=32-dr(r)-1;r&=~(1<<s),n+=1;var i=32-dr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Wr=1<<32-dr(e)+s|n<<s|r,$r=i+t}else Wr=1<<i|n<<s|r,$r=t}function kg(t){t.return!==null&&(ci(t,1),Ew(t,1,0))}function Eg(t){for(;t===hd;)hd=Eo[--Co],Eo[Co]=null,fd=Eo[--Co],Eo[Co]=null;for(;t===Ei;)Ei=$n[--Hn],$n[Hn]=null,$r=$n[--Hn],$n[Hn]=null,Wr=$n[--Hn],$n[Hn]=null}var Tn=null,Pn=null,Qe=!1,cr=null;function Cw(t,e){var n=qn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Vy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Tn=t,Pn=Rs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Tn=t,Pn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ei!==null?{id:Wr,overflow:$r}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Tn=t,Pn=null,!0):!1;default:return!1}}function r0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function s0(t){if(Qe){var e=Pn;if(e){var n=e;if(!Vy(t,e)){if(r0(t))throw Error(Q(418));e=Rs(n.nextSibling);var r=Tn;e&&Vy(t,e)?Cw(r,n):(t.flags=t.flags&-4097|2,Qe=!1,Tn=t)}}else{if(r0(t))throw Error(Q(418));t.flags=t.flags&-4097|2,Qe=!1,Tn=t}}}function qy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Tn=t}function ac(t){if(t!==Tn)return!1;if(!Qe)return qy(t),Qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Zp(t.type,t.memoizedProps)),e&&(e=Pn)){if(r0(t))throw jw(),Error(Q(418));for(;e;)Cw(t,e),e=Rs(e.nextSibling)}if(qy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Pn=Rs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Pn=null}}else Pn=Tn?Rs(t.stateNode.nextSibling):null;return!0}function jw(){for(var t=Pn;t;)t=Rs(t.nextSibling)}function Bo(){Pn=Tn=null,Qe=!1}function Cg(t){cr===null?cr=[t]:cr.push(t)}var C8=Xr.ReactCurrentBatchConfig;function za(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var u=s.refs;o===null?delete u[i]:u[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function lc(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ky(t){var e=t._init;return e(t._payload)}function Nw(t){function e(k,S){if(t){var E=k.deletions;E===null?(k.deletions=[S],k.flags|=16):E.push(S)}}function n(k,S){if(!t)return null;for(;S!==null;)e(k,S),S=S.sibling;return null}function r(k,S){for(k=new Map;S!==null;)S.key!==null?k.set(S.key,S):k.set(S.index,S),S=S.sibling;return k}function s(k,S){return k=Ls(k,S),k.index=0,k.sibling=null,k}function i(k,S,E){return k.index=E,t?(E=k.alternate,E!==null?(E=E.index,E<S?(k.flags|=2,S):E):(k.flags|=2,S)):(k.flags|=1048576,S)}function o(k){return t&&k.alternate===null&&(k.flags|=2),k}function u(k,S,E,N){return S===null||S.tag!==6?(S=rp(E,k.mode,N),S.return=k,S):(S=s(S,E),S.return=k,S)}function c(k,S,E,N){var O=E.type;return O===xo?p(k,S,E.props.children,N,E.key):S!==null&&(S.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===xs&&Ky(O)===S.type)?(N=s(S,E.props),N.ref=za(k,S,E),N.return=k,N):(N=qc(E.type,E.key,E.props,null,k.mode,N),N.ref=za(k,S,E),N.return=k,N)}function h(k,S,E,N){return S===null||S.tag!==4||S.stateNode.containerInfo!==E.containerInfo||S.stateNode.implementation!==E.implementation?(S=sp(E,k.mode,N),S.return=k,S):(S=s(S,E.children||[]),S.return=k,S)}function p(k,S,E,N,O){return S===null||S.tag!==7?(S=Si(E,k.mode,N,O),S.return=k,S):(S=s(S,E),S.return=k,S)}function m(k,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return S=rp(""+S,k.mode,E),S.return=k,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Qu:return E=qc(S.type,S.key,S.props,null,k.mode,E),E.ref=za(k,null,S),E.return=k,E;case vo:return S=sp(S,k.mode,E),S.return=k,S;case xs:var N=S._init;return m(k,N(S._payload),E)}if(Ya(S)||Ia(S))return S=Si(S,k.mode,E,null),S.return=k,S;lc(k,S)}return null}function y(k,S,E,N){var O=S!==null?S.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return O!==null?null:u(k,S,""+E,N);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Qu:return E.key===O?c(k,S,E,N):null;case vo:return E.key===O?h(k,S,E,N):null;case xs:return O=E._init,y(k,S,O(E._payload),N)}if(Ya(E)||Ia(E))return O!==null?null:p(k,S,E,N,null);lc(k,E)}return null}function _(k,S,E,N,O){if(typeof N=="string"&&N!==""||typeof N=="number")return k=k.get(E)||null,u(S,k,""+N,O);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Qu:return k=k.get(N.key===null?E:N.key)||null,c(S,k,N,O);case vo:return k=k.get(N.key===null?E:N.key)||null,h(S,k,N,O);case xs:var T=N._init;return _(k,S,E,T(N._payload),O)}if(Ya(N)||Ia(N))return k=k.get(E)||null,p(S,k,N,O,null);lc(S,N)}return null}function x(k,S,E,N){for(var O=null,T=null,R=S,I=S=0,U=null;R!==null&&I<E.length;I++){R.index>I?(U=R,R=null):U=R.sibling;var $=y(k,R,E[I],N);if($===null){R===null&&(R=U);break}t&&R&&$.alternate===null&&e(k,R),S=i($,S,I),T===null?O=$:T.sibling=$,T=$,R=U}if(I===E.length)return n(k,R),Qe&&ci(k,I),O;if(R===null){for(;I<E.length;I++)R=m(k,E[I],N),R!==null&&(S=i(R,S,I),T===null?O=R:T.sibling=R,T=R);return Qe&&ci(k,I),O}for(R=r(k,R);I<E.length;I++)U=_(R,k,I,E[I],N),U!==null&&(t&&U.alternate!==null&&R.delete(U.key===null?I:U.key),S=i(U,S,I),T===null?O=U:T.sibling=U,T=U);return t&&R.forEach(function(Y){return e(k,Y)}),Qe&&ci(k,I),O}function b(k,S,E,N){var O=Ia(E);if(typeof O!="function")throw Error(Q(150));if(E=O.call(E),E==null)throw Error(Q(151));for(var T=O=null,R=S,I=S=0,U=null,$=E.next();R!==null&&!$.done;I++,$=E.next()){R.index>I?(U=R,R=null):U=R.sibling;var Y=y(k,R,$.value,N);if(Y===null){R===null&&(R=U);break}t&&R&&Y.alternate===null&&e(k,R),S=i(Y,S,I),T===null?O=Y:T.sibling=Y,T=Y,R=U}if($.done)return n(k,R),Qe&&ci(k,I),O;if(R===null){for(;!$.done;I++,$=E.next())$=m(k,$.value,N),$!==null&&(S=i($,S,I),T===null?O=$:T.sibling=$,T=$);return Qe&&ci(k,I),O}for(R=r(k,R);!$.done;I++,$=E.next())$=_(R,k,I,$.value,N),$!==null&&(t&&$.alternate!==null&&R.delete($.key===null?I:$.key),S=i($,S,I),T===null?O=$:T.sibling=$,T=$);return t&&R.forEach(function(q){return e(k,q)}),Qe&&ci(k,I),O}function C(k,S,E,N){if(typeof E=="object"&&E!==null&&E.type===xo&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Qu:e:{for(var O=E.key,T=S;T!==null;){if(T.key===O){if(O=E.type,O===xo){if(T.tag===7){n(k,T.sibling),S=s(T,E.props.children),S.return=k,k=S;break e}}else if(T.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===xs&&Ky(O)===T.type){n(k,T.sibling),S=s(T,E.props),S.ref=za(k,T,E),S.return=k,k=S;break e}n(k,T);break}else e(k,T);T=T.sibling}E.type===xo?(S=Si(E.props.children,k.mode,N,E.key),S.return=k,k=S):(N=qc(E.type,E.key,E.props,null,k.mode,N),N.ref=za(k,S,E),N.return=k,k=N)}return o(k);case vo:e:{for(T=E.key;S!==null;){if(S.key===T)if(S.tag===4&&S.stateNode.containerInfo===E.containerInfo&&S.stateNode.implementation===E.implementation){n(k,S.sibling),S=s(S,E.children||[]),S.return=k,k=S;break e}else{n(k,S);break}else e(k,S);S=S.sibling}S=sp(E,k.mode,N),S.return=k,k=S}return o(k);case xs:return T=E._init,C(k,S,T(E._payload),N)}if(Ya(E))return x(k,S,E,N);if(Ia(E))return b(k,S,E,N);lc(k,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,S!==null&&S.tag===6?(n(k,S.sibling),S=s(S,E),S.return=k,k=S):(n(k,S),S=rp(E,k.mode,N),S.return=k,k=S),o(k)):n(k,S)}return C}var Go=Nw(!0),Pw=Nw(!1),pd=Us(null),gd=null,jo=null,jg=null;function Ng(){jg=jo=gd=null}function Pg(t){var e=pd.current;qe(pd),t._currentValue=e}function i0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Lo(t,e){gd=t,jg=jo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(fn=!0),t.firstContext=null)}function Yn(t){var e=t._currentValue;if(jg!==t)if(t={context:t,memoizedValue:e,next:null},jo===null){if(gd===null)throw Error(Q(308));jo=t,gd.dependencies={lanes:0,firstContext:t}}else jo=jo.next=t;return e}var mi=null;function Tg(t){mi===null?mi=[t]:mi.push(t)}function Tw(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Tg(e)):(n.next=s.next,s.next=n),e.interleaved=n,Kr(t,r)}function Kr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ws=!1;function Rg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Hr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Os(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Kr(t,n)}return s=r.interleaved,s===null?(e.next=e,Tg(r)):(e.next=s.next,s.next=e),r.interleaved=e,Kr(t,n)}function Bc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mg(t,n)}}function Yy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function md(t,e,n,r){var s=t.updateQueue;ws=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,u=s.shared.pending;if(u!==null){s.shared.pending=null;var c=u,h=c.next;c.next=null,o===null?i=h:o.next=h,o=c;var p=t.alternate;p!==null&&(p=p.updateQueue,u=p.lastBaseUpdate,u!==o&&(u===null?p.firstBaseUpdate=h:u.next=h,p.lastBaseUpdate=c))}if(i!==null){var m=s.baseState;o=0,p=h=c=null,u=i;do{var y=u.lane,_=u.eventTime;if((r&y)===y){p!==null&&(p=p.next={eventTime:_,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var x=t,b=u;switch(y=e,_=n,b.tag){case 1:if(x=b.payload,typeof x=="function"){m=x.call(_,m,y);break e}m=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=b.payload,y=typeof x=="function"?x.call(_,m,y):x,y==null)break e;m=st({},m,y);break e;case 2:ws=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,y=s.effects,y===null?s.effects=[u]:y.push(u))}else _={eventTime:_,lane:y,tag:u.tag,payload:u.payload,callback:u.callback,next:null},p===null?(h=p=_,c=m):p=p.next=_,o|=y;if(u=u.next,u===null){if(u=s.shared.pending,u===null)break;y=u,u=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(!0);if(p===null&&(c=m),s.baseState=c,s.firstBaseUpdate=h,s.lastBaseUpdate=p,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ji|=o,t.lanes=o,t.memoizedState=m}}function Xy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Q(191,s));s.call(r)}}}var Ql={},Pr=Us(Ql),Ll=Us(Ql),Ml=Us(Ql);function yi(t){if(t===Ql)throw Error(Q(174));return t}function Og(t,e){switch(We(Ml,e),We(Ll,t),We(Pr,Ql),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=zp(e,t)}qe(Pr),We(Pr,e)}function Wo(){qe(Pr),qe(Ll),qe(Ml)}function Ow(t){yi(Ml.current);var e=yi(Pr.current),n=zp(e,t.type);e!==n&&(We(Ll,t),We(Pr,n))}function Ag(t){Ll.current===t&&(qe(Pr),qe(Ll))}var nt=Us(0);function yd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qf=[];function Ig(){for(var t=0;t<Qf.length;t++)Qf[t]._workInProgressVersionPrimary=null;Qf.length=0}var Gc=Xr.ReactCurrentDispatcher,Jf=Xr.ReactCurrentBatchConfig,Ci=0,rt=null,_t=null,Nt=null,vd=!1,hl=!1,Dl=0,j8=0;function Bt(){throw Error(Q(321))}function Lg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fr(t[n],e[n]))return!1;return!0}function Mg(t,e,n,r,s,i){if(Ci=i,rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Gc.current=t===null||t.memoizedState===null?R8:O8,t=n(r,s),hl){i=0;do{if(hl=!1,Dl=0,25<=i)throw Error(Q(301));i+=1,Nt=_t=null,e.updateQueue=null,Gc.current=A8,t=n(r,s)}while(hl)}if(Gc.current=xd,e=_t!==null&&_t.next!==null,Ci=0,Nt=_t=rt=null,vd=!1,e)throw Error(Q(300));return t}function Dg(){var t=Dl!==0;return Dl=0,t}function Cr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?rt.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function Xn(){if(_t===null){var t=rt.alternate;t=t!==null?t.memoizedState:null}else t=_t.next;var e=Nt===null?rt.memoizedState:Nt.next;if(e!==null)Nt=e,_t=t;else{if(t===null)throw Error(Q(310));_t=t,t={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Nt===null?rt.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function Fl(t,e){return typeof e=="function"?e(t):e}function Zf(t){var e=Xn(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=_t,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var u=o=null,c=null,h=i;do{var p=h.lane;if((Ci&p)===p)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var m={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(u=c=m,o=r):c=c.next=m,rt.lanes|=p,ji|=p}h=h.next}while(h!==null&&h!==i);c===null?o=r:c.next=u,fr(r,e.memoizedState)||(fn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,rt.lanes|=i,ji|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ep(t){var e=Xn(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);fr(i,e.memoizedState)||(fn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Aw(){}function Iw(t,e){var n=rt,r=Xn(),s=e(),i=!fr(r.memoizedState,s);if(i&&(r.memoizedState=s,fn=!0),r=r.queue,Fg(Dw.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Nt!==null&&Nt.memoizedState.tag&1){if(n.flags|=2048,zl(9,Mw.bind(null,n,r,s,e),void 0,null),Pt===null)throw Error(Q(349));Ci&30||Lw(n,e,s)}return s}function Lw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Mw(t,e,n,r){e.value=n,e.getSnapshot=r,Fw(e)&&zw(t)}function Dw(t,e,n){return n(function(){Fw(e)&&zw(t)})}function Fw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fr(t,n)}catch{return!0}}function zw(t){var e=Kr(t,1);e!==null&&hr(e,t,1,-1)}function Qy(t){var e=Cr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fl,lastRenderedState:t},e.queue=t,t=t.dispatch=T8.bind(null,rt,t),[e.memoizedState,t]}function zl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Uw(){return Xn().memoizedState}function Wc(t,e,n,r){var s=Cr();rt.flags|=t,s.memoizedState=zl(1|e,n,void 0,r===void 0?null:r)}function Gd(t,e,n,r){var s=Xn();r=r===void 0?null:r;var i=void 0;if(_t!==null){var o=_t.memoizedState;if(i=o.destroy,r!==null&&Lg(r,o.deps)){s.memoizedState=zl(e,n,i,r);return}}rt.flags|=t,s.memoizedState=zl(1|e,n,i,r)}function Jy(t,e){return Wc(8390656,8,t,e)}function Fg(t,e){return Gd(2048,8,t,e)}function Bw(t,e){return Gd(4,2,t,e)}function Gw(t,e){return Gd(4,4,t,e)}function Ww(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $w(t,e,n){return n=n!=null?n.concat([t]):null,Gd(4,4,Ww.bind(null,e,t),n)}function zg(){}function Hw(t,e){var n=Xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Vw(t,e){var n=Xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function qw(t,e,n){return Ci&21?(fr(n,e)||(n=Jx(),rt.lanes|=n,ji|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,fn=!0),t.memoizedState=n)}function N8(t,e){var n=Le;Le=n!==0&&4>n?n:4,t(!0);var r=Jf.transition;Jf.transition={};try{t(!1),e()}finally{Le=n,Jf.transition=r}}function Kw(){return Xn().memoizedState}function P8(t,e,n){var r=Is(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yw(t))Xw(e,n);else if(n=Tw(t,e,n,r),n!==null){var s=Xt();hr(n,t,r,s),Qw(n,e,r)}}function T8(t,e,n){var r=Is(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yw(t))Xw(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,u=i(o,n);if(s.hasEagerState=!0,s.eagerState=u,fr(u,o)){var c=e.interleaved;c===null?(s.next=s,Tg(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=Tw(t,e,s,r),n!==null&&(s=Xt(),hr(n,t,r,s),Qw(n,e,r))}}function Yw(t){var e=t.alternate;return t===rt||e!==null&&e===rt}function Xw(t,e){hl=vd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Qw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mg(t,n)}}var xd={readContext:Yn,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},R8={readContext:Yn,useCallback:function(t,e){return Cr().memoizedState=[t,e===void 0?null:e],t},useContext:Yn,useEffect:Jy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Wc(4194308,4,Ww.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Wc(4,2,t,e)},useMemo:function(t,e){var n=Cr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Cr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=P8.bind(null,rt,t),[r.memoizedState,t]},useRef:function(t){var e=Cr();return t={current:t},e.memoizedState=t},useState:Qy,useDebugValue:zg,useDeferredValue:function(t){return Cr().memoizedState=t},useTransition:function(){var t=Qy(!1),e=t[0];return t=N8.bind(null,t[1]),Cr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=rt,s=Cr();if(Qe){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),Pt===null)throw Error(Q(349));Ci&30||Lw(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Jy(Dw.bind(null,r,i,t),[t]),r.flags|=2048,zl(9,Mw.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Cr(),e=Pt.identifierPrefix;if(Qe){var n=$r,r=Wr;n=(r&~(1<<32-dr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Dl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=j8++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},O8={readContext:Yn,useCallback:Hw,useContext:Yn,useEffect:Fg,useImperativeHandle:$w,useInsertionEffect:Bw,useLayoutEffect:Gw,useMemo:Vw,useReducer:Zf,useRef:Uw,useState:function(){return Zf(Fl)},useDebugValue:zg,useDeferredValue:function(t){var e=Xn();return qw(e,_t.memoizedState,t)},useTransition:function(){var t=Zf(Fl)[0],e=Xn().memoizedState;return[t,e]},useMutableSource:Aw,useSyncExternalStore:Iw,useId:Kw,unstable_isNewReconciler:!1},A8={readContext:Yn,useCallback:Hw,useContext:Yn,useEffect:Fg,useImperativeHandle:$w,useInsertionEffect:Bw,useLayoutEffect:Gw,useMemo:Vw,useReducer:ep,useRef:Uw,useState:function(){return ep(Fl)},useDebugValue:zg,useDeferredValue:function(t){var e=Xn();return _t===null?e.memoizedState=t:qw(e,_t.memoizedState,t)},useTransition:function(){var t=ep(Fl)[0],e=Xn().memoizedState;return[t,e]},useMutableSource:Aw,useSyncExternalStore:Iw,useId:Kw,unstable_isNewReconciler:!1};function or(t,e){if(t&&t.defaultProps){e=st({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function o0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:st({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Wd={isMounted:function(t){return(t=t._reactInternals)?Oi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Xt(),s=Is(t),i=Hr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Os(t,i,s),e!==null&&(hr(e,t,s,r),Bc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Xt(),s=Is(t),i=Hr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Os(t,i,s),e!==null&&(hr(e,t,s,r),Bc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Xt(),r=Is(t),s=Hr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Os(t,s,r),e!==null&&(hr(e,t,r,n),Bc(e,t,r))}};function Zy(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Rl(n,r)||!Rl(s,i):!0}function Jw(t,e,n){var r=!1,s=Fs,i=e.contextType;return typeof i=="object"&&i!==null?i=Yn(i):(s=gn(e)?ki:Vt.current,r=e.contextTypes,i=(r=r!=null)?Uo(t,s):Fs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function ev(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Wd.enqueueReplaceState(e,e.state,null)}function a0(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Rg(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Yn(i):(i=gn(e)?ki:Vt.current,s.context=Uo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(o0(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Wd.enqueueReplaceState(s,s.state,null),md(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function $o(t,e){try{var n="",r=e;do n+=aS(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function tp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function l0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var I8=typeof WeakMap=="function"?WeakMap:Map;function Zw(t,e,n){n=Hr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){_d||(_d=!0,v0=r),l0(t,e)},n}function e4(t,e,n){n=Hr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){l0(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){l0(t,e),typeof r!="function"&&(As===null?As=new Set([this]):As.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function tv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new I8;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=K8.bind(null,t,e,n),e.then(t,t))}function nv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function rv(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Hr(-1,1),e.tag=2,Os(n,e,1))),n.lanes|=1),t)}var L8=Xr.ReactCurrentOwner,fn=!1;function Yt(t,e,n,r){e.child=t===null?Pw(e,null,n,r):Go(e,t.child,n,r)}function sv(t,e,n,r,s){n=n.render;var i=e.ref;return Lo(e,s),r=Mg(t,e,n,r,i,s),n=Dg(),t!==null&&!fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Yr(t,e,s)):(Qe&&n&&kg(e),e.flags|=1,Yt(t,e,r,s),e.child)}function iv(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!qg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,t4(t,e,i,r,s)):(t=qc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Rl,n(o,r)&&t.ref===e.ref)return Yr(t,e,s)}return e.flags|=1,t=Ls(i,r),t.ref=e.ref,t.return=e,e.child=t}function t4(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Rl(i,r)&&t.ref===e.ref)if(fn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(fn=!0);else return e.lanes=t.lanes,Yr(t,e,s)}return u0(t,e,n,r,s)}function n4(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Po,En),En|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,We(Po,En),En|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,We(Po,En),En|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,We(Po,En),En|=r;return Yt(t,e,s,n),e.child}function r4(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function u0(t,e,n,r,s){var i=gn(n)?ki:Vt.current;return i=Uo(e,i),Lo(e,s),n=Mg(t,e,n,r,i,s),r=Dg(),t!==null&&!fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Yr(t,e,s)):(Qe&&r&&kg(e),e.flags|=1,Yt(t,e,n,s),e.child)}function ov(t,e,n,r,s){if(gn(n)){var i=!0;dd(e)}else i=!1;if(Lo(e,s),e.stateNode===null)$c(t,e),Jw(e,n,r),a0(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,u=e.memoizedProps;o.props=u;var c=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=Yn(h):(h=gn(n)?ki:Vt.current,h=Uo(e,h));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==r||c!==h)&&ev(e,o,r,h),ws=!1;var y=e.memoizedState;o.state=y,md(e,r,o,s),c=e.memoizedState,u!==r||y!==c||pn.current||ws?(typeof p=="function"&&(o0(e,n,p,r),c=e.memoizedState),(u=ws||Zy(e,n,u,r,y,c,h))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=h,r=u):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Rw(t,e),u=e.memoizedProps,h=e.type===e.elementType?u:or(e.type,u),o.props=h,m=e.pendingProps,y=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Yn(c):(c=gn(n)?ki:Vt.current,c=Uo(e,c));var _=n.getDerivedStateFromProps;(p=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==m||y!==c)&&ev(e,o,r,c),ws=!1,y=e.memoizedState,o.state=y,md(e,r,o,s);var x=e.memoizedState;u!==m||y!==x||pn.current||ws?(typeof _=="function"&&(o0(e,n,_,r),x=e.memoizedState),(h=ws||Zy(e,n,h,r,y,x,c)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=c,r=h):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return c0(t,e,n,r,i,s)}function c0(t,e,n,r,s,i){r4(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Hy(e,n,!1),Yr(t,e,i);r=e.stateNode,L8.current=e;var u=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Go(e,t.child,null,i),e.child=Go(e,null,u,i)):Yt(t,e,u,i),e.memoizedState=r.state,s&&Hy(e,n,!0),e.child}function s4(t){var e=t.stateNode;e.pendingContext?$y(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$y(t,e.context,!1),Og(t,e.containerInfo)}function av(t,e,n,r,s){return Bo(),Cg(s),e.flags|=256,Yt(t,e,n,r),e.child}var d0={dehydrated:null,treeContext:null,retryLane:0};function h0(t){return{baseLanes:t,cachePool:null,transitions:null}}function i4(t,e,n){var r=e.pendingProps,s=nt.current,i=!1,o=(e.flags&128)!==0,u;if((u=o)||(u=t!==null&&t.memoizedState===null?!1:(s&2)!==0),u?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),We(nt,s&1),t===null)return s0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Vd(o,r,0,null),t=Si(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=h0(n),e.memoizedState=d0,t):Ug(e,o));if(s=t.memoizedState,s!==null&&(u=s.dehydrated,u!==null))return M8(t,e,o,r,u,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,u=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Ls(s,c),r.subtreeFlags=s.subtreeFlags&14680064),u!==null?i=Ls(u,i):(i=Si(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?h0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=d0,r}return i=t.child,t=i.sibling,r=Ls(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ug(t,e){return e=Vd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function uc(t,e,n,r){return r!==null&&Cg(r),Go(e,t.child,null,n),t=Ug(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function M8(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=tp(Error(Q(422))),uc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Vd({mode:"visible",children:r.children},s,0,null),i=Si(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Go(e,t.child,null,o),e.child.memoizedState=h0(o),e.memoizedState=d0,i);if(!(e.mode&1))return uc(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var u=r.dgst;return r=u,i=Error(Q(419)),r=tp(i,r,void 0),uc(t,e,o,r)}if(u=(o&t.childLanes)!==0,fn||u){if(r=Pt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Kr(t,s),hr(r,t,s,-1))}return Vg(),r=tp(Error(Q(421))),uc(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Y8.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Pn=Rs(s.nextSibling),Tn=e,Qe=!0,cr=null,t!==null&&($n[Hn++]=Wr,$n[Hn++]=$r,$n[Hn++]=Ei,Wr=t.id,$r=t.overflow,Ei=e),e=Ug(e,r.children),e.flags|=4096,e)}function lv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),i0(t.return,e,n)}function np(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function o4(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Yt(t,e,r.children,n),r=nt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lv(t,n,e);else if(t.tag===19)lv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(We(nt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&yd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),np(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&yd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}np(e,!0,n,null,i);break;case"together":np(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $c(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Yr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ji|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=Ls(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ls(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function D8(t,e,n){switch(e.tag){case 3:s4(e),Bo();break;case 5:Ow(e);break;case 1:gn(e.type)&&dd(e);break;case 4:Og(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;We(pd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(We(nt,nt.current&1),e.flags|=128,null):n&e.child.childLanes?i4(t,e,n):(We(nt,nt.current&1),t=Yr(t,e,n),t!==null?t.sibling:null);We(nt,nt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return o4(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),We(nt,nt.current),r)break;return null;case 22:case 23:return e.lanes=0,n4(t,e,n)}return Yr(t,e,n)}var a4,f0,l4,u4;a4=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};f0=function(){};l4=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,yi(Pr.current);var i=null;switch(n){case"input":s=Lp(t,s),r=Lp(t,r),i=[];break;case"select":s=st({},s,{value:void 0}),r=st({},r,{value:void 0}),i=[];break;case"textarea":s=Fp(t,s),r=Fp(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ud)}Up(n,r);var o;n=null;for(h in s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var u=s[h];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(kl.hasOwnProperty(h)?i||(i=[]):(i=i||[]).push(h,null));for(h in r){var c=r[h];if(u=s!=null?s[h]:void 0,r.hasOwnProperty(h)&&c!==u&&(c!=null||u!=null))if(h==="style")if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(i=i||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(kl.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&Ve("scroll",t),i||u===c||(i=[])):(i=i||[]).push(h,c))}n&&(i=i||[]).push("style",n);var h=i;(e.updateQueue=h)&&(e.flags|=4)}};u4=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ua(t,e){if(!Qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Gt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function F8(t,e,n){var r=e.pendingProps;switch(Eg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(e),null;case 1:return gn(e.type)&&cd(),Gt(e),null;case 3:return r=e.stateNode,Wo(),qe(pn),qe(Vt),Ig(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ac(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cr!==null&&(_0(cr),cr=null))),f0(t,e),Gt(e),null;case 5:Ag(e);var s=yi(Ml.current);if(n=e.type,t!==null&&e.stateNode!=null)l4(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return Gt(e),null}if(t=yi(Pr.current),ac(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[jr]=e,r[Il]=i,t=(e.mode&1)!==0,n){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(s=0;s<Qa.length;s++)Ve(Qa[s],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":yy(r,i),Ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ve("invalid",r);break;case"textarea":xy(r,i),Ve("invalid",r)}Up(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var u=i[o];o==="children"?typeof u=="string"?r.textContent!==u&&(i.suppressHydrationWarning!==!0&&oc(r.textContent,u,t),s=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&oc(r.textContent,u,t),s=["children",""+u]):kl.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&Ve("scroll",r)}switch(n){case"input":Ju(r),vy(r,i,!0);break;case"textarea":Ju(r),wy(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ud)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Dx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[jr]=e,t[Il]=r,a4(t,e,!1,!1),e.stateNode=t;e:{switch(o=Bp(n,r),n){case"dialog":Ve("cancel",t),Ve("close",t),s=r;break;case"iframe":case"object":case"embed":Ve("load",t),s=r;break;case"video":case"audio":for(s=0;s<Qa.length;s++)Ve(Qa[s],t);s=r;break;case"source":Ve("error",t),s=r;break;case"img":case"image":case"link":Ve("error",t),Ve("load",t),s=r;break;case"details":Ve("toggle",t),s=r;break;case"input":yy(t,r),s=Lp(t,r),Ve("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=st({},r,{value:void 0}),Ve("invalid",t);break;case"textarea":xy(t,r),s=Fp(t,r),Ve("invalid",t);break;default:s=r}Up(n,s),u=s;for(i in u)if(u.hasOwnProperty(i)){var c=u[i];i==="style"?Ux(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Fx(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&El(t,c):typeof c=="number"&&El(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(kl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ve("scroll",t):c!=null&&cg(t,i,c,o))}switch(n){case"input":Ju(t),vy(t,r,!1);break;case"textarea":Ju(t),wy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ds(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ro(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ro(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ud)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gt(e),null;case 6:if(t&&e.stateNode!=null)u4(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=yi(Ml.current),yi(Pr.current),ac(e)){if(r=e.stateNode,n=e.memoizedProps,r[jr]=e,(i=r.nodeValue!==n)&&(t=Tn,t!==null))switch(t.tag){case 3:oc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&oc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[jr]=e,e.stateNode=r}return Gt(e),null;case 13:if(qe(nt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&Pn!==null&&e.mode&1&&!(e.flags&128))jw(),Bo(),e.flags|=98560,i=!1;else if(i=ac(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Q(317));i[jr]=e}else Bo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gt(e),i=!1}else cr!==null&&(_0(cr),cr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||nt.current&1?St===0&&(St=3):Vg())),e.updateQueue!==null&&(e.flags|=4),Gt(e),null);case 4:return Wo(),f0(t,e),t===null&&Ol(e.stateNode.containerInfo),Gt(e),null;case 10:return Pg(e.type._context),Gt(e),null;case 17:return gn(e.type)&&cd(),Gt(e),null;case 19:if(qe(nt),i=e.memoizedState,i===null)return Gt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ua(i,!1);else{if(St!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=yd(t),o!==null){for(e.flags|=128,Ua(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return We(nt,nt.current&1|2),e.child}t=t.sibling}i.tail!==null&&lt()>Ho&&(e.flags|=128,r=!0,Ua(i,!1),e.lanes=4194304)}else{if(!r)if(t=yd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ua(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Qe)return Gt(e),null}else 2*lt()-i.renderingStartTime>Ho&&n!==1073741824&&(e.flags|=128,r=!0,Ua(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=lt(),e.sibling=null,n=nt.current,We(nt,r?n&1|2:n&1),e):(Gt(e),null);case 22:case 23:return Hg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?En&1073741824&&(Gt(e),e.subtreeFlags&6&&(e.flags|=8192)):Gt(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function z8(t,e){switch(Eg(e),e.tag){case 1:return gn(e.type)&&cd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Wo(),qe(pn),qe(Vt),Ig(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ag(e),null;case 13:if(qe(nt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));Bo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return qe(nt),null;case 4:return Wo(),null;case 10:return Pg(e.type._context),null;case 22:case 23:return Hg(),null;case 24:return null;default:return null}}var cc=!1,Wt=!1,U8=typeof WeakSet=="function"?WeakSet:Set,de=null;function No(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ot(t,e,r)}else n.current=null}function p0(t,e,n){try{n()}catch(r){ot(t,e,r)}}var uv=!1;function B8(t,e){if(Qp=od,t=pw(),bg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,u=-1,c=-1,h=0,p=0,m=t,y=null;t:for(;;){for(var _;m!==n||s!==0&&m.nodeType!==3||(u=o+s),m!==i||r!==0&&m.nodeType!==3||(c=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(_=m.firstChild)!==null;)y=m,m=_;for(;;){if(m===t)break t;if(y===n&&++h===s&&(u=o),y===i&&++p===r&&(c=o),(_=m.nextSibling)!==null)break;m=y,y=m.parentNode}m=_}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jp={focusedElem:t,selectionRange:n},od=!1,de=e;de!==null;)if(e=de,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,de=t;else for(;de!==null;){e=de;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var b=x.memoizedProps,C=x.memoizedState,k=e.stateNode,S=k.getSnapshotBeforeUpdate(e.elementType===e.type?b:or(e.type,b),C);k.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(N){ot(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,de=t;break}de=e.return}return x=uv,uv=!1,x}function fl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&p0(e,n,i)}s=s.next}while(s!==r)}}function $d(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function g0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function c4(t){var e=t.alternate;e!==null&&(t.alternate=null,c4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[jr],delete e[Il],delete e[t0],delete e[b8],delete e[k8])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function d4(t){return t.tag===5||t.tag===3||t.tag===4}function cv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||d4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function m0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ud));else if(r!==4&&(t=t.child,t!==null))for(m0(t,e,n),t=t.sibling;t!==null;)m0(t,e,n),t=t.sibling}function y0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(y0(t,e,n),t=t.sibling;t!==null;)y0(t,e,n),t=t.sibling}var At=null,lr=!1;function ps(t,e,n){for(n=n.child;n!==null;)h4(t,e,n),n=n.sibling}function h4(t,e,n){if(Nr&&typeof Nr.onCommitFiberUnmount=="function")try{Nr.onCommitFiberUnmount(Md,n)}catch{}switch(n.tag){case 5:Wt||No(n,e);case 6:var r=At,s=lr;At=null,ps(t,e,n),At=r,lr=s,At!==null&&(lr?(t=At,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):At.removeChild(n.stateNode));break;case 18:At!==null&&(lr?(t=At,n=n.stateNode,t.nodeType===8?Yf(t.parentNode,n):t.nodeType===1&&Yf(t,n),Pl(t)):Yf(At,n.stateNode));break;case 4:r=At,s=lr,At=n.stateNode.containerInfo,lr=!0,ps(t,e,n),At=r,lr=s;break;case 0:case 11:case 14:case 15:if(!Wt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&p0(n,e,o),s=s.next}while(s!==r)}ps(t,e,n);break;case 1:if(!Wt&&(No(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){ot(n,e,u)}ps(t,e,n);break;case 21:ps(t,e,n);break;case 22:n.mode&1?(Wt=(r=Wt)||n.memoizedState!==null,ps(t,e,n),Wt=r):ps(t,e,n);break;default:ps(t,e,n)}}function dv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new U8),e.forEach(function(r){var s=X8.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function sr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,u=o;e:for(;u!==null;){switch(u.tag){case 5:At=u.stateNode,lr=!1;break e;case 3:At=u.stateNode.containerInfo,lr=!0;break e;case 4:At=u.stateNode.containerInfo,lr=!0;break e}u=u.return}if(At===null)throw Error(Q(160));h4(i,o,s),At=null,lr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(h){ot(s,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)f4(e,t),e=e.sibling}function f4(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(sr(e,t),kr(t),r&4){try{fl(3,t,t.return),$d(3,t)}catch(b){ot(t,t.return,b)}try{fl(5,t,t.return)}catch(b){ot(t,t.return,b)}}break;case 1:sr(e,t),kr(t),r&512&&n!==null&&No(n,n.return);break;case 5:if(sr(e,t),kr(t),r&512&&n!==null&&No(n,n.return),t.flags&32){var s=t.stateNode;try{El(s,"")}catch(b){ot(t,t.return,b)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&Lx(s,i),Bp(u,o);var h=Bp(u,i);for(o=0;o<c.length;o+=2){var p=c[o],m=c[o+1];p==="style"?Ux(s,m):p==="dangerouslySetInnerHTML"?Fx(s,m):p==="children"?El(s,m):cg(s,p,m,h)}switch(u){case"input":Mp(s,i);break;case"textarea":Mx(s,i);break;case"select":var y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var _=i.value;_!=null?Ro(s,!!i.multiple,_,!1):y!==!!i.multiple&&(i.defaultValue!=null?Ro(s,!!i.multiple,i.defaultValue,!0):Ro(s,!!i.multiple,i.multiple?[]:"",!1))}s[Il]=i}catch(b){ot(t,t.return,b)}}break;case 6:if(sr(e,t),kr(t),r&4){if(t.stateNode===null)throw Error(Q(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(b){ot(t,t.return,b)}}break;case 3:if(sr(e,t),kr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pl(e.containerInfo)}catch(b){ot(t,t.return,b)}break;case 4:sr(e,t),kr(t);break;case 13:sr(e,t),kr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Wg=lt())),r&4&&dv(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(Wt=(h=Wt)||p,sr(e,t),Wt=h):sr(e,t),kr(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!p&&t.mode&1)for(de=t,p=t.child;p!==null;){for(m=de=p;de!==null;){switch(y=de,_=y.child,y.tag){case 0:case 11:case 14:case 15:fl(4,y,y.return);break;case 1:No(y,y.return);var x=y.stateNode;if(typeof x.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(b){ot(r,n,b)}}break;case 5:No(y,y.return);break;case 22:if(y.memoizedState!==null){fv(m);continue}}_!==null?(_.return=y,de=_):fv(m)}p=p.sibling}e:for(p=null,m=t;;){if(m.tag===5){if(p===null){p=m;try{s=m.stateNode,h?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=zx("display",o))}catch(b){ot(t,t.return,b)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=h?"":m.memoizedProps}catch(b){ot(t,t.return,b)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:sr(e,t),kr(t),r&4&&dv(t);break;case 21:break;default:sr(e,t),kr(t)}}function kr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(d4(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(El(s,""),r.flags&=-33);var i=cv(t);y0(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,u=cv(t);m0(t,u,o);break;default:throw Error(Q(161))}}catch(c){ot(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function G8(t,e,n){de=t,p4(t)}function p4(t,e,n){for(var r=(t.mode&1)!==0;de!==null;){var s=de,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||cc;if(!o){var u=s.alternate,c=u!==null&&u.memoizedState!==null||Wt;u=cc;var h=Wt;if(cc=o,(Wt=c)&&!h)for(de=s;de!==null;)o=de,c=o.child,o.tag===22&&o.memoizedState!==null?pv(s):c!==null?(c.return=o,de=c):pv(s);for(;i!==null;)de=i,p4(i),i=i.sibling;de=s,cc=u,Wt=h}hv(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,de=i):hv(t)}}function hv(t){for(;de!==null;){var e=de;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wt||$d(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Wt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:or(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Xy(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Xy(e,o,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&Pl(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}Wt||e.flags&512&&g0(e)}catch(y){ot(e,e.return,y)}}if(e===t){de=null;break}if(n=e.sibling,n!==null){n.return=e.return,de=n;break}de=e.return}}function fv(t){for(;de!==null;){var e=de;if(e===t){de=null;break}var n=e.sibling;if(n!==null){n.return=e.return,de=n;break}de=e.return}}function pv(t){for(;de!==null;){var e=de;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{$d(4,e)}catch(c){ot(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){ot(e,s,c)}}var i=e.return;try{g0(e)}catch(c){ot(e,i,c)}break;case 5:var o=e.return;try{g0(e)}catch(c){ot(e,o,c)}}}catch(c){ot(e,e.return,c)}if(e===t){de=null;break}var u=e.sibling;if(u!==null){u.return=e.return,de=u;break}de=e.return}}var W8=Math.ceil,wd=Xr.ReactCurrentDispatcher,Bg=Xr.ReactCurrentOwner,Kn=Xr.ReactCurrentBatchConfig,Te=0,Pt=null,pt=null,It=0,En=0,Po=Us(0),St=0,Ul=null,ji=0,Hd=0,Gg=0,pl=null,dn=null,Wg=0,Ho=1/0,Ur=null,_d=!1,v0=null,As=null,dc=!1,Cs=null,Sd=0,gl=0,x0=null,Hc=-1,Vc=0;function Xt(){return Te&6?lt():Hc!==-1?Hc:Hc=lt()}function Is(t){return t.mode&1?Te&2&&It!==0?It&-It:C8.transition!==null?(Vc===0&&(Vc=Jx()),Vc):(t=Le,t!==0||(t=window.event,t=t===void 0?16:iw(t.type)),t):1}function hr(t,e,n,r){if(50<gl)throw gl=0,x0=null,Error(Q(185));Kl(t,n,r),(!(Te&2)||t!==Pt)&&(t===Pt&&(!(Te&2)&&(Hd|=n),St===4&&Ss(t,It)),mn(t,r),n===1&&Te===0&&!(e.mode&1)&&(Ho=lt()+500,Bd&&Bs()))}function mn(t,e){var n=t.callbackNode;CS(t,e);var r=id(t,t===Pt?It:0);if(r===0)n!==null&&by(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&by(n),e===1)t.tag===0?E8(gv.bind(null,t)):kw(gv.bind(null,t)),_8(function(){!(Te&6)&&Bs()}),n=null;else{switch(Zx(r)){case 1:n=gg;break;case 4:n=Xx;break;case 16:n=sd;break;case 536870912:n=Qx;break;default:n=sd}n=S4(n,g4.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function g4(t,e){if(Hc=-1,Vc=0,Te&6)throw Error(Q(327));var n=t.callbackNode;if(Mo()&&t.callbackNode!==n)return null;var r=id(t,t===Pt?It:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=bd(t,r);else{e=r;var s=Te;Te|=2;var i=y4();(Pt!==t||It!==e)&&(Ur=null,Ho=lt()+500,_i(t,e));do try{V8();break}catch(u){m4(t,u)}while(!0);Ng(),wd.current=i,Te=s,pt!==null?e=0:(Pt=null,It=0,e=St)}if(e!==0){if(e===2&&(s=Vp(t),s!==0&&(r=s,e=w0(t,s))),e===1)throw n=Ul,_i(t,0),Ss(t,r),mn(t,lt()),n;if(e===6)Ss(t,r);else{if(s=t.current.alternate,!(r&30)&&!$8(s)&&(e=bd(t,r),e===2&&(i=Vp(t),i!==0&&(r=i,e=w0(t,i))),e===1))throw n=Ul,_i(t,0),Ss(t,r),mn(t,lt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:di(t,dn,Ur);break;case 3:if(Ss(t,r),(r&130023424)===r&&(e=Wg+500-lt(),10<e)){if(id(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Xt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=e0(di.bind(null,t,dn,Ur),e);break}di(t,dn,Ur);break;case 4:if(Ss(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-dr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*W8(r/1960))-r,10<r){t.timeoutHandle=e0(di.bind(null,t,dn,Ur),r);break}di(t,dn,Ur);break;case 5:di(t,dn,Ur);break;default:throw Error(Q(329))}}}return mn(t,lt()),t.callbackNode===n?g4.bind(null,t):null}function w0(t,e){var n=pl;return t.current.memoizedState.isDehydrated&&(_i(t,e).flags|=256),t=bd(t,e),t!==2&&(e=dn,dn=n,e!==null&&_0(e)),t}function _0(t){dn===null?dn=t:dn.push.apply(dn,t)}function $8(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!fr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ss(t,e){for(e&=~Gg,e&=~Hd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-dr(e),r=1<<n;t[n]=-1,e&=~r}}function gv(t){if(Te&6)throw Error(Q(327));Mo();var e=id(t,0);if(!(e&1))return mn(t,lt()),null;var n=bd(t,e);if(t.tag!==0&&n===2){var r=Vp(t);r!==0&&(e=r,n=w0(t,r))}if(n===1)throw n=Ul,_i(t,0),Ss(t,e),mn(t,lt()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,di(t,dn,Ur),mn(t,lt()),null}function $g(t,e){var n=Te;Te|=1;try{return t(e)}finally{Te=n,Te===0&&(Ho=lt()+500,Bd&&Bs())}}function Ni(t){Cs!==null&&Cs.tag===0&&!(Te&6)&&Mo();var e=Te;Te|=1;var n=Kn.transition,r=Le;try{if(Kn.transition=null,Le=1,t)return t()}finally{Le=r,Kn.transition=n,Te=e,!(Te&6)&&Bs()}}function Hg(){En=Po.current,qe(Po)}function _i(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,w8(n)),pt!==null)for(n=pt.return;n!==null;){var r=n;switch(Eg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&cd();break;case 3:Wo(),qe(pn),qe(Vt),Ig();break;case 5:Ag(r);break;case 4:Wo();break;case 13:qe(nt);break;case 19:qe(nt);break;case 10:Pg(r.type._context);break;case 22:case 23:Hg()}n=n.return}if(Pt=t,pt=t=Ls(t.current,null),It=En=e,St=0,Ul=null,Gg=Hd=ji=0,dn=pl=null,mi!==null){for(e=0;e<mi.length;e++)if(n=mi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}mi=null}return t}function m4(t,e){do{var n=pt;try{if(Ng(),Gc.current=xd,vd){for(var r=rt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}vd=!1}if(Ci=0,Nt=_t=rt=null,hl=!1,Dl=0,Bg.current=null,n===null||n.return===null){St=1,Ul=e,pt=null;break}e:{var i=t,o=n.return,u=n,c=e;if(e=It,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,p=u,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var y=p.alternate;y?(p.updateQueue=y.updateQueue,p.memoizedState=y.memoizedState,p.lanes=y.lanes):(p.updateQueue=null,p.memoizedState=null)}var _=nv(o);if(_!==null){_.flags&=-257,rv(_,o,u,i,e),_.mode&1&&tv(i,h,e),e=_,c=h;var x=e.updateQueue;if(x===null){var b=new Set;b.add(c),e.updateQueue=b}else x.add(c);break e}else{if(!(e&1)){tv(i,h,e),Vg();break e}c=Error(Q(426))}}else if(Qe&&u.mode&1){var C=nv(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),rv(C,o,u,i,e),Cg($o(c,u));break e}}i=c=$o(c,u),St!==4&&(St=2),pl===null?pl=[i]:pl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var k=Zw(i,c,e);Yy(i,k);break e;case 1:u=c;var S=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof S.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(As===null||!As.has(E)))){i.flags|=65536,e&=-e,i.lanes|=e;var N=e4(i,u,e);Yy(i,N);break e}}i=i.return}while(i!==null)}x4(n)}catch(O){e=O,pt===n&&n!==null&&(pt=n=n.return);continue}break}while(!0)}function y4(){var t=wd.current;return wd.current=xd,t===null?xd:t}function Vg(){(St===0||St===3||St===2)&&(St=4),Pt===null||!(ji&268435455)&&!(Hd&268435455)||Ss(Pt,It)}function bd(t,e){var n=Te;Te|=2;var r=y4();(Pt!==t||It!==e)&&(Ur=null,_i(t,e));do try{H8();break}catch(s){m4(t,s)}while(!0);if(Ng(),Te=n,wd.current=r,pt!==null)throw Error(Q(261));return Pt=null,It=0,St}function H8(){for(;pt!==null;)v4(pt)}function V8(){for(;pt!==null&&!yS();)v4(pt)}function v4(t){var e=_4(t.alternate,t,En);t.memoizedProps=t.pendingProps,e===null?x4(t):pt=e,Bg.current=null}function x4(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=z8(n,e),n!==null){n.flags&=32767,pt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{St=6,pt=null;return}}else if(n=F8(n,e,En),n!==null){pt=n;return}if(e=e.sibling,e!==null){pt=e;return}pt=e=t}while(e!==null);St===0&&(St=5)}function di(t,e,n){var r=Le,s=Kn.transition;try{Kn.transition=null,Le=1,q8(t,e,n,r)}finally{Kn.transition=s,Le=r}return null}function q8(t,e,n,r){do Mo();while(Cs!==null);if(Te&6)throw Error(Q(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(jS(t,i),t===Pt&&(pt=Pt=null,It=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||dc||(dc=!0,S4(sd,function(){return Mo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Kn.transition,Kn.transition=null;var o=Le;Le=1;var u=Te;Te|=4,Bg.current=null,B8(t,n),f4(n,t),f8(Jp),od=!!Qp,Jp=Qp=null,t.current=n,G8(n),vS(),Te=u,Le=o,Kn.transition=i}else t.current=n;if(dc&&(dc=!1,Cs=t,Sd=s),i=t.pendingLanes,i===0&&(As=null),_S(n.stateNode),mn(t,lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(_d)throw _d=!1,t=v0,v0=null,t;return Sd&1&&t.tag!==0&&Mo(),i=t.pendingLanes,i&1?t===x0?gl++:(gl=0,x0=t):gl=0,Bs(),null}function Mo(){if(Cs!==null){var t=Zx(Sd),e=Kn.transition,n=Le;try{if(Kn.transition=null,Le=16>t?16:t,Cs===null)var r=!1;else{if(t=Cs,Cs=null,Sd=0,Te&6)throw Error(Q(331));var s=Te;for(Te|=4,de=t.current;de!==null;){var i=de,o=i.child;if(de.flags&16){var u=i.deletions;if(u!==null){for(var c=0;c<u.length;c++){var h=u[c];for(de=h;de!==null;){var p=de;switch(p.tag){case 0:case 11:case 15:fl(8,p,i)}var m=p.child;if(m!==null)m.return=p,de=m;else for(;de!==null;){p=de;var y=p.sibling,_=p.return;if(c4(p),p===h){de=null;break}if(y!==null){y.return=_,de=y;break}de=_}}}var x=i.alternate;if(x!==null){var b=x.child;if(b!==null){x.child=null;do{var C=b.sibling;b.sibling=null,b=C}while(b!==null)}}de=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,de=o;else e:for(;de!==null;){if(i=de,i.flags&2048)switch(i.tag){case 0:case 11:case 15:fl(9,i,i.return)}var k=i.sibling;if(k!==null){k.return=i.return,de=k;break e}de=i.return}}var S=t.current;for(de=S;de!==null;){o=de;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,de=E;else e:for(o=S;de!==null;){if(u=de,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:$d(9,u)}}catch(O){ot(u,u.return,O)}if(u===o){de=null;break e}var N=u.sibling;if(N!==null){N.return=u.return,de=N;break e}de=u.return}}if(Te=s,Bs(),Nr&&typeof Nr.onPostCommitFiberRoot=="function")try{Nr.onPostCommitFiberRoot(Md,t)}catch{}r=!0}return r}finally{Le=n,Kn.transition=e}}return!1}function mv(t,e,n){e=$o(n,e),e=Zw(t,e,1),t=Os(t,e,1),e=Xt(),t!==null&&(Kl(t,1,e),mn(t,e))}function ot(t,e,n){if(t.tag===3)mv(t,t,n);else for(;e!==null;){if(e.tag===3){mv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(As===null||!As.has(r))){t=$o(n,t),t=e4(e,t,1),e=Os(e,t,1),t=Xt(),e!==null&&(Kl(e,1,t),mn(e,t));break}}e=e.return}}function K8(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Xt(),t.pingedLanes|=t.suspendedLanes&n,Pt===t&&(It&n)===n&&(St===4||St===3&&(It&130023424)===It&&500>lt()-Wg?_i(t,0):Gg|=n),mn(t,e)}function w4(t,e){e===0&&(t.mode&1?(e=tc,tc<<=1,!(tc&130023424)&&(tc=4194304)):e=1);var n=Xt();t=Kr(t,e),t!==null&&(Kl(t,e,n),mn(t,n))}function Y8(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),w4(t,n)}function X8(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),w4(t,n)}var _4;_4=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||pn.current)fn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return fn=!1,D8(t,e,n);fn=!!(t.flags&131072)}else fn=!1,Qe&&e.flags&1048576&&Ew(e,fd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;$c(t,e),t=e.pendingProps;var s=Uo(e,Vt.current);Lo(e,n),s=Mg(null,e,r,t,s,n);var i=Dg();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gn(r)?(i=!0,dd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Rg(e),s.updater=Wd,e.stateNode=s,s._reactInternals=e,a0(e,r,t,n),e=c0(null,e,r,!0,i,n)):(e.tag=0,Qe&&i&&kg(e),Yt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch($c(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=J8(r),t=or(r,t),s){case 0:e=u0(null,e,r,t,n);break e;case 1:e=ov(null,e,r,t,n);break e;case 11:e=sv(null,e,r,t,n);break e;case 14:e=iv(null,e,r,or(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:or(r,s),u0(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:or(r,s),ov(t,e,r,s,n);case 3:e:{if(s4(e),t===null)throw Error(Q(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Rw(t,e),md(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=$o(Error(Q(423)),e),e=av(t,e,r,n,s);break e}else if(r!==s){s=$o(Error(Q(424)),e),e=av(t,e,r,n,s);break e}else for(Pn=Rs(e.stateNode.containerInfo.firstChild),Tn=e,Qe=!0,cr=null,n=Pw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Bo(),r===s){e=Yr(t,e,n);break e}Yt(t,e,r,n)}e=e.child}return e;case 5:return Ow(e),t===null&&s0(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Zp(r,s)?o=null:i!==null&&Zp(r,i)&&(e.flags|=32),r4(t,e),Yt(t,e,o,n),e.child;case 6:return t===null&&s0(e),null;case 13:return i4(t,e,n);case 4:return Og(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Go(e,null,r,n):Yt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:or(r,s),sv(t,e,r,s,n);case 7:return Yt(t,e,e.pendingProps,n),e.child;case 8:return Yt(t,e,e.pendingProps.children,n),e.child;case 12:return Yt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,We(pd,r._currentValue),r._currentValue=o,i!==null)if(fr(i.value,o)){if(i.children===s.children&&!pn.current){e=Yr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var u=i.dependencies;if(u!==null){o=i.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Hr(-1,n&-n),c.tag=2;var h=i.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?c.next=c:(c.next=p.next,p.next=c),h.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),i0(i.return,n,e),u.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Q(341));o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),i0(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Yt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Lo(e,n),s=Yn(s),r=r(s),e.flags|=1,Yt(t,e,r,n),e.child;case 14:return r=e.type,s=or(r,e.pendingProps),s=or(r.type,s),iv(t,e,r,s,n);case 15:return t4(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:or(r,s),$c(t,e),e.tag=1,gn(r)?(t=!0,dd(e)):t=!1,Lo(e,n),Jw(e,r,s),a0(e,r,s,n),c0(null,e,r,!0,t,n);case 19:return o4(t,e,n);case 22:return n4(t,e,n)}throw Error(Q(156,e.tag))};function S4(t,e){return Yx(t,e)}function Q8(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(t,e,n,r){return new Q8(t,e,n,r)}function qg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function J8(t){if(typeof t=="function")return qg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===hg)return 11;if(t===fg)return 14}return 2}function Ls(t,e){var n=t.alternate;return n===null?(n=qn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function qc(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")qg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case xo:return Si(n.children,s,i,e);case dg:o=8,s|=8;break;case Rp:return t=qn(12,n,e,s|2),t.elementType=Rp,t.lanes=i,t;case Op:return t=qn(13,n,e,s),t.elementType=Op,t.lanes=i,t;case Ap:return t=qn(19,n,e,s),t.elementType=Ap,t.lanes=i,t;case Ox:return Vd(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Tx:o=10;break e;case Rx:o=9;break e;case hg:o=11;break e;case fg:o=14;break e;case xs:o=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=qn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Si(t,e,n,r){return t=qn(7,t,r,e),t.lanes=n,t}function Vd(t,e,n,r){return t=qn(22,t,r,e),t.elementType=Ox,t.lanes=n,t.stateNode={isHidden:!1},t}function rp(t,e,n){return t=qn(6,t,null,e),t.lanes=n,t}function sp(t,e,n){return e=qn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Z8(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ff(0),this.expirationTimes=Ff(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ff(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Kg(t,e,n,r,s,i,o,u,c){return t=new Z8(t,e,n,u,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=qn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rg(i),t}function eb(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function b4(t){if(!t)return Fs;t=t._reactInternals;e:{if(Oi(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(gn(n))return bw(t,n,e)}return e}function k4(t,e,n,r,s,i,o,u,c){return t=Kg(n,r,!0,t,s,i,o,u,c),t.context=b4(null),n=t.current,r=Xt(),s=Is(n),i=Hr(r,s),i.callback=e??null,Os(n,i,s),t.current.lanes=s,Kl(t,s,r),mn(t,r),t}function qd(t,e,n,r){var s=e.current,i=Xt(),o=Is(s);return n=b4(n),e.context===null?e.context=n:e.pendingContext=n,e=Hr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Os(s,e,o),t!==null&&(hr(t,s,o,i),Bc(t,s,o)),o}function kd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function yv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Yg(t,e){yv(t,e),(t=t.alternate)&&yv(t,e)}function tb(){return null}var E4=typeof reportError=="function"?reportError:function(t){console.error(t)};function Xg(t){this._internalRoot=t}Kd.prototype.render=Xg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));qd(t,e,null,null)};Kd.prototype.unmount=Xg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ni(function(){qd(null,t,null,null)}),e[qr]=null}};function Kd(t){this._internalRoot=t}Kd.prototype.unstable_scheduleHydration=function(t){if(t){var e=nw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_s.length&&e!==0&&e<_s[n].priority;n++);_s.splice(n,0,t),n===0&&sw(t)}};function Qg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function vv(){}function nb(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var h=kd(o);i.call(h)}}var o=k4(e,r,t,0,null,!1,!1,"",vv);return t._reactRootContainer=o,t[qr]=o.current,Ol(t.nodeType===8?t.parentNode:t),Ni(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var u=r;r=function(){var h=kd(c);u.call(h)}}var c=Kg(t,0,!1,null,null,!1,!1,"",vv);return t._reactRootContainer=c,t[qr]=c.current,Ol(t.nodeType===8?t.parentNode:t),Ni(function(){qd(e,c,n,r)}),c}function Xd(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var u=s;s=function(){var c=kd(o);u.call(c)}}qd(e,o,t,s)}else o=nb(n,e,t,s,r);return kd(o)}ew=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Xa(e.pendingLanes);n!==0&&(mg(e,n|1),mn(e,lt()),!(Te&6)&&(Ho=lt()+500,Bs()))}break;case 13:Ni(function(){var r=Kr(t,1);if(r!==null){var s=Xt();hr(r,t,1,s)}}),Yg(t,1)}};yg=function(t){if(t.tag===13){var e=Kr(t,134217728);if(e!==null){var n=Xt();hr(e,t,134217728,n)}Yg(t,134217728)}};tw=function(t){if(t.tag===13){var e=Is(t),n=Kr(t,e);if(n!==null){var r=Xt();hr(n,t,e,r)}Yg(t,e)}};nw=function(){return Le};rw=function(t,e){var n=Le;try{return Le=t,e()}finally{Le=n}};Wp=function(t,e,n){switch(e){case"input":if(Mp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ud(r);if(!s)throw Error(Q(90));Ix(r),Mp(r,s)}}}break;case"textarea":Mx(t,n);break;case"select":e=n.value,e!=null&&Ro(t,!!n.multiple,e,!1)}};Wx=$g;$x=Ni;var rb={usingClientEntryPoint:!1,Events:[Xl,bo,Ud,Bx,Gx,$g]},Ba={findFiberByHostInstance:gi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sb={bundleType:Ba.bundleType,version:Ba.version,rendererPackageName:Ba.rendererPackageName,rendererConfig:Ba.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=qx(t),t===null?null:t.stateNode},findFiberByHostInstance:Ba.findFiberByHostInstance||tb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{Md=hc.inject(sb),Nr=hc}catch{}}An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rb;An.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qg(e))throw Error(Q(200));return eb(t,e,null,n)};An.createRoot=function(t,e){if(!Qg(t))throw Error(Q(299));var n=!1,r="",s=E4;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Kg(t,1,!1,null,null,n,!1,r,s),t[qr]=e.current,Ol(t.nodeType===8?t.parentNode:t),new Xg(e)};An.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=qx(e),t=t===null?null:t.stateNode,t};An.flushSync=function(t){return Ni(t)};An.hydrate=function(t,e,n){if(!Yd(e))throw Error(Q(200));return Xd(null,t,e,!0,n)};An.hydrateRoot=function(t,e,n){if(!Qg(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=E4;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=k4(e,null,t,1,n??null,s,!1,i,o),t[qr]=e.current,Ol(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Kd(e)};An.render=function(t,e,n){if(!Yd(e))throw Error(Q(200));return Xd(null,t,e,!1,n)};An.unmountComponentAtNode=function(t){if(!Yd(t))throw Error(Q(40));return t._reactRootContainer?(Ni(function(){Xd(null,null,t,!1,function(){t._reactRootContainer=null,t[qr]=null})}),!0):!1};An.unstable_batchedUpdates=$g;An.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Yd(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return Xd(t,e,n,!1,r)};An.version="18.3.1-next-f1338f8080-20240426";function C4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(C4)}catch(t){console.error(t)}}C4(),Cx.exports=An;var ib=Cx.exports,xv=ib;Pp.createRoot=xv.createRoot,Pp.hydrateRoot=xv.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bl(){return Bl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bl.apply(this,arguments)}var js;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(js||(js={}));const wv="popstate";function ob(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:u}=r.location;return S0("",{pathname:i,search:o,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ed(s)}return lb(e,n,null,t)}function ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function j4(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ab(){return Math.random().toString(36).substr(2,8)}function _v(t,e){return{usr:t.state,key:t.key,idx:e}}function S0(t,e,n,r){return n===void 0&&(n=null),Bl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ta(e):e,{state:n,key:e&&e.key||r||ab()})}function Ed(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ta(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function lb(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,u=js.Pop,c=null,h=p();h==null&&(h=0,o.replaceState(Bl({},o.state,{idx:h}),""));function p(){return(o.state||{idx:null}).idx}function m(){u=js.Pop;let C=p(),k=C==null?null:C-h;h=C,c&&c({action:u,location:b.location,delta:k})}function y(C,k){u=js.Push;let S=S0(b.location,C,k);h=p()+1;let E=_v(S,h),N=b.createHref(S);try{o.pushState(E,"",N)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(N)}i&&c&&c({action:u,location:b.location,delta:1})}function _(C,k){u=js.Replace;let S=S0(b.location,C,k);h=p();let E=_v(S,h),N=b.createHref(S);o.replaceState(E,"",N),i&&c&&c({action:u,location:b.location,delta:0})}function x(C){let k=s.location.origin!=="null"?s.location.origin:s.location.href,S=typeof C=="string"?C:Ed(C);return S=S.replace(/ $/,"%20"),ut(k,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,k)}let b={get action(){return u},get location(){return t(s,o)},listen(C){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(wv,m),c=C,()=>{s.removeEventListener(wv,m),c=null}},createHref(C){return e(s,C)},createURL:x,encodeLocation(C){let k=x(C);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:y,replace:_,go(C){return o.go(C)}};return b}var Sv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Sv||(Sv={}));function ub(t,e,n){return n===void 0&&(n="/"),cb(t,e,n)}function cb(t,e,n,r){let s=typeof e=="string"?ta(e):e,i=Jg(s.pathname||"/",n);if(i==null)return null;let o=N4(t);db(o);let u=null;for(let c=0;u==null&&c<o.length;++c){let h=bb(i);u=wb(o[c],h)}return u}function N4(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,u)=>{let c={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(ut(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let h=Ms([r,c.relativePath]),p=n.concat(c);i.children&&i.children.length>0&&(ut(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),N4(i.children,e,p,h)),!(i.path==null&&!i.index)&&e.push({path:h,score:vb(h,i.index),routesMeta:p})};return t.forEach((i,o)=>{var u;if(i.path===""||!((u=i.path)!=null&&u.includes("?")))s(i,o);else for(let c of P4(i.path))s(i,o,c)}),e}function P4(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=P4(r.join("/")),u=[];return u.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&u.push(...o),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function db(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:xb(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const hb=/^:[\w-]+$/,fb=3,pb=2,gb=1,mb=10,yb=-2,bv=t=>t==="*";function vb(t,e){let n=t.split("/"),r=n.length;return n.some(bv)&&(r+=yb),e&&(r+=pb),n.filter(s=>!bv(s)).reduce((s,i)=>s+(hb.test(i)?fb:i===""?gb:mb),r)}function xb(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function wb(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let u=0;u<r.length;++u){let c=r[u],h=u===r.length-1,p=i==="/"?e:e.slice(i.length)||"/",m=_b({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},p),y=c.route;if(!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:Ms([i,m.pathname]),pathnameBase:jb(Ms([i,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(i=Ms([i,m.pathnameBase]))}return o}function _b(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Sb(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((h,p,m)=>{let{paramName:y,isOptional:_}=p;if(y==="*"){let b=u[m]||"";o=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const x=u[m];return _&&!x?h[y]=void 0:h[y]=(x||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:o,pattern:t}}function Sb(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),j4(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function bb(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return j4(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Jg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function kb(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ta(t):t;return{pathname:n?n.startsWith("/")?n:Eb(n,e):e,search:Nb(r),hash:Pb(s)}}function Eb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ip(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Cb(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Zg(t,e){let n=Cb(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function em(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ta(t):(s=Bl({},t),ut(!s.pathname||!s.pathname.includes("?"),ip("?","pathname","search",s)),ut(!s.pathname||!s.pathname.includes("#"),ip("#","pathname","hash",s)),ut(!s.search||!s.search.includes("#"),ip("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,u;if(o==null)u=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),m-=1;s.pathname=y.join("/")}u=m>=0?e[m]:"/"}let c=kb(s,u),h=o&&o!=="/"&&o.endsWith("/"),p=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||p)&&(c.pathname+="/"),c}const Ms=t=>t.join("/").replace(/\/\/+/g,"/"),jb=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Nb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Pb=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Tb(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const T4=["post","put","patch","delete"];new Set(T4);const Rb=["get",...T4];new Set(Rb);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gl(){return Gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gl.apply(this,arguments)}const tm=A.createContext(null),Ob=A.createContext(null),Gs=A.createContext(null),Qd=A.createContext(null),Qr=A.createContext({outlet:null,matches:[],isDataRoute:!1}),R4=A.createContext(null);function Ab(t,e){let{relative:n}=e===void 0?{}:e;na()||ut(!1);let{basename:r,navigator:s}=A.useContext(Gs),{hash:i,pathname:o,search:u}=I4(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Ms([r,o])),s.createHref({pathname:c,search:u,hash:i})}function na(){return A.useContext(Qd)!=null}function Jr(){return na()||ut(!1),A.useContext(Qd).location}function O4(t){A.useContext(Gs).static||A.useLayoutEffect(t)}function Zr(){let{isDataRoute:t}=A.useContext(Qr);return t?Vb():Ib()}function Ib(){na()||ut(!1);let t=A.useContext(tm),{basename:e,future:n,navigator:r}=A.useContext(Gs),{matches:s}=A.useContext(Qr),{pathname:i}=Jr(),o=JSON.stringify(Zg(s,n.v7_relativeSplatPath)),u=A.useRef(!1);return O4(()=>{u.current=!0}),A.useCallback(function(h,p){if(p===void 0&&(p={}),!u.current)return;if(typeof h=="number"){r.go(h);return}let m=em(h,JSON.parse(o),i,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Ms([e,m.pathname])),(p.replace?r.replace:r.push)(m,p.state,p)},[e,r,o,i,t])}function A4(){let{matches:t}=A.useContext(Qr),e=t[t.length-1];return e?e.params:{}}function I4(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=A.useContext(Gs),{matches:s}=A.useContext(Qr),{pathname:i}=Jr(),o=JSON.stringify(Zg(s,r.v7_relativeSplatPath));return A.useMemo(()=>em(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function Lb(t,e){return Mb(t,e)}function Mb(t,e,n,r){na()||ut(!1);let{navigator:s}=A.useContext(Gs),{matches:i}=A.useContext(Qr),o=i[i.length-1],u=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let h=Jr(),p;if(e){var m;let C=typeof e=="string"?ta(e):e;c==="/"||(m=C.pathname)!=null&&m.startsWith(c)||ut(!1),p=C}else p=h;let y=p.pathname||"/",_=y;if(c!=="/"){let C=c.replace(/^\//,"").split("/");_="/"+y.replace(/^\//,"").split("/").slice(C.length).join("/")}let x=ub(t,{pathname:_}),b=Bb(x&&x.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:Ms([c,s.encodeLocation?s.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?c:Ms([c,s.encodeLocation?s.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),i,n,r);return e&&b?A.createElement(Qd.Provider,{value:{location:Gl({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:js.Pop}},b):b}function Db(){let t=Hb(),e=Tb(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:s},n):null,null)}const Fb=A.createElement(Db,null);class zb extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?A.createElement(Qr.Provider,{value:this.props.routeContext},A.createElement(R4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ub(t){let{routeContext:e,match:n,children:r}=t,s=A.useContext(tm);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(Qr.Provider,{value:e},r)}function Bb(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,u=(s=n)==null?void 0:s.errors;if(u!=null){let p=o.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);p>=0||ut(!1),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<o.length;p++){let m=o[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:y,errors:_}=n,x=m.route.loader&&y[m.route.id]===void 0&&(!_||_[m.route.id]===void 0);if(m.route.lazy||x){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((p,m,y)=>{let _,x=!1,b=null,C=null;n&&(_=u&&m.route.id?u[m.route.id]:void 0,b=m.route.errorElement||Fb,c&&(h<0&&y===0?(qb("route-fallback"),x=!0,C=null):h===y&&(x=!0,C=m.route.hydrateFallbackElement||null)));let k=e.concat(o.slice(0,y+1)),S=()=>{let E;return _?E=b:x?E=C:m.route.Component?E=A.createElement(m.route.Component,null):m.route.element?E=m.route.element:E=p,A.createElement(Ub,{match:m,routeContext:{outlet:p,matches:k,isDataRoute:n!=null},children:E})};return n&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?A.createElement(zb,{location:n.location,revalidation:n.revalidation,component:b,error:_,children:S(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):S()},null)}var L4=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(L4||{}),M4=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(M4||{});function Gb(t){let e=A.useContext(tm);return e||ut(!1),e}function Wb(t){let e=A.useContext(Ob);return e||ut(!1),e}function $b(t){let e=A.useContext(Qr);return e||ut(!1),e}function D4(t){let e=$b(),n=e.matches[e.matches.length-1];return n.route.id||ut(!1),n.route.id}function Hb(){var t;let e=A.useContext(R4),n=Wb(),r=D4();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Vb(){let{router:t}=Gb(L4.UseNavigateStable),e=D4(M4.UseNavigateStable),n=A.useRef(!1);return O4(()=>{n.current=!0}),A.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Gl({fromRouteId:e},i)))},[t,e])}const kv={};function qb(t,e,n){kv[t]||(kv[t]=!0)}function Kb(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Yb(t){let{to:e,replace:n,state:r,relative:s}=t;na()||ut(!1);let{future:i,static:o}=A.useContext(Gs),{matches:u}=A.useContext(Qr),{pathname:c}=Jr(),h=Zr(),p=em(e,Zg(u,i.v7_relativeSplatPath),c,s==="path"),m=JSON.stringify(p);return A.useEffect(()=>h(JSON.parse(m),{replace:n,state:r,relative:s}),[h,m,s,n,r]),null}function cn(t){ut(!1)}function Xb(t){let{basename:e="/",children:n=null,location:r,navigationType:s=js.Pop,navigator:i,static:o=!1,future:u}=t;na()&&ut(!1);let c=e.replace(/^\/*/,"/"),h=A.useMemo(()=>({basename:c,navigator:i,static:o,future:Gl({v7_relativeSplatPath:!1},u)}),[c,u,i,o]);typeof r=="string"&&(r=ta(r));let{pathname:p="/",search:m="",hash:y="",state:_=null,key:x="default"}=r,b=A.useMemo(()=>{let C=Jg(p,c);return C==null?null:{location:{pathname:C,search:m,hash:y,state:_,key:x},navigationType:s}},[c,p,m,y,_,x,s]);return b==null?null:A.createElement(Gs.Provider,{value:h},A.createElement(Qd.Provider,{children:n,value:b}))}function Qb(t){let{children:e,location:n}=t;return Lb(b0(e),n)}new Promise(()=>{});function b0(t,e){e===void 0&&(e=[]);let n=[];return A.Children.forEach(t,(r,s)=>{if(!A.isValidElement(r))return;let i=[...e,s];if(r.type===A.Fragment){n.push.apply(n,b0(r.props.children,i));return}r.type!==cn&&ut(!1),!r.props.index||!r.props.children||ut(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=b0(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function k0(){return k0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k0.apply(this,arguments)}function Jb(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Zb(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ek(t,e){return t.button===0&&(!e||e==="_self")&&!Zb(t)}function E0(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function tk(t,e){let n=E0(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const nk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],rk="6";try{window.__reactRouterVersion=rk}catch{}const sk="startTransition",Ev=Y6[sk];function ik(t){let{basename:e,children:n,future:r,window:s}=t,i=A.useRef();i.current==null&&(i.current=ob({window:s,v5Compat:!0}));let o=i.current,[u,c]=A.useState({action:o.action,location:o.location}),{v7_startTransition:h}=r||{},p=A.useCallback(m=>{h&&Ev?Ev(()=>c(m)):c(m)},[c,h]);return A.useLayoutEffect(()=>o.listen(p),[o,p]),A.useEffect(()=>Kb(r),[r]),A.createElement(Xb,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:o,future:r})}const ok=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ak=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pe=A.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:u,target:c,to:h,preventScrollReset:p,viewTransition:m}=e,y=Jb(e,nk),{basename:_}=A.useContext(Gs),x,b=!1;if(typeof h=="string"&&ak.test(h)&&(x=h,ok))try{let E=new URL(window.location.href),N=h.startsWith("//")?new URL(E.protocol+h):new URL(h),O=Jg(N.pathname,_);N.origin===E.origin&&O!=null?h=O+N.search+N.hash:b=!0}catch{}let C=Ab(h,{relative:s}),k=lk(h,{replace:o,state:u,target:c,preventScrollReset:p,relative:s,viewTransition:m});function S(E){r&&r(E),E.defaultPrevented||k(E)}return A.createElement("a",k0({},y,{href:x||C,onClick:b||i?r:S,ref:n,target:c}))});var Cv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Cv||(Cv={}));var jv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(jv||(jv={}));function lk(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:u}=e===void 0?{}:e,c=Zr(),h=Jr(),p=I4(t,{relative:o});return A.useCallback(m=>{if(ek(m,n)){m.preventDefault();let y=r!==void 0?r:Ed(h)===Ed(p);c(t,{replace:y,state:s,preventScrollReset:i,relative:o,viewTransition:u})}},[h,c,p,r,s,n,t,i,o,u])}function uk(t){let e=A.useRef(E0(t)),n=A.useRef(!1),r=Jr(),s=A.useMemo(()=>tk(r.search,n.current?null:e.current),[r.search]),i=Zr(),o=A.useCallback((u,c)=>{const h=E0(typeof u=="function"?u(s):u);n.current=!0,i("?"+h,c)},[i,s]);return[s,o]}function F4(t,e){return function(){return t.apply(e,arguments)}}const{toString:ck}=Object.prototype,{getPrototypeOf:nm}=Object,{iterator:Jd,toStringTag:z4}=Symbol,Zd=(t=>e=>{const n=ck.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),pr=t=>(t=t.toLowerCase(),e=>Zd(e)===t),eh=t=>e=>typeof e===t,{isArray:ra}=Array,Vo=eh("undefined");function Jl(t){return t!==null&&!Vo(t)&&t.constructor!==null&&!Vo(t.constructor)&&yn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const U4=pr("ArrayBuffer");function dk(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&U4(t.buffer),e}const hk=eh("string"),yn=eh("function"),B4=eh("number"),Zl=t=>t!==null&&typeof t=="object",fk=t=>t===!0||t===!1,Kc=t=>{if(Zd(t)!=="object")return!1;const e=nm(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(z4 in t)&&!(Jd in t)},pk=t=>{if(!Zl(t)||Jl(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},gk=pr("Date"),mk=pr("File"),yk=pr("Blob"),vk=pr("FileList"),xk=t=>Zl(t)&&yn(t.pipe),wk=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||yn(t.append)&&((e=Zd(t))==="formdata"||e==="object"&&yn(t.toString)&&t.toString()==="[object FormData]"))},_k=pr("URLSearchParams"),[Sk,bk,kk,Ek]=["ReadableStream","Request","Response","Headers"].map(pr),Ck=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function eu(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),ra(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{if(Jl(t))return;const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let u;for(r=0;r<o;r++)u=i[r],e.call(null,t[u],u,t)}}function G4(t,e){if(Jl(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const vi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,W4=t=>!Vo(t)&&t!==vi;function C0(){const{caseless:t,skipUndefined:e}=W4(this)&&this||{},n={},r=(s,i)=>{const o=t&&G4(n,i)||i;Kc(n[o])&&Kc(s)?n[o]=C0(n[o],s):Kc(s)?n[o]=C0({},s):ra(s)?n[o]=s.slice():(!e||!Vo(s))&&(n[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&eu(arguments[s],r);return n}const jk=(t,e,n,{allOwnKeys:r}={})=>(eu(e,(s,i)=>{n&&yn(s)?t[i]=F4(s,n):t[i]=s},{allOwnKeys:r}),t),Nk=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Pk=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Tk=(t,e,n,r)=>{let s,i,o;const u={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!u[o]&&(e[o]=t[o],u[o]=!0);t=n!==!1&&nm(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Rk=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Ok=t=>{if(!t)return null;if(ra(t))return t;let e=t.length;if(!B4(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Ak=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&nm(Uint8Array)),Ik=(t,e)=>{const r=(t&&t[Jd]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},Lk=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Mk=pr("HTMLFormElement"),Dk=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Nv=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Fk=pr("RegExp"),$4=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};eu(n,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(r[i]=o||s)}),Object.defineProperties(t,r)},zk=t=>{$4(t,(e,n)=>{if(yn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(yn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Uk=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return ra(t)?r(t):r(String(t).split(e)),n},Bk=()=>{},Gk=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Wk(t){return!!(t&&yn(t.append)&&t[z4]==="FormData"&&t[Jd])}const $k=t=>{const e=new Array(10),n=(r,s)=>{if(Zl(r)){if(e.indexOf(r)>=0)return;if(Jl(r))return r;if(!("toJSON"in r)){e[s]=r;const i=ra(r)?[]:{};return eu(r,(o,u)=>{const c=n(o,s+1);!Vo(c)&&(i[u]=c)}),e[s]=void 0,i}}return r};return n(t,0)},Hk=pr("AsyncFunction"),Vk=t=>t&&(Zl(t)||yn(t))&&yn(t.then)&&yn(t.catch),H4=((t,e)=>t?setImmediate:e?((n,r)=>(vi.addEventListener("message",({source:s,data:i})=>{s===vi&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),vi.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",yn(vi.postMessage)),qk=typeof queueMicrotask<"u"?queueMicrotask.bind(vi):typeof process<"u"&&process.nextTick||H4,Kk=t=>t!=null&&yn(t[Jd]),z={isArray:ra,isArrayBuffer:U4,isBuffer:Jl,isFormData:wk,isArrayBufferView:dk,isString:hk,isNumber:B4,isBoolean:fk,isObject:Zl,isPlainObject:Kc,isEmptyObject:pk,isReadableStream:Sk,isRequest:bk,isResponse:kk,isHeaders:Ek,isUndefined:Vo,isDate:gk,isFile:mk,isBlob:yk,isRegExp:Fk,isFunction:yn,isStream:xk,isURLSearchParams:_k,isTypedArray:Ak,isFileList:vk,forEach:eu,merge:C0,extend:jk,trim:Ck,stripBOM:Nk,inherits:Pk,toFlatObject:Tk,kindOf:Zd,kindOfTest:pr,endsWith:Rk,toArray:Ok,forEachEntry:Ik,matchAll:Lk,isHTMLForm:Mk,hasOwnProperty:Nv,hasOwnProp:Nv,reduceDescriptors:$4,freezeMethods:zk,toObjectSet:Uk,toCamelCase:Dk,noop:Bk,toFiniteNumber:Gk,findKey:G4,global:vi,isContextDefined:W4,isSpecCompliantForm:Wk,toJSONObject:$k,isAsyncFn:Hk,isThenable:Vk,setImmediate:H4,asap:qk,isIterable:Kk};function be(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}z.inherits(be,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.status}}});const V4=be.prototype,q4={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{q4[t]={value:t}});Object.defineProperties(be,q4);Object.defineProperty(V4,"isAxiosError",{value:!0});be.from=(t,e,n,r,s,i)=>{const o=Object.create(V4);z.toFlatObject(t,o,function(p){return p!==Error.prototype},h=>h!=="isAxiosError");const u=t&&t.message?t.message:"Error",c=e==null&&t?t.code:e;return be.call(o,u,c,n,r,s),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",i&&Object.assign(o,i),o};const Yk=null;function j0(t){return z.isPlainObject(t)||z.isArray(t)}function K4(t){return z.endsWith(t,"[]")?t.slice(0,-2):t}function Pv(t,e,n){return t?t.concat(e).map(function(s,i){return s=K4(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function Xk(t){return z.isArray(t)&&!t.some(j0)}const Qk=z.toFlatObject(z,{},null,function(e){return/^is[A-Z]/.test(e)});function th(t,e,n){if(!z.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=z.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,C){return!z.isUndefined(C[b])});const r=n.metaTokens,s=n.visitor||p,i=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&z.isSpecCompliantForm(e);if(!z.isFunction(s))throw new TypeError("visitor must be a function");function h(x){if(x===null)return"";if(z.isDate(x))return x.toISOString();if(z.isBoolean(x))return x.toString();if(!c&&z.isBlob(x))throw new be("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(x)||z.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function p(x,b,C){let k=x;if(x&&!C&&typeof x=="object"){if(z.endsWith(b,"{}"))b=r?b:b.slice(0,-2),x=JSON.stringify(x);else if(z.isArray(x)&&Xk(x)||(z.isFileList(x)||z.endsWith(b,"[]"))&&(k=z.toArray(x)))return b=K4(b),k.forEach(function(E,N){!(z.isUndefined(E)||E===null)&&e.append(o===!0?Pv([b],N,i):o===null?b:b+"[]",h(E))}),!1}return j0(x)?!0:(e.append(Pv(C,b,i),h(x)),!1)}const m=[],y=Object.assign(Qk,{defaultVisitor:p,convertValue:h,isVisitable:j0});function _(x,b){if(!z.isUndefined(x)){if(m.indexOf(x)!==-1)throw Error("Circular reference detected in "+b.join("."));m.push(x),z.forEach(x,function(k,S){(!(z.isUndefined(k)||k===null)&&s.call(e,k,z.isString(S)?S.trim():S,b,y))===!0&&_(k,b?b.concat(S):[S])}),m.pop()}}if(!z.isObject(t))throw new TypeError("data must be an object");return _(t),e}function Tv(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function rm(t,e){this._pairs=[],t&&th(t,this,e)}const Y4=rm.prototype;Y4.append=function(e,n){this._pairs.push([e,n])};Y4.toString=function(e){const n=e?function(r){return e.call(this,r,Tv)}:Tv;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function Jk(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function X4(t,e,n){if(!e)return t;const r=n&&n.encode||Jk;z.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(e,n):i=z.isURLSearchParams(e)?e.toString():new rm(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Rv{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){z.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Q4={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Zk=typeof URLSearchParams<"u"?URLSearchParams:rm,e9=typeof FormData<"u"?FormData:null,t9=typeof Blob<"u"?Blob:null,n9={isBrowser:!0,classes:{URLSearchParams:Zk,FormData:e9,Blob:t9},protocols:["http","https","file","blob","url","data"]},sm=typeof window<"u"&&typeof document<"u",N0=typeof navigator=="object"&&navigator||void 0,r9=sm&&(!N0||["ReactNative","NativeScript","NS"].indexOf(N0.product)<0),s9=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",i9=sm&&window.location.href||"http://localhost",o9=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:sm,hasStandardBrowserEnv:r9,hasStandardBrowserWebWorkerEnv:s9,navigator:N0,origin:i9},Symbol.toStringTag,{value:"Module"})),$t={...o9,...n9};function a9(t,e){return th(t,new $t.classes.URLSearchParams,{visitor:function(n,r,s,i){return $t.isNode&&z.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function l9(t){return z.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function u9(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function J4(t){function e(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const u=Number.isFinite(+o),c=i>=n.length;return o=!o&&z.isArray(s)?s.length:o,c?(z.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!u):((!s[o]||!z.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&z.isArray(s[o])&&(s[o]=u9(s[o])),!u)}if(z.isFormData(t)&&z.isFunction(t.entries)){const n={};return z.forEachEntry(t,(r,s)=>{e(l9(r),s,n,0)}),n}return null}function c9(t,e,n){if(z.isString(t))try{return(e||JSON.parse)(t),z.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const tu={transitional:Q4,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=z.isObject(e);if(i&&z.isHTMLForm(e)&&(e=new FormData(e)),z.isFormData(e))return s?JSON.stringify(J4(e)):e;if(z.isArrayBuffer(e)||z.isBuffer(e)||z.isStream(e)||z.isFile(e)||z.isBlob(e)||z.isReadableStream(e))return e;if(z.isArrayBufferView(e))return e.buffer;if(z.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return a9(e,this.formSerializer).toString();if((u=z.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return th(u?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),c9(e)):e}],transformResponse:[function(e){const n=this.transitional||tu.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(z.isResponse(e)||z.isReadableStream(e))return e;if(e&&z.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(u){if(o)throw u.name==="SyntaxError"?be.from(u,be.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$t.classes.FormData,Blob:$t.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],t=>{tu.headers[t]={}});const d9=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),h9=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&d9[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Ov=Symbol("internals");function Ga(t){return t&&String(t).trim().toLowerCase()}function Yc(t){return t===!1||t==null?t:z.isArray(t)?t.map(Yc):String(t)}function f9(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const p9=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function op(t,e,n,r,s){if(z.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!z.isString(e)){if(z.isString(r))return e.indexOf(r)!==-1;if(z.isRegExp(r))return r.test(e)}}function g9(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function m9(t,e){const n=z.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}let vn=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(u,c,h){const p=Ga(c);if(!p)throw new Error("header name must be a non-empty string");const m=z.findKey(s,p);(!m||s[m]===void 0||h===!0||h===void 0&&s[m]!==!1)&&(s[m||c]=Yc(u))}const o=(u,c)=>z.forEach(u,(h,p)=>i(h,p,c));if(z.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(z.isString(e)&&(e=e.trim())&&!p9(e))o(h9(e),n);else if(z.isObject(e)&&z.isIterable(e)){let u={},c,h;for(const p of e){if(!z.isArray(p))throw TypeError("Object iterator must return a key-value pair");u[h=p[0]]=(c=u[h])?z.isArray(c)?[...c,p[1]]:[c,p[1]]:p[1]}o(u,n)}else e!=null&&i(n,e,r);return this}get(e,n){if(e=Ga(e),e){const r=z.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return f9(s);if(z.isFunction(n))return n.call(this,s,r);if(z.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ga(e),e){const r=z.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||op(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=Ga(o),o){const u=z.findKey(r,o);u&&(!n||op(r,r[u],u,n))&&(delete r[u],s=!0)}}return z.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||op(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return z.forEach(this,(s,i)=>{const o=z.findKey(r,i);if(o){n[o]=Yc(s),delete n[i];return}const u=e?g9(i):String(i).trim();u!==i&&delete n[i],n[u]=Yc(s),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return z.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&z.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[Ov]=this[Ov]={accessors:{}}).accessors,s=this.prototype;function i(o){const u=Ga(o);r[u]||(m9(s,o),r[u]=!0)}return z.isArray(e)?e.forEach(i):i(e),this}};vn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);z.reduceDescriptors(vn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});z.freezeMethods(vn);function ap(t,e){const n=this||tu,r=e||n,s=vn.from(r.headers);let i=r.data;return z.forEach(t,function(u){i=u.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function Z4(t){return!!(t&&t.__CANCEL__)}function sa(t,e,n){be.call(this,t??"canceled",be.ERR_CANCELED,e,n),this.name="CanceledError"}z.inherits(sa,be,{__CANCEL__:!0});function e3(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new be("Request failed with status code "+n.status,[be.ERR_BAD_REQUEST,be.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function y9(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function v9(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(c){const h=Date.now(),p=r[i];o||(o=h),n[s]=c,r[s]=h;let m=i,y=0;for(;m!==s;)y+=n[m++],m=m%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),h-o<e)return;const _=p&&h-p;return _?Math.round(y*1e3/_):void 0}}function x9(t,e){let n=0,r=1e3/e,s,i;const o=(h,p=Date.now())=>{n=p,s=null,i&&(clearTimeout(i),i=null),t(...h)};return[(...h)=>{const p=Date.now(),m=p-n;m>=r?o(h,p):(s=h,i||(i=setTimeout(()=>{i=null,o(s)},r-m)))},()=>s&&o(s)]}const Cd=(t,e,n=3)=>{let r=0;const s=v9(50,250);return x9(i=>{const o=i.loaded,u=i.lengthComputable?i.total:void 0,c=o-r,h=s(c),p=o<=u;r=o;const m={loaded:o,total:u,progress:u?o/u:void 0,bytes:c,rate:h||void 0,estimated:h&&u&&p?(u-o)/h:void 0,event:i,lengthComputable:u!=null,[e?"download":"upload"]:!0};t(m)},n)},Av=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},Iv=t=>(...e)=>z.asap(()=>t(...e)),w9=$t.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,$t.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL($t.origin),$t.navigator&&/(msie|trident)/i.test($t.navigator.userAgent)):()=>!0,_9=$t.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const o=[t+"="+encodeURIComponent(e)];z.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),z.isString(r)&&o.push("path="+r),z.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function S9(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function b9(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function t3(t,e,n){let r=!S9(e);return t&&(r||n==!1)?b9(t,e):e}const Lv=t=>t instanceof vn?{...t}:t;function Pi(t,e){e=e||{};const n={};function r(h,p,m,y){return z.isPlainObject(h)&&z.isPlainObject(p)?z.merge.call({caseless:y},h,p):z.isPlainObject(p)?z.merge({},p):z.isArray(p)?p.slice():p}function s(h,p,m,y){if(z.isUndefined(p)){if(!z.isUndefined(h))return r(void 0,h,m,y)}else return r(h,p,m,y)}function i(h,p){if(!z.isUndefined(p))return r(void 0,p)}function o(h,p){if(z.isUndefined(p)){if(!z.isUndefined(h))return r(void 0,h)}else return r(void 0,p)}function u(h,p,m){if(m in e)return r(h,p);if(m in t)return r(void 0,h)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:u,headers:(h,p,m)=>s(Lv(h),Lv(p),m,!0)};return z.forEach(Object.keys({...t,...e}),function(p){const m=c[p]||s,y=m(t[p],e[p],p);z.isUndefined(y)&&m!==u||(n[p]=y)}),n}const n3=t=>{const e=Pi({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:u}=e;if(e.headers=o=vn.from(o),e.url=X4(t3(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),u&&o.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),z.isFormData(n)){if($t.hasStandardBrowserEnv||$t.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(z.isFunction(n.getHeaders)){const c=n.getHeaders(),h=["content-type","content-length"];Object.entries(c).forEach(([p,m])=>{h.includes(p.toLowerCase())&&o.set(p,m)})}}if($t.hasStandardBrowserEnv&&(r&&z.isFunction(r)&&(r=r(e)),r||r!==!1&&w9(e.url))){const c=s&&i&&_9.read(i);c&&o.set(s,c)}return e},k9=typeof XMLHttpRequest<"u",E9=k9&&function(t){return new Promise(function(n,r){const s=n3(t);let i=s.data;const o=vn.from(s.headers).normalize();let{responseType:u,onUploadProgress:c,onDownloadProgress:h}=s,p,m,y,_,x;function b(){_&&_(),x&&x(),s.cancelToken&&s.cancelToken.unsubscribe(p),s.signal&&s.signal.removeEventListener("abort",p)}let C=new XMLHttpRequest;C.open(s.method.toUpperCase(),s.url,!0),C.timeout=s.timeout;function k(){if(!C)return;const E=vn.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),O={data:!u||u==="text"||u==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:E,config:t,request:C};e3(function(R){n(R),b()},function(R){r(R),b()},O),C=null}"onloadend"in C?C.onloadend=k:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(k)},C.onabort=function(){C&&(r(new be("Request aborted",be.ECONNABORTED,t,C)),C=null)},C.onerror=function(N){const O=N&&N.message?N.message:"Network Error",T=new be(O,be.ERR_NETWORK,t,C);T.event=N||null,r(T),C=null},C.ontimeout=function(){let N=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const O=s.transitional||Q4;s.timeoutErrorMessage&&(N=s.timeoutErrorMessage),r(new be(N,O.clarifyTimeoutError?be.ETIMEDOUT:be.ECONNABORTED,t,C)),C=null},i===void 0&&o.setContentType(null),"setRequestHeader"in C&&z.forEach(o.toJSON(),function(N,O){C.setRequestHeader(O,N)}),z.isUndefined(s.withCredentials)||(C.withCredentials=!!s.withCredentials),u&&u!=="json"&&(C.responseType=s.responseType),h&&([y,x]=Cd(h,!0),C.addEventListener("progress",y)),c&&C.upload&&([m,_]=Cd(c),C.upload.addEventListener("progress",m),C.upload.addEventListener("loadend",_)),(s.cancelToken||s.signal)&&(p=E=>{C&&(r(!E||E.type?new sa(null,t,C):E),C.abort(),C=null)},s.cancelToken&&s.cancelToken.subscribe(p),s.signal&&(s.signal.aborted?p():s.signal.addEventListener("abort",p)));const S=y9(s.url);if(S&&$t.protocols.indexOf(S)===-1){r(new be("Unsupported protocol "+S+":",be.ERR_BAD_REQUEST,t));return}C.send(i||null)})},C9=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const i=function(h){if(!s){s=!0,u();const p=h instanceof Error?h:this.reason;r.abort(p instanceof be?p:new sa(p instanceof Error?p.message:p))}};let o=e&&setTimeout(()=>{o=null,i(new be(`timeout ${e} of ms exceeded`,be.ETIMEDOUT))},e);const u=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(i):h.removeEventListener("abort",i)}),t=null)};t.forEach(h=>h.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>z.asap(u),c}},j9=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},N9=async function*(t,e){for await(const n of P9(t))yield*j9(n,e)},P9=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},Mv=(t,e,n,r)=>{const s=N9(t,e);let i=0,o,u=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:h,value:p}=await s.next();if(h){u(),c.close();return}let m=p.byteLength;if(n){let y=i+=m;n(y)}c.enqueue(new Uint8Array(p))}catch(h){throw u(h),h}},cancel(c){return u(c),s.return()}},{highWaterMark:2})},Dv=64*1024,{isFunction:fc}=z,T9=(({Request:t,Response:e})=>({Request:t,Response:e}))(z.global),{ReadableStream:Fv,TextEncoder:zv}=z.global,Uv=(t,...e)=>{try{return!!t(...e)}catch{return!1}},R9=t=>{t=z.merge.call({skipUndefined:!0},T9,t);const{fetch:e,Request:n,Response:r}=t,s=e?fc(e):typeof fetch=="function",i=fc(n),o=fc(r);if(!s)return!1;const u=s&&fc(Fv),c=s&&(typeof zv=="function"?(x=>b=>x.encode(b))(new zv):async x=>new Uint8Array(await new n(x).arrayBuffer())),h=i&&u&&Uv(()=>{let x=!1;const b=new n($t.origin,{body:new Fv,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!b}),p=o&&u&&Uv(()=>z.isReadableStream(new r("").body)),m={stream:p&&(x=>x.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!m[x]&&(m[x]=(b,C)=>{let k=b&&b[x];if(k)return k.call(b);throw new be(`Response type '${x}' is not supported`,be.ERR_NOT_SUPPORT,C)})});const y=async x=>{if(x==null)return 0;if(z.isBlob(x))return x.size;if(z.isSpecCompliantForm(x))return(await new n($t.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(z.isArrayBufferView(x)||z.isArrayBuffer(x))return x.byteLength;if(z.isURLSearchParams(x)&&(x=x+""),z.isString(x))return(await c(x)).byteLength},_=async(x,b)=>{const C=z.toFiniteNumber(x.getContentLength());return C??y(b)};return async x=>{let{url:b,method:C,data:k,signal:S,cancelToken:E,timeout:N,onDownloadProgress:O,onUploadProgress:T,responseType:R,headers:I,withCredentials:U="same-origin",fetchOptions:$}=n3(x),Y=e||fetch;R=R?(R+"").toLowerCase():"text";let q=C9([S,E&&E.toAbortSignal()],N),ne=null;const ie=q&&q.unsubscribe&&(()=>{q.unsubscribe()});let V;try{if(T&&h&&C!=="get"&&C!=="head"&&(V=await _(I,k))!==0){let X=new n(b,{method:"POST",body:k,duplex:"half"}),he;if(z.isFormData(k)&&(he=X.headers.get("content-type"))&&I.setContentType(he),X.body){const[Me,yt]=Av(V,Cd(Iv(T)));k=Mv(X.body,Dv,Me,yt)}}z.isString(U)||(U=U?"include":"omit");const H=i&&"credentials"in n.prototype,ge={...$,signal:q,method:C.toUpperCase(),headers:I.normalize().toJSON(),body:k,duplex:"half",credentials:H?U:void 0};ne=i&&new n(b,ge);let G=await(i?Y(ne,$):Y(b,ge));const re=p&&(R==="stream"||R==="response");if(p&&(O||re&&ie)){const X={};["status","statusText","headers"].forEach(qt=>{X[qt]=G[qt]});const he=z.toFiniteNumber(G.headers.get("content-length")),[Me,yt]=O&&Av(he,Cd(Iv(O),!0))||[];G=new r(Mv(G.body,Dv,Me,()=>{yt&&yt(),ie&&ie()}),X)}R=R||"text";let oe=await m[z.findKey(m,R)||"text"](G,x);return!re&&ie&&ie(),await new Promise((X,he)=>{e3(X,he,{data:oe,headers:vn.from(G.headers),status:G.status,statusText:G.statusText,config:x,request:ne})})}catch(H){throw ie&&ie(),H&&H.name==="TypeError"&&/Load failed|fetch/i.test(H.message)?Object.assign(new be("Network Error",be.ERR_NETWORK,x,ne),{cause:H.cause||H}):be.from(H,H&&H.code,x,ne)}}},O9=new Map,r3=t=>{let e=t?t.env:{};const{fetch:n,Request:r,Response:s}=e,i=[r,s,n];let o=i.length,u=o,c,h,p=O9;for(;u--;)c=i[u],h=p.get(c),h===void 0&&p.set(c,h=u?new Map:R9(e)),p=h;return h};r3();const P0={http:Yk,xhr:E9,fetch:{get:r3}};z.forEach(P0,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Bv=t=>`- ${t}`,A9=t=>z.isFunction(t)||t===null||t===!1,s3={getAdapter:(t,e)=>{t=z.isArray(t)?t:[t];const{length:n}=t;let r,s;const i={};for(let o=0;o<n;o++){r=t[o];let u;if(s=r,!A9(r)&&(s=P0[(u=String(r)).toLowerCase()],s===void 0))throw new be(`Unknown adapter '${u}'`);if(s&&(z.isFunction(s)||(s=s.get(e))))break;i[u||"#"+o]=s}if(!s){const o=Object.entries(i).map(([c,h])=>`adapter ${c} `+(h===!1?"is not supported by the environment":"is not available in the build"));let u=n?o.length>1?`since :
`+o.map(Bv).join(`
`):" "+Bv(o[0]):"as no adapter specified";throw new be("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return s},adapters:P0};function lp(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new sa(null,t)}function Gv(t){return lp(t),t.headers=vn.from(t.headers),t.data=ap.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),s3.getAdapter(t.adapter||tu.adapter,t)(t).then(function(r){return lp(t),r.data=ap.call(t,t.transformResponse,r),r.headers=vn.from(r.headers),r},function(r){return Z4(r)||(lp(t),r&&r.response&&(r.response.data=ap.call(t,t.transformResponse,r.response),r.response.headers=vn.from(r.response.headers))),Promise.reject(r)})}const i3="1.12.2",nh={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{nh[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Wv={};nh.transitional=function(e,n,r){function s(i,o){return"[Axios v"+i3+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,u)=>{if(e===!1)throw new be(s(o," has been removed"+(n?" in "+n:"")),be.ERR_DEPRECATED);return n&&!Wv[o]&&(Wv[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,u):!0}};nh.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function I9(t,e,n){if(typeof t!="object")throw new be("options must be an object",be.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const u=t[i],c=u===void 0||o(u,i,t);if(c!==!0)throw new be("option "+i+" must be "+c,be.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new be("Unknown option "+i,be.ERR_BAD_OPTION)}}const Xc={assertOptions:I9,validators:nh},Er=Xc.validators;let bi=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Rv,response:new Rv}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Pi(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Xc.assertOptions(r,{silentJSONParsing:Er.transitional(Er.boolean),forcedJSONParsing:Er.transitional(Er.boolean),clarifyTimeoutError:Er.transitional(Er.boolean)},!1),s!=null&&(z.isFunction(s)?n.paramsSerializer={serialize:s}:Xc.assertOptions(s,{encode:Er.function,serialize:Er.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Xc.assertOptions(n,{baseUrl:Er.spelling("baseURL"),withXsrfToken:Er.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&z.merge(i.common,i[n.method]);i&&z.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),n.headers=vn.concat(o,i);const u=[];let c=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(c=c&&b.synchronous,u.unshift(b.fulfilled,b.rejected))});const h=[];this.interceptors.response.forEach(function(b){h.push(b.fulfilled,b.rejected)});let p,m=0,y;if(!c){const x=[Gv.bind(this),void 0];for(x.unshift(...u),x.push(...h),y=x.length,p=Promise.resolve(n);m<y;)p=p.then(x[m++],x[m++]);return p}y=u.length;let _=n;for(;m<y;){const x=u[m++],b=u[m++];try{_=x(_)}catch(C){b.call(this,C);break}}try{p=Gv.call(this,_)}catch(x){return Promise.reject(x)}for(m=0,y=h.length;m<y;)p=p.then(h[m++],h[m++]);return p}getUri(e){e=Pi(this.defaults,e);const n=t3(e.baseURL,e.url,e.allowAbsoluteUrls);return X4(n,e.params,e.paramsSerializer)}};z.forEach(["delete","get","head","options"],function(e){bi.prototype[e]=function(n,r){return this.request(Pi(r||{},{method:e,url:n,data:(r||{}).data}))}});z.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,u){return this.request(Pi(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}bi.prototype[e]=n(),bi.prototype[e+"Form"]=n(!0)});let L9=class o3{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(u=>{r.subscribe(u),i=u}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,u){r.reason||(r.reason=new sa(i,o,u),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new o3(function(s){e=s}),cancel:e}}};function M9(t){return function(n){return t.apply(null,n)}}function D9(t){return z.isObject(t)&&t.isAxiosError===!0}const T0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(T0).forEach(([t,e])=>{T0[e]=t});function a3(t){const e=new bi(t),n=F4(bi.prototype.request,e);return z.extend(n,bi.prototype,e,{allOwnKeys:!0}),z.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return a3(Pi(t,s))},n}const ct=a3(tu);ct.Axios=bi;ct.CanceledError=sa;ct.CancelToken=L9;ct.isCancel=Z4;ct.VERSION=i3;ct.toFormData=th;ct.AxiosError=be;ct.Cancel=ct.CanceledError;ct.all=function(e){return Promise.all(e)};ct.spread=M9;ct.isAxiosError=D9;ct.mergeConfig=Pi;ct.AxiosHeaders=vn;ct.formToJSON=t=>J4(z.isHTMLForm(t)?new FormData(t):t);ct.getAdapter=s3.getAdapter;ct.HttpStatusCode=T0;ct.default=ct;const{Axios:bR,AxiosError:kR,CanceledError:ER,isCancel:CR,CancelToken:jR,VERSION:NR,all:PR,Cancel:TR,isAxiosError:RR,spread:OR,toFormData:AR,AxiosHeaders:IR,HttpStatusCode:LR,formToJSON:MR,getAdapter:DR,mergeConfig:FR}=ct,F9="http://localhost:3001",Ht=ct.create({baseURL:`${F9}/api`,headers:{"Content-Type":"application/json"},timeout:15e3});Ht.interceptors.request.use(t=>{const e=localStorage.getItem("auth_token");return e&&(t.headers.Authorization=`Bearer ${e}`),t});const im={getAll:async()=>(await Ht.get("/products")).data.data.products,getBySlug:async t=>(await Ht.get(`/products/${t}`)).data.data},z9={calculate:async t=>(await Ht.post("/price/quote",t)).data.data},R0={create:async t=>(await Ht.post("/orders/create",t)).data.data,get:async t=>(await Ht.get(`/orders/${t}`)).data.data,capturePayment:async(t,e)=>(await Ht.post(`/orders/${t}/capture-payment`,{payment_intent_id:e})).data.data},$v={uploadFile:async t=>{const e=new FormData;return e.append("file",t),(await Ht.post("/uploads/file",e,{headers:{"Content-Type":"multipart/form-data"}})).data.data.asset}},Ja={login:async(t,e)=>{const n=await Ht.post("/auth/login",{email:t,password:e}),{token:r,user:s}=n.data.data;return localStorage.setItem("auth_token",r),{token:r,user:s}},register:async(t,e,n)=>(await Ht.post("/auth/register",{email:t,password:e,name:n})).data.data.user,me:async()=>(await Ht.get("/auth/me")).data.data.user,logout:()=>{localStorage.removeItem("auth_token")}},ml={save:async t=>(await Ht.post("/designs",t)).data.data.design,getAll:async()=>(await Ht.get("/designs")).data.data.designs,getById:async t=>(await Ht.get(`/designs/${t}`)).data.data.design,update:async(t,e)=>(await Ht.put(`/designs/${t}`,e)).data.data.design,delete:async t=>(await Ht.delete(`/designs/${t}`)).data.data};var O0=function(t,e){return O0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},O0(t,e)};function l3(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");O0(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var jd=function(){return jd=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},jd.apply(this,arguments)};function ia(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function u3(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function c3(t,e){return function(n,r){e(n,r,t)}}function d3(t,e,n,r,s,i){function o(k){if(k!==void 0&&typeof k!="function")throw new TypeError("Function expected");return k}for(var u=r.kind,c=u==="getter"?"get":u==="setter"?"set":"value",h=!e&&t?r.static?t:t.prototype:null,p=e||(h?Object.getOwnPropertyDescriptor(h,r.name):{}),m,y=!1,_=n.length-1;_>=0;_--){var x={};for(var b in r)x[b]=b==="access"?{}:r[b];for(var b in r.access)x.access[b]=r.access[b];x.addInitializer=function(k){if(y)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(k||null))};var C=(0,n[_])(u==="accessor"?{get:p.get,set:p.set}:p[c],x);if(u==="accessor"){if(C===void 0)continue;if(C===null||typeof C!="object")throw new TypeError("Object expected");(m=o(C.get))&&(p.get=m),(m=o(C.set))&&(p.set=m),(m=o(C.init))&&s.unshift(m)}else(m=o(C))&&(u==="field"?s.unshift(m):p[c]=m)}h&&Object.defineProperty(h,r.name,p),y=!0}function h3(t,e,n){for(var r=arguments.length>2,s=0;s<e.length;s++)n=r?e[s].call(t,n):e[s].call(t);return r?n:void 0}function f3(t){return typeof t=="symbol"?t:"".concat(t)}function p3(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function g3(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function pe(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function u(p){try{h(r.next(p))}catch(m){o(m)}}function c(p){try{h(r.throw(p))}catch(m){o(m)}}function h(p){p.done?i(p.value):s(p.value).then(u,c)}h((r=r.apply(t,e||[])).next())})}function m3(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=u(0),o.throw=u(1),o.return=u(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(h){return function(p){return c([h,p])}}function c(h){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,h[0]&&(n=0)),n;)try{if(r=1,s&&(i=h[0]&2?s.return:h[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,h[1])).done)return i;switch(s=0,i&&(h=[h[0]&2,i.value]),h[0]){case 0:case 1:i=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,s=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){n.label=h[1];break}if(h[0]===6&&n.label<i[1]){n.label=i[1],i=h;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(h);break}i[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(p){h=[6,p],s=0}finally{r=i=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var rh=Object.create?function(t,e,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,s)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function y3(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&rh(e,t,n)}function Nd(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function om(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(u){o={error:u}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function v3(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(om(arguments[e]));return t}function x3(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,u=i.length;o<u;o++,s++)r[s]=i[o];return r}function w3(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function qo(t){return this instanceof qo?(this.v=t,this):new qo(t)}function _3(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(_){return function(x){return Promise.resolve(x).then(_,m)}}function u(_,x){r[_]&&(s[_]=function(b){return new Promise(function(C,k){i.push([_,b,C,k])>1||c(_,b)})},x&&(s[_]=x(s[_])))}function c(_,x){try{h(r[_](x))}catch(b){y(i[0][3],b)}}function h(_){_.value instanceof qo?Promise.resolve(_.value.v).then(p,m):y(i[0][2],_)}function p(_){c("next",_)}function m(_){c("throw",_)}function y(_,x){_(x),i.shift(),i.length&&c(i[0][0],i[0][1])}}function S3(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:qo(t[s](o)),done:!1}:i?i(o):o}:i}}function b3(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Nd=="function"?Nd(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(u,c){o=t[i](o),s(u,c,o.done,o.value)})}}function s(i,o,u,c){Promise.resolve(c).then(function(h){i({value:h,done:u})},o)}}function k3(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var U9=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},A0=function(t){return A0=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},A0(t)};function E3(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=A0(t),r=0;r<n.length;r++)n[r]!=="default"&&rh(e,t,n[r]);return U9(e,t),e}function C3(t){return t&&t.__esModule?t:{default:t}}function j3(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function N3(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n}function P3(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function T3(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(s=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var B9=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function R3(t){function e(i){t.error=t.hasError?new B9(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var n,r=0;function s(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(s);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(s,function(o){return e(o),s()})}else r|=1}catch(o){e(o)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function O3(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,s,i,o){return r?e?".jsx":".js":s&&(!i||!o)?n:s+i+"."+o.toLowerCase()+"js"}):t}const G9={__extends:l3,__assign:jd,__rest:ia,__decorate:u3,__param:c3,__esDecorate:d3,__runInitializers:h3,__propKey:f3,__setFunctionName:p3,__metadata:g3,__awaiter:pe,__generator:m3,__createBinding:rh,__exportStar:y3,__values:Nd,__read:om,__spread:v3,__spreadArrays:x3,__spreadArray:w3,__await:qo,__asyncGenerator:_3,__asyncDelegator:S3,__asyncValues:b3,__makeTemplateObject:k3,__importStar:E3,__importDefault:C3,__classPrivateFieldGet:j3,__classPrivateFieldSet:N3,__classPrivateFieldIn:P3,__addDisposableResource:T3,__disposeResources:R3,__rewriteRelativeImportExtension:O3},W9=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:T3,get __assign(){return jd},__asyncDelegator:S3,__asyncGenerator:_3,__asyncValues:b3,__await:qo,__awaiter:pe,__classPrivateFieldGet:j3,__classPrivateFieldIn:P3,__classPrivateFieldSet:N3,__createBinding:rh,__decorate:u3,__disposeResources:R3,__esDecorate:d3,__exportStar:y3,__extends:l3,__generator:m3,__importDefault:C3,__importStar:E3,__makeTemplateObject:k3,__metadata:g3,__param:c3,__propKey:f3,__read:om,__rest:ia,__rewriteRelativeImportExtension:O3,__runInitializers:h3,__setFunctionName:p3,__spread:v3,__spreadArray:w3,__spreadArrays:x3,__values:Nd,default:G9},Symbol.toStringTag,{value:"Module"})),$9="modulepreload",H9=function(t){return"/"+t},Hv={},oa=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=H9(c),c in Hv)return;Hv[c]=!0;const h=c.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":$9,h||(m.as="script"),m.crossOrigin="",m.href=c,u&&m.setAttribute("nonce",u),document.head.appendChild(m),h)return new Promise((y,_)=>{m.addEventListener("load",y),m.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return s.then(o=>{for(const u of o||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})},V9=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>oa(async()=>{const{default:r}=await Promise.resolve().then(()=>Ai);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class am extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Vv extends am{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class qv extends am{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Kv extends am{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var I0;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(I0||(I0={}));class q9{constructor(e,{headers:n={},customFetch:r,region:s=I0.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=V9(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return pe(this,arguments,void 0,function*(n,r={}){var s;try{const{headers:i,method:o,body:u,signal:c}=r;let h={},{region:p}=r;p||(p=this.region);const m=new URL(`${this.url}/${n}`);p&&p!=="any"&&(h["x-region"]=p,m.searchParams.set("forceFunctionRegion",p));let y;u&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(h["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(h["Content-Type"]="application/json",y=JSON.stringify(u)):y=u;const _=yield this.fetch(m.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),i),body:y,signal:c}).catch(k=>{throw k.name==="AbortError"?k:new Vv(k)}),x=_.headers.get("x-relay-error");if(x&&x==="true")throw new qv(_);if(!_.ok)throw new Kv(_);let b=((s=_.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),C;return b==="application/json"?C=yield _.json():b==="application/octet-stream"||b==="application/pdf"?C=yield _.blob():b==="text/event-stream"?C=_:b==="multipart/form-data"?C=yield _.formData():C=yield _.text(),{data:C,error:null,response:_}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new Vv(i)}:{data:null,error:i,response:i instanceof Kv||i instanceof qv?i.context:void 0}}})}}var hn={};const aa=px(W9);var pc={},gc={},mc={},yc={},vc={},K9=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ko=K9();const Y9=Ko.fetch,A3=Ko.fetch.bind(Ko),I3=Ko.Headers,X9=Ko.Request,Q9=Ko.Response,Ai=Object.freeze(Object.defineProperty({__proto__:null,Headers:I3,Request:X9,Response:Q9,default:A3,fetch:Y9},Symbol.toStringTag,{value:"Module"})),J9=px(Ai);var xc={},Yv;function L3(){if(Yv)return xc;Yv=1,Object.defineProperty(xc,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return xc.default=t,xc}var Xv;function M3(){if(Xv)return vc;Xv=1,Object.defineProperty(vc,"__esModule",{value:!0});const t=aa,e=t.__importDefault(J9),n=t.__importDefault(L3());class r{constructor(i){var o,u;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(u=i.isMaybeSingle)!==null&&u!==void 0?u:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let c=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var p,m,y,_;let x=null,b=null,C=null,k=h.status,S=h.statusText;if(h.ok){if(this.method!=="HEAD"){const T=await h.text();T===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?b=T:b=JSON.parse(T))}const N=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),O=(y=h.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");N&&O&&O.length>1&&(C=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(x={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,C=null,k=406,S="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const N=await h.text();try{x=JSON.parse(N),Array.isArray(x)&&h.status===404&&(b=[],x=null,k=200,S="OK")}catch{h.status===404&&N===""?(k=204,S="No Content"):x={message:N}}if(x&&this.isMaybeSingle&&(!((_=x==null?void 0:x.details)===null||_===void 0)&&_.includes("0 rows"))&&(x=null,k=200,S="OK"),x&&this.shouldThrowOnError)throw new n.default(x)}return{error:x,data:b,count:C,status:k,statusText:S}});return this.shouldThrowOnError||(c=c.catch(h=>{var p,m,y;return{error:{message:`${(p=h==null?void 0:h.name)!==null&&p!==void 0?p:"FetchError"}: ${h==null?void 0:h.message}`,details:`${(m=h==null?void 0:h.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(y=h==null?void 0:h.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,o)}returns(){return this}overrideTypes(){return this}}return vc.default=r,vc}var Qv;function D3(){if(Qv)return yc;Qv=1,Object.defineProperty(yc,"__esModule",{value:!0});const e=aa.__importDefault(M3());class n extends e.default{select(s){let i=!1;const o=(s??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:u,referencedTable:c=u}={}){const h=c?`${c}.order`:"order",p=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${p?`${p},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(u,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:u=o}={}){const c=typeof u>"u"?"offset":`${u}.offset`,h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(h,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:u=!1,wal:c=!1,format:h="text"}={}){var p;const m=[s?"analyze":null,i?"verbose":null,o?"settings":null,u?"buffers":null,c?"wal":null].filter(Boolean).join("|"),y=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${y}"; options=${m};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return yc.default=n,yc}var Jv;function lm(){if(Jv)return mc;Jv=1,Object.defineProperty(mc,"__esModule",{value:!0});const e=aa.__importDefault(D3());class n extends e.default{eq(s,i){return this.url.searchParams.append(s,`eq.${i}`),this}neq(s,i){return this.url.searchParams.append(s,`neq.${i}`),this}gt(s,i){return this.url.searchParams.append(s,`gt.${i}`),this}gte(s,i){return this.url.searchParams.append(s,`gte.${i}`),this}lt(s,i){return this.url.searchParams.append(s,`lt.${i}`),this}lte(s,i){return this.url.searchParams.append(s,`lte.${i}`),this}like(s,i){return this.url.searchParams.append(s,`like.${i}`),this}likeAllOf(s,i){return this.url.searchParams.append(s,`like(all).{${i.join(",")}}`),this}likeAnyOf(s,i){return this.url.searchParams.append(s,`like(any).{${i.join(",")}}`),this}ilike(s,i){return this.url.searchParams.append(s,`ilike.${i}`),this}ilikeAllOf(s,i){return this.url.searchParams.append(s,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(s,i){return this.url.searchParams.append(s,`ilike(any).{${i.join(",")}}`),this}is(s,i){return this.url.searchParams.append(s,`is.${i}`),this}in(s,i){const o=Array.from(new Set(i)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cs.{${i.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(i)}`),this}containedBy(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cd.{${i.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(i)}`),this}rangeGt(s,i){return this.url.searchParams.append(s,`sr.${i}`),this}rangeGte(s,i){return this.url.searchParams.append(s,`nxl.${i}`),this}rangeLt(s,i){return this.url.searchParams.append(s,`sl.${i}`),this}rangeLte(s,i){return this.url.searchParams.append(s,`nxr.${i}`),this}rangeAdjacent(s,i){return this.url.searchParams.append(s,`adj.${i}`),this}overlaps(s,i){return typeof i=="string"?this.url.searchParams.append(s,`ov.${i}`):this.url.searchParams.append(s,`ov.{${i.join(",")}}`),this}textSearch(s,i,{config:o,type:u}={}){let c="";u==="plain"?c="pl":u==="phrase"?c="ph":u==="websearch"&&(c="w");const h=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${c}fts${h}.${i}`),this}match(s){return Object.entries(s).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(s,i,o){return this.url.searchParams.append(s,`not.${i}.${o}`),this}or(s,{foreignTable:i,referencedTable:o=i}={}){const u=o?`${o}.or`:"or";return this.url.searchParams.append(u,`(${s})`),this}filter(s,i,o){return this.url.searchParams.append(s,`${i}.${o}`),this}}return mc.default=n,mc}var Zv;function F3(){if(Zv)return gc;Zv=1,Object.defineProperty(gc,"__esModule",{value:!0});const e=aa.__importDefault(lm());class n{constructor(s,{headers:i={},schema:o,fetch:u}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=u}select(s,i){const{head:o=!1,count:u}=i??{},c=o?"HEAD":"GET";let h=!1;const p=(s??"*").split("").map(m=>/\s/.test(m)&&!h?"":(m==='"'&&(h=!h),m)).join("");return this.url.searchParams.set("select",p),u&&this.headers.append("Prefer",`count=${u}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var u;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((p,m)=>p.concat(Object.keys(m)),[]);if(h.length>0){const p=[...new Set(h)].map(m=>`"${m}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:u,defaultToNull:c=!0}={}){var h;const p="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),u&&this.headers.append("Prefer",`count=${u}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const m=s.reduce((y,_)=>y.concat(Object.keys(_)),[]);if(m.length>0){const y=[...new Set(m)].map(_=>`"${_}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(s,{count:i}={}){var o;const u="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return gc.default=n,gc}var e2;function Z9(){if(e2)return pc;e2=1,Object.defineProperty(pc,"__esModule",{value:!0});const t=aa,e=t.__importDefault(F3()),n=t.__importDefault(lm());class r{constructor(i,{headers:o={},schema:u,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=u,this.fetch=c}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new r(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:u=!1,get:c=!1,count:h}={}){var p;let m;const y=new URL(`${this.url}/rpc/${i}`);let _;u||c?(m=u?"HEAD":"GET",Object.entries(o).filter(([b,C])=>C!==void 0).map(([b,C])=>[b,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([b,C])=>{y.searchParams.append(b,C)})):(m="POST",_=o);const x=new Headers(this.headers);return h&&x.set("Prefer",`count=${h}`),new n.default({method:m,url:y,headers:x,schema:this.schemaName,body:_,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return pc.default=r,pc}Object.defineProperty(hn,"__esModule",{value:!0});hn.PostgrestError=hn.PostgrestBuilder=hn.PostgrestTransformBuilder=hn.PostgrestFilterBuilder=hn.PostgrestQueryBuilder=hn.PostgrestClient=void 0;const la=aa,z3=la.__importDefault(Z9());hn.PostgrestClient=z3.default;const U3=la.__importDefault(F3());hn.PostgrestQueryBuilder=U3.default;const B3=la.__importDefault(lm());hn.PostgrestFilterBuilder=B3.default;const G3=la.__importDefault(D3());hn.PostgrestTransformBuilder=G3.default;const W3=la.__importDefault(M3());hn.PostgrestBuilder=W3.default;const $3=la.__importDefault(L3());hn.PostgrestError=$3.default;var e7=hn.default={PostgrestClient:z3.default,PostgrestQueryBuilder:U3.default,PostgrestFilterBuilder:B3.default,PostgrestTransformBuilder:G3.default,PostgrestBuilder:W3.default,PostgrestError:$3.default};const{PostgrestClient:t7,PostgrestQueryBuilder:zR,PostgrestFilterBuilder:UR,PostgrestTransformBuilder:BR,PostgrestBuilder:GR,PostgrestError:WR}=e7;class n7{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const r7="2.76.1",s7=`realtime-js/${r7}`,i7="1.0.0",L0=1e4,o7=1e3,a7=100;var yl;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(yl||(yl={}));var wt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(wt||(wt={}));var ur;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ur||(ur={}));var M0;(function(t){t.websocket="websocket"})(M0||(M0={}));var fi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(fi||(fi={}));class l7{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const u=r.decode(e.slice(o,o+s));o=o+s;const c=r.decode(e.slice(o,o+i));o=o+i;const h=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:u,event:c,payload:h}}}class H3{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ue;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ue||(Ue={}));const t2=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=u7(o,t,e,s),i),{}):{}},u7=(t,e,n,r)=>{const s=e.find(u=>u.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?V3(i,o):D0(o)},V3=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return f7(e,n)}switch(t){case Ue.bool:return c7(e);case Ue.float4:case Ue.float8:case Ue.int2:case Ue.int4:case Ue.int8:case Ue.numeric:case Ue.oid:return d7(e);case Ue.json:case Ue.jsonb:return h7(e);case Ue.timestamp:return p7(e);case Ue.abstime:case Ue.date:case Ue.daterange:case Ue.int4range:case Ue.int8range:case Ue.money:case Ue.reltime:case Ue.text:case Ue.time:case Ue.timestamptz:case Ue.timetz:case Ue.tsrange:case Ue.tstzrange:return D0(e);default:return D0(e)}},D0=t=>t,c7=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},d7=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},h7=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},f7=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(u=>V3(e,u))}return t},p7=t=>typeof t=="string"?t.replace(" ","T"):t,q3=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class up{constructor(e,n,r={},s=L0){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var n2;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(n2||(n2={}));class vl{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=vl.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=vl.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=vl.syncDiff(this.state,s,i,o),u())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),u={},c={};return this.map(i,(h,p)=>{o[h]||(c[h]=p)}),this.map(o,(h,p)=>{const m=i[h];if(m){const y=p.map(C=>C.presence_ref),_=m.map(C=>C.presence_ref),x=p.filter(C=>_.indexOf(C.presence_ref)<0),b=m.filter(C=>y.indexOf(C.presence_ref)<0);x.length>0&&(u[h]=x),b.length>0&&(c[h]=b)}else u[h]=p}),this.syncDiff(i,{joins:u,leaves:c},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(u,c)=>{var h;const p=(h=e[u])!==null&&h!==void 0?h:[];if(e[u]=this.cloneDeep(c),p.length>0){const m=e[u].map(_=>_.presence_ref),y=p.filter(_=>m.indexOf(_.presence_ref)<0);e[u].unshift(...y)}r(u,p,c)}),this.map(o,(u,c)=>{let h=e[u];if(!h)return;const p=c.map(m=>m.presence_ref);h=h.filter(m=>p.indexOf(m.presence_ref)<0),e[u]=h,s(u,h,c),h.length===0&&delete e[u]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var r2;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(r2||(r2={}));var xl;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(xl||(xl={}));var Br;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Br||(Br={}));class um{constructor(e,n={config:{}},r){var s,i;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=wt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new up(this,ur.join,this.params,this.timeout),this.rejoinTimer=new H3(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=wt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=wt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=wt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ur.reply,{},(o,u)=>{this._trigger(this._replyEventName(u),o)}),this.presence=new vl(this),this.broadcastEndpointURL=q3(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==wt.closed){const{config:{broadcast:o,presence:u,private:c}}=this.params,h=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(_=>_.filter))!==null&&s!==void 0?s:[],p=!!this.bindings[xl.PRESENCE]&&this.bindings[xl.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,m={},y={broadcast:o,presence:Object.assign(Object.assign({},u),{enabled:p}),postgres_changes:h,private:c};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(_=>e==null?void 0:e(Br.CHANNEL_ERROR,_)),this._onClose(()=>e==null?void 0:e(Br.CLOSED)),this.updateJoinPayload(Object.assign({config:y},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:_})=>{var x;if(this.socket.setAuth(),_===void 0){e==null||e(Br.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,C=(x=b==null?void 0:b.length)!==null&&x!==void 0?x:0,k=[];for(let S=0;S<C;S++){const E=b[S],{filter:{event:N,schema:O,table:T,filter:R}}=E,I=_&&_[S];if(I&&I.event===N&&I.schema===O&&I.table===T&&I.filter===R)k.push(Object.assign(Object.assign({},E),{id:I.id}));else{this.unsubscribe(),this.state=wt.errored,e==null||e(Br.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e(Br.SUBSCRIBED);return}}).receive("error",_=>{this.state=wt.errored,e==null||e(Br.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Br.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===wt.joined&&e===xl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(u.status===202)return{success:!0};let c=u.statusText;try{const h=await u.json();c=h.error||h.message||c}catch{}return Promise.reject(new Error(c))}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=h.body)===null||s===void 0?void 0:s.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,u,c;const h=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(u=(o=this.params)===null||o===void 0?void 0:o.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),h.receive("ok",()=>i("ok")),h.receive("error",()=>i("error")),h.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=wt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ur.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new up(this,ur.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=wt.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new up(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>a7){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:u,error:c,leave:h,join:p}=ur;if(r&&[u,c,h,p].indexOf(o)>=0&&r!==this._joinRef())return;let y=this._onMessage(o,n,r);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(_=>{var x,b,C;return((x=_.filter)===null||x===void 0?void 0:x.event)==="*"||((C=(b=_.filter)===null||b===void 0?void 0:b.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===o}).map(_=>_.callback(y,r)):(i=this.bindings[o])===null||i===void 0||i.filter(_=>{var x,b,C,k,S,E;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in _){const N=_.id,O=(x=_.filter)===null||x===void 0?void 0:x.event;return N&&((b=n.ids)===null||b===void 0?void 0:b.includes(N))&&(O==="*"||(O==null?void 0:O.toLocaleLowerCase())===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const N=(S=(k=_==null?void 0:_.filter)===null||k===void 0?void 0:k.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return N==="*"||N===((E=n==null?void 0:n.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===o}).map(_=>{if(typeof y=="object"&&"ids"in y){const x=y.data,{schema:b,table:C,commit_timestamp:k,type:S,errors:E}=x;y=Object.assign(Object.assign({},{schema:b,table:C,commit_timestamp:k,eventType:S,new:{},old:{},errors:E}),this._getPayloadRecords(x))}_.callback(y,r)})}_isClosed(){return this.state===wt.closed}_isJoined(){return this.state===wt.joined}_isJoining(){return this.state===wt.joining}_isLeaving(){return this.state===wt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&um.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ur.close,{},e)}_onError(e){this._on(ur.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=wt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=t2(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=t2(e.columns,e.old_record)),n}}const cp=()=>{},wc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},g7=[1e3,2e3,5e3,1e4],m7=1e4,y7=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class v7{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=L0,this.transport=null,this.heartbeatIntervalMs=wc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=cp,this.ref=0,this.reconnectTimer=null,this.logger=cp,this.conn=null,this.sendBuffer=[],this.serializer=new l7,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>oa(async()=>{const{default:u}=await Promise.resolve().then(()=>Ai);return{default:u}},void 0).then(({default:u})=>u(...o)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${M0.websocket}`,this.httpEndpoint=q3(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=n7.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:i7}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case yl.connecting:return fi.Connecting;case yl.open:return fi.Open;case yl.closing:return fi.Closing;default:return fi.Closed}}isConnected(){return this.connectionState()===fi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new um(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,u=>{var c;(c=this.conn)===null||c===void 0||c.send(u)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(o7,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},wc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,u=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${s} ${u}`.trim(),i),this.channels.filter(h=>h._isMember(r)).forEach(h=>h._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ur.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([y7],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:s7};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(ur.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new H3(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},wc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,u,c,h,p;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:L0,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:wc.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(u=e==null?void 0:e.heartbeatCallback)!==null&&u!==void 0?u:cp,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:m=>g7[m-1]||m7,this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:(m,y)=>y(JSON.stringify(m)),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class cm extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function tt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class x7 extends cm{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class F0 extends cm{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const dm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>oa(async()=>{const{default:r}=await Promise.resolve().then(()=>Ai);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},w7=()=>pe(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield oa(()=>Promise.resolve().then(()=>Ai),void 0)).Response:Response}),z0=t=>{if(Array.isArray(t))return t.map(n=>z0(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=z0(r)}),e},_7=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},dp=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),S7=(t,e,n)=>pe(void 0,void 0,void 0,function*(){const r=yield w7();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new x7(dp(s),i,o))}).catch(s=>{e(new F0(dp(s),s))}):e(new F0(dp(t),t))}),b7=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(_7(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function nu(t,e,n,r,s,i){return pe(this,void 0,void 0,function*(){return new Promise((o,u)=>{t(n,b7(e,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>S7(c,u,r))})})}function Wl(t,e,n,r){return pe(this,void 0,void 0,function*(){return nu(t,"GET",e,n,r)})}function ar(t,e,n,r,s){return pe(this,void 0,void 0,function*(){return nu(t,"POST",e,r,s,n)})}function U0(t,e,n,r,s){return pe(this,void 0,void 0,function*(){return nu(t,"PUT",e,r,s,n)})}function k7(t,e,n,r){return pe(this,void 0,void 0,function*(){return nu(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function hm(t,e,n,r,s){return pe(this,void 0,void 0,function*(){return nu(t,"DELETE",e,r,s,n)})}class E7{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return pe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(tt(e))return{data:null,error:e};throw e}})}}var K3;class C7{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[K3]="BlobDownloadBuilder",this.promise=null}asStream(){return new E7(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return pe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(tt(e))return{data:null,error:e};throw e}})}}K3=Symbol.toStringTag;const j7={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},s2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class N7{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=dm(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return pe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},s2),s);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,u["cache-control"]=`max-age=${o.cacheControl}`,u["content-type"]=o.contentType,c&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(u=Object.assign(Object.assign({},u),s.headers));const h=this._removeEmptyFolders(n),p=this._getFinalPath(h),m=yield(e=="PUT"?U0:ar)(this.fetch,`${this.url}/object/${p}`,i,Object.assign({headers:u},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:h,id:m.Id,fullPath:m.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tt(i))return{data:null,error:i};throw i}})}upload(e,n,r){return pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return pe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),u=new URL(this.url+`/object/upload/sign/${o}`);u.searchParams.set("token",n);try{let c;const h=Object.assign({upsert:s2.upsert},s),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",h.cacheControl)):(c=r,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType);const m=yield U0(this.fetch,u.toString(),c,{headers:p});return{data:{path:i,fullPath:m.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(tt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return pe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield ar(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),u=o.searchParams.get("token");if(!u)throw new cm("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:u},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}update(e,n,r){return pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return pe(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}copy(e,n,r){return pe(this,void 0,void 0,function*(){try{return{data:{path:(yield ar(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return pe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield ar(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return pe(this,void 0,void 0,function*(){try{const s=yield ar(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}download(e,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"",u=this._getFinalPath(e),c=()=>Wl(this.fetch,`${this.url}/${s}/${u}${o}`,{headers:this.headers,noResolveJson:!0});return new C7(c,this.shouldThrowOnError)}info(e){return pe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Wl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:z0(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}exists(e){return pe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield k7(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r)&&r instanceof F0){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let h=s.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${h}`)}}}remove(e){return pe(this,void 0,void 0,function*(){try{return{data:yield hm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n))return{data:null,error:n};throw n}})}list(e,n,r){return pe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},j7),n),{prefix:e||""});return{data:yield ar(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}listV2(e,n){return pe(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield ar(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Y3="2.76.1",X3={"X-Client-Info":`storage-js/${Y3}`};class P7{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},X3),n),this.fetch=dm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return pe(this,void 0,void 0,function*(){try{return{data:yield Wl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(tt(e))return{data:null,error:e};throw e}})}getBucket(e){return pe(this,void 0,void 0,function*(){try{return{data:yield Wl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n))return{data:null,error:n};throw n}})}createBucket(e){return pe(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield ar(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return pe(this,void 0,void 0,function*(){try{return{data:yield U0(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return pe(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return pe(this,void 0,void 0,function*(){try{return{data:yield hm(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n))return{data:null,error:n};throw n}})}}class T7{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},X3),n),this.fetch=dm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return pe(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n))return{data:null,error:n};throw n}})}listBuckets(e){return pe(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`,i=yield Wl(this.fetch,s,{headers:this.headers});return{data:Array.isArray(i)?i.filter(u=>u.type==="ANALYTICS"):[],error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return pe(this,void 0,void 0,function*(){try{return{data:yield hm(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n))return{data:null,error:n};throw n}})}}const fm={"X-Client-Info":`storage-js/${Y3}`,"Content-Type":"application/json"};class Q3 extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Cn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class hp extends Q3{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class R7 extends Q3{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var i2;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(i2||(i2={}));const pm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>oa(async()=>{const{default:r}=await Promise.resolve().then(()=>Ai);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},O7=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},o2=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),A7=(t,e,n)=>pe(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const u=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";e(new hp(o2(o),s,u))}).catch(()=>{const o=s+"",u=i.statusText||`HTTP ${s} error`;e(new hp(u,s,o))});else{const o=s+"",u=i.statusText||`HTTP ${s} error`;e(new hp(u,s,o))}}else e(new R7(o2(t),t))}),I7=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(O7(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n)):s};function L7(t,e,n,r,s,i){return pe(this,void 0,void 0,function*(){return new Promise((o,u)=>{t(n,I7(e,r,s,i)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const h=c.headers.get("content-type");return!h||!h.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>A7(c,u,r))})})}function jn(t,e,n,r,s){return pe(this,void 0,void 0,function*(){return L7(t,"POST",e,r,s,n)})}class M7{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fm),n),this.fetch=pm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return pe(this,void 0,void 0,function*(){try{return{data:(yield jn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}getIndex(e,n){return pe(this,void 0,void 0,function*(){try{return{data:yield jn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cn(r))return{data:null,error:r};throw r}})}listIndexes(e){return pe(this,void 0,void 0,function*(){try{return{data:yield jn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return pe(this,void 0,void 0,function*(){try{return{data:(yield jn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cn(r))return{data:null,error:r};throw r}})}}class D7{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fm),n),this.fetch=pm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return pe(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield jn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}getVectors(e){return pe(this,void 0,void 0,function*(){try{return{data:yield jn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}listVectors(e){return pe(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield jn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}queryVectors(e){return pe(this,void 0,void 0,function*(){try{return{data:yield jn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}deleteVectors(e){return pe(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield jn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}}class F7{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fm),n),this.fetch=pm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return pe(this,void 0,void 0,function*(){try{return{data:(yield jn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}getBucket(e){return pe(this,void 0,void 0,function*(){try{return{data:yield jn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}listBuckets(){return pe(this,arguments,void 0,function*(e={}){try{return{data:yield jn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return pe(this,void 0,void 0,function*(){try{return{data:(yield jn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}}class z7 extends F7{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new U7(this.url,this.headers,e,this.fetch)}}class U7 extends M7{constructor(e,n,r,s){super(e,n,s),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return pe(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return pe(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return pe(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return pe(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new B7(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class B7 extends D7{constructor(e,n,r,s,i){super(e,n,i),this.vectorBucketName=r,this.indexName=s}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return pe(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return pe(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return pe(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return pe(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return pe(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class G7 extends P7{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new N7(this.url,this.headers,e,this.fetch)}get vectors(){return new z7(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new T7(this.url+"/iceberg",this.headers,this.fetch)}}const W7="2.76.1";let Za="";typeof Deno<"u"?Za="deno":typeof document<"u"?Za="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Za="react-native":Za="node";const $7={"X-Client-Info":`supabase-js-${Za}/${W7}`},H7={headers:$7},V7={schema:"public"},q7={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},K7={},Y7=t=>{let e;return t?e=t:typeof fetch>"u"?e=A3:e=fetch,(...n)=>e(...n)},X7=()=>typeof Headers>"u"?I3:Headers,Q7=(t,e,n)=>{const r=Y7(n),s=X7();return async(i,o)=>{var u;const c=(u=await e())!==null&&u!==void 0?u:t;let h=new s(o==null?void 0:o.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:h}))}};function J7(t){return t.endsWith("/")?t:t+"/"}function Z7(t,e){var n,r;const{db:s,auth:i,realtime:o,global:u}=t,{db:c,auth:h,realtime:p,global:m}=e,y={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},h),i),realtime:Object.assign(Object.assign({},p),o),storage:{},global:Object.assign(Object.assign(Object.assign({},m),u),{headers:Object.assign(Object.assign({},(n=m==null?void 0:m.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?y.accessToken=t.accessToken:delete y.accessToken,y}function eE(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(J7(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const J3="2.76.1",mo=30*1e3,B0=3,fp=B0*mo,tE="http://localhost:9999",nE="supabase.auth.token",rE={"X-Client-Info":`gotrue-js/${J3}`},G0="X-Supabase-Api-Version",Z3={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},sE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,iE=10*60*1e3;class $l extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ye(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class oE extends $l{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function aE(t){return ye(t)&&t.name==="AuthApiError"}class pi extends $l{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Ws extends $l{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class ms extends Ws{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function lE(t){return ye(t)&&t.name==="AuthSessionMissingError"}class ao extends Ws{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _c extends Ws{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Sc extends Ws{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function uE(t){return ye(t)&&t.name==="AuthImplicitGrantRedirectError"}class a2 extends Ws{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class W0 extends Ws{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function pp(t){return ye(t)&&t.name==="AuthRetryableFetchError"}class l2 extends Ws{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class $0 extends Ws{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Pd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),u2=` 	
\r=`.split(""),cE=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<u2.length;e+=1)t[u2[e].charCodeAt(0)]=-2;for(let e=0;e<Pd.length;e+=1)t[Pd[e].charCodeAt(0)]=e;return t})();function c2(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Pd[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Pd[r]),e.queuedBits-=6}}function e_(t,e,n){const r=cE[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function d2(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{fE(o,r,n)};for(let o=0;o<t.length;o+=1)e_(t.charCodeAt(o),s,i);return e.join("")}function dE(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function hE(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}dE(r,e)}}function fE(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Do(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)e_(t.charCodeAt(s),n,r);return new Uint8Array(e)}function pE(t){const e=[];return hE(t,n=>e.push(n)),new Uint8Array(e)}function xi(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>c2(s,n,r)),c2(null,n,r),e.join("")}function gE(t){return Math.round(Date.now()/1e3)+t}function mE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const kn=()=>typeof window<"u"&&typeof document<"u",ai={tested:!1,writable:!1},t_=()=>{if(!kn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ai.tested)return ai.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ai.tested=!0,ai.writable=!0}catch{ai.tested=!0,ai.writable=!1}return ai.writable};function yE(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const n_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>oa(async()=>{const{default:r}=await Promise.resolve().then(()=>Ai);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},vE=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",yo=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},li=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},gs=async(t,e)=>{await t.removeItem(e)};class sh{constructor(){this.promise=new sh.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}sh.promiseConstructor=Promise;function gp(t){const e=t.split(".");if(e.length!==3)throw new $0("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!sE.test(e[r]))throw new $0("JWT not in base64url format");return{header:JSON.parse(d2(e[0])),payload:JSON.parse(d2(e[1])),signature:Do(e[2]),raw:{header:e[0],payload:e[1]}}}async function xE(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function wE(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function _E(t){return("0"+t.toString(16)).substr(-2)}function SE(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,_E).join("")}async function bE(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function kE(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await bE(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function lo(t,e,n=!1){const r=SE();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await yo(t,`${e}-code-verifier`,s);const i=await kE(r);return[i,r===i?"plain":"s256"]}const EE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function CE(t){const e=t.headers.get(G0);if(!e||!e.match(EE))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function jE(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function NE(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const PE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function uo(t){if(!PE.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function mp(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function h2(t){return JSON.parse(JSON.stringify(t))}const hi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),TE=[502,503,504];async function f2(t){var e;if(!vE(t))throw new W0(hi(t),0);if(TE.includes(t.status))throw new W0(hi(t),t.status);let n;try{n=await t.json()}catch(i){throw new pi(hi(i),i)}let r;const s=CE(t);if(s&&s.getTime()>=Z3["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new l2(hi(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ms}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new l2(hi(n),t.status,n.weak_password.reasons);throw new oE(hi(n),t.status||500,r)}const RE=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function we(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[G0]||(i[G0]=Z3["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const u=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await OE(t,e,n+u,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function OE(t,e,n,r,s,i){const o=RE(e,r,s,i);let u;try{u=await t(n,Object.assign({},o))}catch(c){throw console.error(c),new W0(hi(c),0)}if(u.ok||await f2(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(c){await f2(c)}}function ir(t){var e;let n=null;LE(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=gE(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function p2(t){const e=ir(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function bs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function AE(t){return{data:t,error:null}}function IE(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=ia(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:u,user:c},error:null}}function g2(t){return t}function LE(t){return t.access_token&&t.refresh_token&&t.expires_in}const yp=["global","local","others"];class ME{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=n_(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=yp[0]){if(yp.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${yp.join(", ")}`);try{return await we(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await we(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:bs})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=ia(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await we(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:IE,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ye(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await we(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:bs})}catch(n){if(ye(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,u,c;try{const h={nextPage:null,lastPage:0,total:0},p=await we(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:g2});if(p.error)throw p.error;const m=await p.json(),y=(o=p.headers.get("x-total-count"))!==null&&o!==void 0?o:0,_=(c=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return _.length>0&&(_.forEach(x=>{const b=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(x.split(";")[1].split("=")[1]);h[`${C}Page`]=b}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},m),h),error:null}}catch(h){if(ye(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){uo(e);try{return await we(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:bs})}catch(n){if(ye(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){uo(e);try{return await we(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:bs})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){uo(e);try{return await we(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:bs})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){uo(e.userId);try{const{data:n,error:r}=await we(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _deleteFactor(e){uo(e.userId),uo(e.id);try{return{data:await we(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,s,i,o,u,c;try{const h={nextPage:null,lastPage:0,total:0},p=await we(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:g2});if(p.error)throw p.error;const m=await p.json(),y=(o=p.headers.get("x-total-count"))!==null&&o!==void 0?o:0,_=(c=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return _.length>0&&(_.forEach(x=>{const b=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(x.split(";")[1].split("=")[1]);h[`${C}Page`]=b}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},m),h),error:null}}catch(h){if(ye(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await we(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await we(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await we(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await we(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}}function m2(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const co={debug:!!(globalThis&&t_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class r_ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class DE extends r_{}async function FE(t,e,n){co.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),co.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){co.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{co.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw co.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new DE(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(co.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function zE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function s_(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function UE(t){return parseInt(t,16)}function BE(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function GE(t){var e;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:u,requestId:c,resources:h,scheme:p,uri:m,version:y}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const _=s_(t.address),x=p?`${p}://${r}`:r,b=t.statement?`${t.statement}
`:"",C=`${x} wants you to sign in with your Ethereum account:
${_}

${b}`;let k=`URI: ${m}
Version: ${y}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(k+=`
Expiration Time: ${s.toISOString()}`),u&&(k+=`
Not Before: ${u.toISOString()}`),c&&(k+=`
Request ID: ${c}`),h){let S=`
Resources:`;for(const E of h){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);S+=`
- ${E}`}k+=S}return`${C}
${k}`}class ft extends Error{constructor({message:e,code:n,cause:r,name:s}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class Td extends ft{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function WE({error:t,options:e}){var n,r,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ft({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ft({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ft({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ft({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ft({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ft({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new ft({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ft({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(i_(o)){if(i.rp.id!==o)return new ft({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ft({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ft({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ft({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ft({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function $E({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ft({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ft({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(i_(r)){if(n.rpId!==r)return new ft({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ft({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ft({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ft({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class HE{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const VE=new HE;function qE(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,s=ia(t,["challenge","user","excludeCredentials"]),i=Do(e).buffer,o=Object.assign(Object.assign({},n),{id:Do(n.id).buffer}),u=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const h=r[c];u.excludeCredentials[c]=Object.assign(Object.assign({},h),{id:Do(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function KE(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=ia(t,["challenge","allowCredentials"]),s=Do(e).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const u=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},u),{id:Do(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return i}function YE(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:xi(new Uint8Array(t.response.attestationObject)),clientDataJSON:xi(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function XE(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:xi(new Uint8Array(s.authenticatorData)),clientDataJSON:xi(new Uint8Array(s.clientDataJSON)),signature:xi(new Uint8Array(s.signature)),userHandle:s.userHandle?xi(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function i_(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function y2(){var t,e;return!!(kn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function QE(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Td("Browser returned unexpected credential type",e)}:{data:null,error:new Td("Empty credential response",e)}}catch(e){return{data:null,error:WE({error:e,options:t})}}}async function JE(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Td("Browser returned unexpected credential type",e)}:{data:null,error:new Td("Empty credential response",e)}}catch(e){return{data:null,error:$E({error:e,options:t})}}}const ZE={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},eC={userVerification:"preferred",hints:["security-key"]};function Rd(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(e(o)){const u=r[i];e(u)?r[i]=Rd(u,o):r[i]=Rd(o)}else r[i]=o}return r}function tC(t,e){return Rd(ZE,t,e||{})}function nC(t,e){return Rd(eC,t,e||{})}class rC{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:u};const c=s??VE.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:h}=o.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${r}`),h.displayName||(h.displayName=h.name)}switch(o.webauthn.type){case"create":{const h=tC(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:p,error:m}=await QE({publicKey:h,signal:c});return p?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}case"request":{const h=nC(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:p,error:m}=await JE(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:h,signal:c}));return p?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}}}catch(o){return ye(o)?{data:null,error:o}:{data:null,error:new pi("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!n)return{data:null,error:new $l("rpId is required for WebAuthn authentication")};try{if(!y2())return{data:null,error:new pi("Browser does not support WebAuthn",null)};const{data:o,error:u}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:u};const{webauthn:c}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(o){return ye(o)?{data:null,error:o}:{data:null,error:new pi("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!n)return{data:null,error:new $l("rpId is required for WebAuthn registration")};try{if(!y2())return{data:null,error:new pi("Browser does not support WebAuthn",null)};const{data:o,error:u}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(p=>{var m;return(m=p.data)===null||m===void 0?void 0:m.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===e&&y.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:u};const{data:c,error:h}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:h}}catch(o){return ye(o)?{data:null,error:o}:{data:null,error:new pi("Unexpected error in register",o)}}}}zE();const sC={url:tE,storageKey:nE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:rE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function v2(t,e,n){return await n()}const ho={};class Hl{get jwks(){var e,n;return(n=(e=ho[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){ho[this.storageKey]=Object.assign(Object.assign({},ho[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=ho[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ho[this.storageKey]=Object.assign(Object.assign({},ho[this.storageKey]),{cachedAt:e})}constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Hl.nextInstanceID,Hl.nextInstanceID+=1,this.instanceID>0&&kn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},sC),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new ME({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=n_(s.fetch),this.lock=s.lock||v2,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:kn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=FE:this.lock=v2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new rC(this)},this.persistSession?(s.storage?this.storage=s.storage:t_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=m2(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=m2(this.memoryStorage)),kn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${J3}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=yE(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),kn()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),uE(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:u}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",u),await this._saveSession(o),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ye(n)?{error:n}:{error:new pi("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:ir}),{data:o,error:u}=i;if(u||!o)return{data:{user:null,session:null},error:u};const c=o.session,h=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:h,session:c},error:null}}catch(i){if(ye(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:p,password:m,options:y}=e;let _=null,x=null;this.flowType==="pkce"&&([_,x]=await lo(this.storage,this.storageKey)),i=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:p,password:m,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:_,code_challenge_method:x},xform:ir})}else if("phone"in e){const{phone:p,password:m,options:y}=e;i=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:m,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},channel:(s=y==null?void 0:y.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:ir})}else throw new _c("You must provide either an email or phone number and a password");const{data:o,error:u}=i;if(u||!o)return{data:{user:null,session:null},error:u};const c=o.session,h=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:h,session:c},error:null}}catch(i){if(ye(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:u}=e;n=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:p2})}else if("phone"in e){const{phone:i,password:o,options:u}=e;n=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:p2})}else throw new _c("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ao}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ye(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,s,i,o,u,c,h,p,m,y;let _,x;if("message"in e)_=e.message,x=e.signature;else{const{chain:b,wallet:C,statement:k,options:S}=e;let E;if(kn())if(typeof C=="object")E=C;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")E=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=C}const N=new URL((n=S==null?void 0:S.url)!==null&&n!==void 0?n:window.location.href),O=await E.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!O||O.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=s_(O[0]);let R=(r=S==null?void 0:S.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!R){const U=await E.request({method:"eth_chainId"});R=UE(U)}const I={domain:N.host,address:T,statement:k,uri:N.href,version:"1",chainId:R,nonce:(s=S==null?void 0:S.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=S==null?void 0:S.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(u=S==null?void 0:S.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(c=S==null?void 0:S.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(h=S==null?void 0:S.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(p=S==null?void 0:S.signInWithEthereum)===null||p===void 0?void 0:p.resources};_=GE(I),x=await E.request({method:"personal_sign",params:[BE(_),T]})}try{const{data:b,error:C}=await we(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:x},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:ir});if(C)throw C;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new ao}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:C})}catch(b){if(ye(b))return{data:{user:null,session:null},error:b};throw b}}async signInWithSolana(e){var n,r,s,i,o,u,c,h,p,m,y,_;let x,b;if("message"in e)x=e.message,b=e.signature;else{const{chain:C,wallet:k,statement:S,options:E}=e;let N;if(kn())if(typeof k=="object")N=k;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))N=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=k}const O=new URL((n=E==null?void 0:E.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in N&&N.signIn){const T=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E==null?void 0:E.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),S?{statement:S}:null));let R;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")R=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)R=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)x=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),b=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${O.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(s=(r=E==null?void 0:E.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=E==null?void 0:E.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((o=E==null?void 0:E.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((u=E==null?void 0:E.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((c=E==null?void 0:E.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((h=E==null?void 0:E.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((m=(p=E==null?void 0:E.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||m===void 0)&&m.length?["Resources",...E.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const T=await N.signMessage(new TextEncoder().encode(x),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=T}}try{const{data:C,error:k}=await we(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:xi(b)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:ir});if(k)throw k;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new ao}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:k})}catch(C){if(ye(C))return{data:{user:null,session:null},error:C};throw C}}async _exchangeCodeForSession(e){const n=await li(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await we(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ir});if(await gs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ao}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(ye(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,u=await we(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ir}),{data:c,error:h}=u;return h?{data:{user:null,session:null},error:h}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ao}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:h})}catch(n){if(ye(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:u,options:c}=e;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await lo(this.storage,this.storageKey));const{error:m}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in e){const{phone:u,options:c}=e,{data:h,error:p}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p}}throw new _c("You must provide either an email or phone number.")}catch(u){if(ye(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:u}=await we(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ir});if(u)throw u;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,h=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:h,session:c},error:null}}catch(s){if(ye(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await lo(this.storage,this.storageKey)),await we(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:AE})}catch(i){if(ye(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new ms;const{error:s}=await we(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(ye(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await we(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:u}=await we(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:u}}throw new _c("You must provide either an email or phone number and a type")}catch(n){if(ye(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await li(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<fp:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await li(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=mp()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,h,p)=>(!o&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,h,p))})}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:bs}):await this._useSession(async n=>{var r,s,i;const{data:o,error:u}=n;if(u)throw u;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ms}:await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:bs})})}catch(n){if(ye(n))return lE(n)&&(await this._removeSession(),await gs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new ms;const o=s.session;let u=null,c=null;this.flowType==="pkce"&&e.email!=null&&([u,c]=await lo(this.storage,this.storageKey));const{data:h,error:p}=await we(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:c}),jwt:o.access_token,xform:bs});if(p)throw p;return o.user=h.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ms;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=gp(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:u,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!u)return{data:{user:null,session:null},error:null};i=u}else{const{data:u,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(ye(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:u}=n;if(u)throw u;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new ms;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ye(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!kn())throw new Sc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Sc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new a2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Sc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new a2("No code detected.");const{data:S,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:u,expires_at:c,token_type:h}=e;if(!i||!u||!o||!h)throw new Sc("No session defined in URL");const p=Math.round(Date.now()/1e3),m=parseInt(u);let y=p+m;c&&(y=parseInt(c));const _=y-p;_*1e3<=mo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${m}s`);const x=y-m;p-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,y,p):p-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,y,p);const{data:b,error:C}=await this._getUser(i);if(C)throw C;const k={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:m,expires_at:y,refresh_token:o,token_type:h,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:k,redirectType:e.type},error:null}}catch(r){if(ye(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await li(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:u}=await this.admin.signOut(o,e);if(u&&!(aE(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await gs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=mE(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await lo(this.storage,this.storageKey,!0));try{return await we(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(ye(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,u,c,h,p;const{data:m,error:y}=i;if(y)throw y;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await we(this.fetch,"GET",_,{headers:this.headers,jwt:(p=(h=m.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(s)throw s;return kn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ye(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:u,token:c,access_token:h,nonce:p}=e,m=await we(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:c,access_token:h,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ir}),{data:y,error:_}=m;return _?{data:{user:null,session:null},error:_}:!y||!y.session||!y.user?{data:{user:null,session:null},error:new ao}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),{data:y,error:_})}catch(s){if(ye(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await we(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await wE(async s=>(s>0&&await xE(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await we(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ir})),(s,i)=>{const o=200*Math.pow(2,s);return i&&pp(i)&&Date.now()+o-r<mo})}catch(r){if(this._debug(n,"error",r),ye(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),kn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await li(this.storage,this.storageKey);if(s&&this.userStorage){let o=await li(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await yo(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:mp()}else if(s&&!s.user&&!s.user){const o=await li(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await gs(this.storage,this.storageKey+"-user"),await yo(this.storage,this.storageKey,s)):s.user=mp()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<fp;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${fp}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),pp(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:u}=await this._getUser(s.access_token);!u&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new ms;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new sh;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new ms;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const u={data:i.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(i){if(this._debug(s,"error",i),ye(i)){const o={data:null,error:i};return pp(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let u=0;u<i.length;u+=1)console.error(i[u]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await yo(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=h2(s);await yo(this.storage,this.storageKey,i)}else{const s=h2(n);await yo(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await gs(this.storage,this.storageKey),await gs(this.storage,this.storageKey+"-code-verifier"),await gs(this.storage,this.storageKey+"-user"),this.userStorage&&await gs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&kn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),mo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/mo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${mo}ms, refresh threshold is ${B0} ticks`),s<=B0&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof r_)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!kn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await lo(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(u.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await we(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:h}=await we(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(e.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?YE(e.webauthn.credential_response):XE(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:c}=await we(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:c})})}catch(n){if(ye(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const o=await we(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:u}=o;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:qE(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:KE(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ye(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=gp(s.access_token);let u=null;o.aal&&(u=o.aal);let c=u;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const p=o.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(u=>u.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(u=>u.kid===e),r&&this.jwks_cached_at+iE>s)return r;const{data:i,error:o}=await we(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(u=>u.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:_,error:x}=await this.getSession();if(x||!_.session)return{data:null,error:x};r=_.session.access_token}const{header:s,payload:i,signature:o,raw:{header:u,payload:c}}=gp(r);n!=null&&n.allowExpired||jE(i.exp);const h=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!h){const{error:_}=await this.getUser(r);if(_)throw _;return{data:{claims:i,header:s,signature:o},error:null}}const p=NE(s.alg),m=await crypto.subtle.importKey("jwk",h,p,!0,["verify"]);if(!await crypto.subtle.verify(p,m,o,pE(`${u}.${c}`)))throw new $0("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}}Hl.nextInstanceID=0;const iC=Hl;class oC extends iC{constructor(e){super(e)}}class aC{constructor(e,n,r){var s,i,o;this.supabaseUrl=e,this.supabaseKey=n;const u=eE(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,h={db:V7,realtime:K7,auth:Object.assign(Object.assign({},q7),{storageKey:c}),global:H7},p=Z7(r??{},h);this.storageKey=(s=p.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=p.global.headers)!==null&&i!==void 0?i:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(m,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=p.auth)!==null&&o!==void 0?o:{},this.headers,p.global.fetch),this.fetch=Q7(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new t7(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new G7(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new q9(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:u,lock:c,debug:h},p,m){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new oC({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),p),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:u,lock:c,debug:h,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new v7(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const lC=(t,e,n)=>new aC(t,e,n);function uC(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}uC()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const cC="https://xezmvslgaclidlkpkkuc.supabase.co",dC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inhlem12c2xnYWNsaWRsa3Bra3VjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA3NTEyMjgsImV4cCI6MjA3NjMyNzIyOH0.bHf7J86q7Pj62mk2mnE1az0roX3wHuBo4CVu1uIIv10",Qc=lC(cC,dC,{auth:{persistSession:!0,autoRefreshToken:!0}}),o_=A.createContext(void 0),hC=({children:t})=>{const[e,n]=A.useState(null),[r,s]=A.useState(!0);A.useEffect(()=>{(async()=>{if(localStorage.getItem("auth_token"))try{const _=await Ja.me();n(_)}catch(_){console.error("Auth check failed:",_),localStorage.removeItem("auth_token")}s(!1)})()},[]);const i=async(m,y)=>{const{user:_}=await Ja.login(m,y);n(_)},p={user:e,loading:r,login:i,register:async(m,y,_)=>{await Ja.register(m,y,_),await i(m,y)},loginWithGoogle:async()=>{const{error:m}=await Qc.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`}});if(m)throw new Error(m.message)},loginWithApple:async()=>{const{error:m}=await Qc.auth.signInWithOAuth({provider:"apple",options:{redirectTo:`${window.location.origin}/auth/callback`}});if(m)throw new Error(m.message)},logout:()=>{Ja.logout(),Qc.auth.signOut(),n(null)},isAuthenticated:!!e};return f.jsx(o_.Provider,{value:p,children:t})},Ii=()=>{const t=A.useContext(o_);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ln=(t,e)=>{const n=A.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:u="",children:c,...h},p)=>A.createElement("svg",{ref:p,...fC,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${pC(t)}`,u].join(" "),...h},[...e.map(([m,y])=>A.createElement(m,y)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=Ln("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=Ln("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=Ln("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=Ln("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=Ln("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=Ln("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=Ln("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=Ln("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=Ln("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=Ln("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=Ln("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=Ln("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=Ln("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),bC={},w2=t=>{let e;const n=new Set,r=(p,m)=>{const y=typeof p=="function"?p(e):p;if(!Object.is(y,e)){const _=e;e=m??(typeof y!="object"||y===null)?y:Object.assign({},e,y),n.forEach(x=>x(e,_))}},s=()=>e,c={setState:r,getState:s,getInitialState:()=>h,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{(bC?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},h=e=t(r,s,c);return c},kC=t=>t?w2(t):w2;var u_={exports:{}},c_={},d_={exports:{}},h_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yo=A;function EC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var CC=typeof Object.is=="function"?Object.is:EC,jC=Yo.useState,NC=Yo.useEffect,PC=Yo.useLayoutEffect,TC=Yo.useDebugValue;function RC(t,e){var n=e(),r=jC({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return PC(function(){s.value=n,s.getSnapshot=e,xp(s)&&i({inst:s})},[t,n,e]),NC(function(){return xp(s)&&i({inst:s}),t(function(){xp(s)&&i({inst:s})})},[t]),TC(n),n}function xp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!CC(t,n)}catch{return!0}}function OC(t,e){return e()}var AC=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?OC:RC;h_.useSyncExternalStore=Yo.useSyncExternalStore!==void 0?Yo.useSyncExternalStore:AC;d_.exports=h_;var IC=d_.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ih=A,LC=IC;function MC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var DC=typeof Object.is=="function"?Object.is:MC,FC=LC.useSyncExternalStore,zC=ih.useRef,UC=ih.useEffect,BC=ih.useMemo,GC=ih.useDebugValue;c_.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=zC(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=BC(function(){function c(_){if(!h){if(h=!0,p=_,_=r(_),s!==void 0&&o.hasValue){var x=o.value;if(s(x,_))return m=x}return m=_}if(x=m,DC(p,_))return x;var b=r(_);return s!==void 0&&s(x,b)?(p=_,x):(p=_,m=b)}var h=!1,p,m,y=n===void 0?null:n;return[function(){return c(e())},y===null?void 0:function(){return c(y())}]},[e,n,r,s]);var u=FC(t,i[0],i[1]);return UC(function(){o.hasValue=!0,o.value=u},[u]),GC(u),u};u_.exports=c_;var WC=u_.exports;const $C=Id(WC),f_={},{useDebugValue:HC}=xe,{useSyncExternalStoreWithSelector:VC}=$C;let _2=!1;const qC=t=>t;function KC(t,e=qC,n){(f_?"production":void 0)!=="production"&&n&&!_2&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),_2=!0);const r=VC(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return HC(r),r}const S2=t=>{(f_?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?kC(t):t,n=(r,s)=>KC(e,r,s);return Object.assign(n,e),n},YC=t=>t?S2(t):S2,Fo=YC((t,e)=>({items:[],addItem:n=>{t(r=>({items:[...r.items,n]}))},removeItem:n=>{t(r=>({items:r.items.filter(s=>s.id!==n)}))},updateQuantity:(n,r)=>{t(s=>({items:s.items.map(i=>i.id===n?{...i,quantity:r}:i)}))},updateItem:(n,r)=>{t(s=>({items:s.items.map(i=>i.id===n?r:i)}))},getItem:n=>e().items.find(s=>s.id===n),clearCart:()=>{t({items:[]})},getTotalPrice:()=>e().items.reduce((r,s)=>r+s.unitPrice*s.quantity,0)}));function XC({children:t}){const e=Fo(o=>o.items.length),n=Jr(),{isAuthenticated:r,user:s}=Ii(),i=n.pathname.startsWith("/products/")&&n.pathname!=="/products";return f.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[!i&&f.jsx("header",{className:"bg-white sticky top-0 z-50",children:f.jsxs("nav",{className:"max-w-7xl mx-auto px-6 lg:px-8 h-16 flex items-center justify-between",children:[f.jsx(Pe,{to:"/",className:"text-2xl font-bold text-gray-900",children:"Raspberry"}),f.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[f.jsx(Pe,{to:"/products",className:"text-sm text-gray-900 hover:text-gray-600 transition-colors",children:"Products"}),f.jsx(Pe,{to:"/how-it-works",className:"text-sm text-gray-900 hover:text-gray-600 transition-colors",children:"How it works"}),f.jsx(Pe,{to:"/about",className:"text-sm text-gray-900 hover:text-gray-600 transition-colors",children:"Pricing & Service"}),f.jsx(Pe,{to:"/case-studies",className:"text-sm text-gray-900 hover:text-gray-600 transition-colors",children:"Case Studies"}),f.jsx(Pe,{to:"/about",className:"text-sm text-gray-900 hover:text-gray-600 transition-colors",children:"Blog"})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs(Pe,{to:"/cart",className:"relative text-gray-900 hover:text-gray-600 transition-colors",children:[f.jsx(l_,{size:20}),e>0&&f.jsx("span",{className:"absolute -top-2 -right-2 bg-black text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:e})]}),r?f.jsxs(Pe,{to:"/dashboard",className:"flex items-center gap-2 text-sm text-gray-900 hover:text-gray-600 transition-colors",children:[f.jsx(SC,{size:18}),f.jsx("span",{className:"hidden sm:inline",children:s==null?void 0:s.name})]}):f.jsx(Pe,{to:"/login",className:"text-sm text-gray-900 hover:text-gray-600 transition-colors",children:"Login"}),f.jsx(Pe,{to:"/products",className:"px-5 py-2.5 bg-black text-white text-sm font-medium rounded-full hover:bg-gray-800 transition-colors",children:"Start designing"})]})]})}),f.jsx("main",{className:"flex-1",children:t}),f.jsx("footer",{className:"bg-gray-900 text-white py-12 mt-auto",children:f.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:f.jsx("div",{className:"text-center",children:f.jsxs("p",{className:"text-gray-400 text-sm",children:["© ",new Date().getFullYear()," Raspberry. All rights reserved."]})})})})]})}class QC extends A.Component{constructor(){super(...arguments);cy(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("Uncaught error:",n,r)}render(){var n,r;return this.state.hasError?f.jsxs("div",{style:{padding:"20px",maxWidth:"800px",margin:"50px auto"},children:[f.jsx("h1",{style:{color:"red"},children:"Something went wrong"}),f.jsxs("details",{style:{whiteSpace:"pre-wrap",background:"#f5f5f5",padding:"10px",borderRadius:"5px"},children:[f.jsx("summary",{children:"Error Details"}),f.jsx("p",{children:(n=this.state.error)==null?void 0:n.toString()}),f.jsx("p",{children:(r=this.state.error)==null?void 0:r.stack})]}),f.jsx("button",{onClick:()=>window.location.href="/",style:{marginTop:"20px",padding:"10px 20px",background:"#007bff",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Go to Homepage"})]}):this.props.children}}function JC({children:t}){const{isAuthenticated:e,loading:n}=Ii(),r=Jr();return n?f.jsx("div",{className:"min-h-[80vh] flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-black mx-auto"}),f.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):e?f.jsx(f.Fragment,{children:t}):f.jsx(Yb,{to:"/login",state:{from:r},replace:!0})}function ZC(){const[t,e]=A.useState([]),[n,r]=A.useState(!0),[s,i]=A.useState("All");A.useEffect(()=>{e([{id:"1",title:"Classic Cotton T-Shirt",slug:"classic-tee",description:"Premium 100% cotton t-shirt",images:["/assets/blank-tshirt.png"],status:"active",variants:[{id:"1",product_id:"1",color:"White",size:"M",sku:"TEE-WHT-M",base_price:12.99,stock_level:100}]}]),r(!1),im.getAll().then(h=>{h&&h.length>0&&e(h)}).catch(h=>{console.log("Using mock data, API unavailable:",h.message)})},[]);const o=["T-Shirts","Hoodies","Sportswear","Hats & Bags","Women"],u=["#000000","#1e3a8a","#6b7280","#ffffff","#7c2d12"];return f.jsxs("div",{className:"bg-white min-h-screen",children:[f.jsx("section",{className:"h-screen flex items-center",children:f.jsxs("div",{className:"w-full grid lg:grid-cols-2 gap-0",children:[f.jsx("div",{className:"flex items-center justify-center px-12 lg:px-20",children:f.jsxs("div",{className:"max-w-lg",children:[f.jsx("h1",{className:"text-5xl lg:text-6xl font-bold leading-tight mb-6",children:"Create and sell premium custom clothes easily"}),f.jsx("p",{className:"text-lg text-gray-600 leading-relaxed mb-8",children:"Design, customize, and order high-quality apparel with our intuitive customization studio."}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[f.jsx(Pe,{to:"/products/classic-tee",className:"px-6 py-3 bg-black text-white text-sm font-medium rounded-md hover:bg-gray-800 transition-colors text-center",children:"Start Designing"}),f.jsx(Pe,{to:"/products",className:"px-6 py-3 border border-gray-300 text-gray-700 text-sm font-medium rounded-md hover:bg-gray-50 transition-colors text-center",children:"View Products"})]}),f.jsxs("div",{className:"mt-10 grid grid-cols-2 gap-4 text-xs",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-5 h-5 bg-green-100 rounded-full flex items-center justify-center",children:f.jsx("svg",{className:"w-3 h-3 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),f.jsx("span",{className:"text-gray-600",children:"No MOQ"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-5 h-5 bg-blue-100 rounded-full flex items-center justify-center",children:f.jsx("svg",{className:"w-3 h-3 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),f.jsx("span",{className:"text-gray-600",children:"High quality DTG"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-5 h-5 bg-purple-100 rounded-full flex items-center justify-center",children:f.jsx("svg",{className:"w-3 h-3 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),f.jsx("span",{className:"text-gray-600",children:"Fast turnaround"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-5 h-5 bg-orange-100 rounded-full flex items-center justify-center",children:f.jsx("svg",{className:"w-3 h-3 text-orange-600",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),f.jsx("span",{className:"text-gray-600",children:"100% organic cotton"})]})]})]})}),f.jsx("div",{className:"relative h-screen overflow-hidden bg-white",children:f.jsx("div",{className:"absolute inset-0 flex items-center justify-start -ml-10",children:f.jsx("img",{src:"/assets/pink-hoodie-model.jpeg",alt:"Product model",className:"h-full w-auto object-contain"})})})]})}),f.jsx("section",{className:"pt-8 pb-20 bg-white",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsxs("h2",{className:"text-4xl lg:text-5xl font-bold mb-4",children:["Beautiful bestselling blanks,",f.jsx("br",{}),"ready for your vision"]}),f.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto mb-8",children:"Specially curated high-quality garments perfect for your custom designs. Start with our premium basics and bring your creative vision to life."}),f.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:[o.map(c=>f.jsx("button",{onClick:()=>i(c),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${s===c?"bg-black text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:c},c)),f.jsx("button",{onClick:()=>i("All"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${s==="All"?"bg-black text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:"All products"})]})]}),n?f.jsx("div",{className:"text-center py-20",children:f.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-x-6 gap-y-12",children:t.slice(0,5).map(c=>f.jsxs(Pe,{to:`/products/${c.slug}`,className:"group block",children:[f.jsx("div",{className:"mb-4 overflow-hidden -mx-4",children:f.jsx("div",{className:"aspect-[4/5] flex items-center justify-center",children:c.images&&c.images.length>0?f.jsx("img",{src:c.images[0],alt:c.title,className:"w-full h-full object-contain group-hover:scale-[1.02] transition-transform duration-500",style:{imageRendering:"auto"},onError:h=>{h.currentTarget.src="/assets/blank-tshirt.png"}}):f.jsx("img",{src:"/assets/blank-tshirt.png",alt:c.title,className:"w-full h-full object-contain group-hover:scale-[1.02] transition-transform duration-500",style:{imageRendering:"auto"}})})}),f.jsx("div",{className:"flex justify-center gap-1.5 mb-2",children:u.map((h,p)=>f.jsx("div",{className:"w-3 h-3 rounded-full border border-gray-300",style:{backgroundColor:h}},p))}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-sm font-medium mb-1",children:c.title}),f.jsx("p",{className:"text-sm text-gray-600",children:"from $12.98"})]})]},c.id))})]})}),f.jsxs("section",{className:"py-16 bg-white overflow-hidden relative",children:[f.jsxs("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 z-20 flex items-center",children:[f.jsx("div",{className:"bg-white px-8 py-4 relative z-10",children:f.jsx("h3",{className:"text-4xl font-bold",children:"Trusted by"})}),f.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-96 bg-gradient-to-r from-white via-white to-transparent pointer-events-none"})]}),f.jsx("div",{className:"relative",children:f.jsxs("div",{className:"flex animate-scroll",children:[f.jsxs("div",{className:"flex items-center gap-16 min-w-max pr-16",children:[f.jsxs("div",{className:"text-2xl font-bold text-gray-800",children:["UNIVERSAL",f.jsx("br",{}),"MUSIC GROUP"]}),f.jsx("div",{className:"text-2xl font-bold text-gray-800",style:{letterSpacing:"0.2em"},children:"DINAMO"}),f.jsx("div",{className:"text-2xl font-bold text-gray-800",children:"believe."}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-8 h-8 bg-black rounded-full flex items-center justify-center",children:f.jsx("div",{className:"w-6 h-6 border-2 border-white rounded-full"})}),f.jsxs("div",{className:"text-xl font-medium text-gray-800",children:["Index",f.jsx("br",{}),"Ventures"]})]})]}),f.jsxs("div",{className:"flex items-center gap-16 min-w-max pr-16",children:[f.jsxs("div",{className:"text-2xl font-bold text-gray-800",children:["UNIVERSAL",f.jsx("br",{}),"MUSIC GROUP"]}),f.jsx("div",{className:"text-2xl font-bold text-gray-800",style:{letterSpacing:"0.2em"},children:"DINAMO"}),f.jsx("div",{className:"text-2xl font-bold text-gray-800",children:"believe."}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-8 h-8 bg-black rounded-full flex items-center justify-center",children:f.jsx("div",{className:"w-6 h-6 border-2 border-white rounded-full"})}),f.jsxs("div",{className:"text-xl font-medium text-gray-800",children:["Index",f.jsx("br",{}),"Ventures"]})]})]}),f.jsxs("div",{className:"flex items-center gap-16 min-w-max pr-16",children:[f.jsxs("div",{className:"text-2xl font-bold text-gray-800",children:["UNIVERSAL",f.jsx("br",{}),"MUSIC GROUP"]}),f.jsx("div",{className:"text-2xl font-bold text-gray-800",style:{letterSpacing:"0.2em"},children:"DINAMO"}),f.jsx("div",{className:"text-2xl font-bold text-gray-800",children:"believe."}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-8 h-8 bg-black rounded-full flex items-center justify-center",children:f.jsx("div",{className:"w-6 h-6 border-2 border-white rounded-full"})}),f.jsxs("div",{className:"text-xl font-medium text-gray-800",children:["Index",f.jsx("br",{}),"Ventures"]})]})]}),f.jsxs("div",{className:"flex items-center gap-16 min-w-max pr-16",children:[f.jsxs("div",{className:"text-2xl font-bold text-gray-800",children:["UNIVERSAL",f.jsx("br",{}),"MUSIC GROUP"]}),f.jsx("div",{className:"text-2xl font-bold text-gray-800",style:{letterSpacing:"0.2em"},children:"DINAMO"}),f.jsx("div",{className:"text-2xl font-bold text-gray-800",children:"believe."}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-8 h-8 bg-black rounded-full flex items-center justify-center",children:f.jsx("div",{className:"w-6 h-6 border-2 border-white rounded-full"})}),f.jsxs("div",{className:"text-xl font-medium text-gray-800",children:["Index",f.jsx("br",{}),"Ventures"]})]})]})]})})]})]})}function ej(){const[t,e]=A.useState([]),[n,r]=A.useState(!0),[s]=A.useState(null);return A.useEffect(()=>{e([{id:"1",title:"Classic Cotton T-Shirt",slug:"classic-tee",description:"Premium 100% cotton t-shirt",images:["/assets/blank-tshirt.png"],status:"active",variants:[{id:"1",product_id:"1",color:"White",size:"M",sku:"TEE-WHT-M",base_price:12.99,stock_level:100}]}]),r(!1),im.getAll().then(o=>{o&&o.length>0&&e(o)}).catch(o=>{console.log("Using mock data, API unavailable:",o.message)})},[]),n?f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:f.jsxs("div",{className:"text-center py-16",children:[f.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"}),f.jsx("p",{className:"mt-4 text-gray-600",children:"Loading products..."})]})}):s?f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:f.jsxs("div",{className:"text-center py-16",children:[f.jsx("p",{className:"text-red-600 text-lg",children:s}),f.jsx("p",{className:"text-gray-500 mt-4",children:"Make sure the backend server is running and the database is set up."})]})}):f.jsx("div",{className:"bg-white min-h-screen",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8 py-12",children:[f.jsxs("div",{className:"mb-12",children:[f.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Choose from our"}),f.jsx("h1",{className:"text-4xl font-bold",children:"products"})]}),t.length===0?f.jsx("div",{className:"text-center py-20",children:f.jsx("p",{className:"text-gray-500 text-base",children:"No products available"})}):f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-6 gap-y-12",children:t.map(i=>f.jsxs(Pe,{to:`/products/${i.slug}`,className:"group block",children:[f.jsx("div",{className:"mb-4 overflow-hidden -mx-4",children:f.jsx("div",{className:"aspect-[4/5] flex items-center justify-center",children:i.images&&i.images.length>0?f.jsx("img",{src:i.images[0],alt:i.title,className:"w-full h-full object-contain group-hover:scale-[1.02] transition-transform duration-500",style:{imageRendering:"auto"},onError:o=>{o.currentTarget.src="/assets/blank-tshirt.png"}}):f.jsx("img",{src:"/assets/blank-tshirt.png",alt:i.title,className:"w-full h-full object-contain group-hover:scale-[1.02] transition-transform duration-500",style:{imageRendering:"auto"}})})}),f.jsxs("div",{className:"text-center",children:[f.jsx("h3",{className:"text-sm font-medium mb-1",children:i.title}),i.variants&&i.variants.length>0&&f.jsxs("p",{className:"text-sm text-gray-600",children:["from €",Number(i.variants[0].base_price).toFixed(2)]})]})]},i.id))})]})})}const tj=Math.PI/180;function nj(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const wi=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},se={_global:wi,version:"10.0.4",isBrowser:nj(),isUnminified:/param/.test((function(t){}).toString()),dblClickWindow:400,getAngle(t){return se.angleDeg?t*tj:t},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_renderBackend:"web",legacyTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return se.DD.isDragging},isTransforming(){var t,e;return(e=(t=se.Transformer)===null||t===void 0?void 0:t.isTransforming())!==null&&e!==void 0?e:!1},isDragReady(){return!!se.DD.node},releaseCanvasOnDestroy:!0,document:wi.document,_injectGlobal(t){typeof wi.Konva<"u"&&console.error("Several Konva instances detected. It is not recommended to use multiple Konva instances in the same environment."),wi.Konva=t}},it=t=>{se[t.prototype.getClassName()]=t};se._injectGlobal(se);const rj=`Konva.js unsupported environment.

Looks like you are trying to use Konva.js in Node.js environment. because "document" object is undefined.

To use Konva.js in Node.js environment, you need to use the "canvas-backend" or "skia-backend" module.

bash: npm install canvas
js: import "konva/canvas-backend";

or

bash: npm install skia-canvas
js: import "konva/skia-backend";
`,b2=()=>{if(typeof document>"u")throw new Error(rj)};class Nn{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new Nn(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){const n=this.m;return{x:n[0]*e.x+n[2]*e.y+n[4],y:n[1]*e.x+n[3]*e.y+n[5]}}translate(e,n){return this.m[4]+=this.m[0]*e+this.m[2]*n,this.m[5]+=this.m[1]*e+this.m[3]*n,this}scale(e,n){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=n,this.m[3]*=n,this}rotate(e){const n=Math.cos(e),r=Math.sin(e),s=this.m[0]*n+this.m[2]*r,i=this.m[1]*n+this.m[3]*r,o=this.m[0]*-r+this.m[2]*n,u=this.m[1]*-r+this.m[3]*n;return this.m[0]=s,this.m[1]=i,this.m[2]=o,this.m[3]=u,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,n){const r=this.m[0]+this.m[2]*n,s=this.m[1]+this.m[3]*n,i=this.m[2]+this.m[0]*e,o=this.m[3]+this.m[1]*e;return this.m[0]=r,this.m[1]=s,this.m[2]=i,this.m[3]=o,this}multiply(e){const n=this.m[0]*e.m[0]+this.m[2]*e.m[1],r=this.m[1]*e.m[0]+this.m[3]*e.m[1],s=this.m[0]*e.m[2]+this.m[2]*e.m[3],i=this.m[1]*e.m[2]+this.m[3]*e.m[3],o=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],u=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=n,this.m[1]=r,this.m[2]=s,this.m[3]=i,this.m[4]=o,this.m[5]=u,this}invert(){const e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),n=this.m[3]*e,r=-this.m[1]*e,s=-this.m[2]*e,i=this.m[0]*e,o=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),u=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=n,this.m[1]=r,this.m[2]=s,this.m[3]=i,this.m[4]=o,this.m[5]=u,this}getMatrix(){return this.m}decompose(){const e=this.m[0],n=this.m[1],r=this.m[2],s=this.m[3],i=this.m[4],o=this.m[5],u=e*s-n*r,c={x:i,y:o,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||n!=0){const h=Math.sqrt(e*e+n*n);c.rotation=n>0?Math.acos(e/h):-Math.acos(e/h),c.scaleX=h,c.scaleY=u/h,c.skewX=(e*r+n*s)/u,c.skewY=0}else if(r!=0||s!=0){const h=Math.sqrt(r*r+s*s);c.rotation=Math.PI/2-(s>0?Math.acos(-r/h):-Math.acos(r/h)),c.scaleX=u/h,c.scaleY=h,c.skewX=0,c.skewY=(e*r+n*s)/u}return c.rotation=M._getRotation(c.rotation),c}}const sj="[object Array]",ij="[object Number]",oj="[object String]",aj="[object Boolean]",lj=Math.PI/180,uj=180/Math.PI,wp="#",cj="",dj="0",hj="Konva warning: ",k2="Konva error: ",fj="rgb(",_p={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},pj=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let bc=[];const gj=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(t){setTimeout(t,60)},M={_isElement(t){return!!(t&&t.nodeType==1)},_isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject(t){return!!t&&t.constructor===Object},_isArray(t){return Object.prototype.toString.call(t)===sj},_isNumber(t){return Object.prototype.toString.call(t)===ij&&!isNaN(t)&&isFinite(t)},_isString(t){return Object.prototype.toString.call(t)===oj},_isBoolean(t){return Object.prototype.toString.call(t)===aj},isObject(t){return t instanceof Object},isValidSelector(t){if(typeof t!="string")return!1;const e=t[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(t){return t===0||t>0?1:-1},requestAnimFrame(t){bc.push(t),bc.length===1&&gj(function(){const e=bc;bc=[],e.forEach(function(n){n()})})},createCanvasElement(){b2();const t=document.createElement("canvas");try{t.style=t.style||{}}catch{}return t},createImageElement(){return b2(),document.createElement("img")},_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(t,e){const n=M.createImageElement();n.onload=function(){e(n)},n.src=t},_rgbToHex(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb(t){t=t.replace(wp,cj);const e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){let t=(Math.random()*16777215<<0).toString(16);for(;t.length<6;)t=dj+t;return wp+t},getRGB(t){let e;return t in _p?(e=_p[t],{r:e[0],g:e[1],b:e[2]}):t[0]===wp?this._hexToRgb(t.substring(1)):t.substr(0,4)===fj?(e=pj.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(t){return t=t||"black",M._namedColorToRBA(t)||M._hex3ColorToRGBA(t)||M._hex4ColorToRGBA(t)||M._hex6ColorToRGBA(t)||M._hex8ColorToRGBA(t)||M._rgbColorToRGBA(t)||M._rgbaColorToRGBA(t)||M._hslColorToRGBA(t)},_namedColorToRBA(t){const e=_p[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(t.indexOf("rgb(")===0){t=t.match(/rgb\(([^)]+)\)/)[1];const e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(t.indexOf("rgba(")===0){t=t.match(/rgba\(([^)]+)\)/)[1];const e=t.split(/ *, */).map((n,r)=>n.slice(-1)==="%"?r===3?parseInt(n)/100:parseInt(n)/100*255:Number(n));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(t){if(t[0]==="#"&&t.length===9)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:parseInt(t.slice(7,9),16)/255}},_hex6ColorToRGBA(t){if(t[0]==="#"&&t.length===7)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex4ColorToRGBA(t){if(t[0]==="#"&&t.length===5)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:parseInt(t[4]+t[4],16)/255}},_hex3ColorToRGBA(t){if(t[0]==="#"&&t.length===4)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){const[e,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),r=Number(n[0])/360,s=Number(n[1])/100,i=Number(n[2])/100;let o,u,c;if(s===0)return c=i*255,{r:Math.round(c),g:Math.round(c),b:Math.round(c),a:1};i<.5?o=i*(1+s):o=i+s-i*s;const h=2*i-o,p=[0,0,0];for(let m=0;m<3;m++)u=r+1/3*-(m-1),u<0&&u++,u>1&&u--,6*u<1?c=h+(o-h)*6*u:2*u<1?c=o:3*u<2?c=h+(o-h)*(2/3-u)*6:c=h,p[m]=c*255;return{r:Math.round(p[0]),g:Math.round(p[1]),b:Math.round(p[2]),a:1}}},haveIntersection(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject(t){const e={};for(const n in t)this._isPlainObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray(t){return t.slice(0)},degToRad(t){return t*lj},radToDeg(t){return t*uj},_degToRad(t){return M.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),M.degToRad(t)},_radToDeg(t){return M.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),M.radToDeg(t)},_getRotation(t){return se.angleDeg?M.radToDeg(t):t},_capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw(t){throw new Error(k2+t)},error(t){console.error(k2+t)},warn(t){se.showWarnings&&console.warn(hj+t)},each(t,e){for(const n in t)e(n,t[n])},_inRange(t,e,n){return e<=t&&t<n},_getProjectionToSegment(t,e,n,r,s,i){let o,u,c;const h=(t-n)*(t-n)+(e-r)*(e-r);if(h==0)o=t,u=e,c=(s-n)*(s-n)+(i-r)*(i-r);else{const p=((s-t)*(n-t)+(i-e)*(r-e))/h;p<0?(o=t,u=e,c=(t-s)*(t-s)+(e-i)*(e-i)):p>1?(o=n,u=r,c=(n-s)*(n-s)+(r-i)*(r-i)):(o=t+p*(n-t),u=e+p*(r-e),c=(o-s)*(o-s)+(u-i)*(u-i))}return[o,u,c]},_getProjectionToLine(t,e,n){const r=M.cloneObject(t);let s=Number.MAX_VALUE;return e.forEach(function(i,o){if(!n&&o===e.length-1)return;const u=e[(o+1)%e.length],c=M._getProjectionToSegment(i.x,i.y,u.x,u.y,t.x,t.y),h=c[0],p=c[1],m=c[2];m<s&&(r.x=h,r.y=p,s=m)}),r},_prepareArrayForTween(t,e,n){const r=[],s=[];if(t.length>e.length){const o=e;e=t,t=o}for(let o=0;o<t.length;o+=2)r.push({x:t[o],y:t[o+1]});for(let o=0;o<e.length;o+=2)s.push({x:e[o],y:e[o+1]});const i=[];return s.forEach(function(o){const u=M._getProjectionToLine(o,r,n);i.push(u.x),i.push(u.y)}),i},_prepareToStringify(t){let e;t.visitedByCircularReferenceRemoval=!0;for(const n in t)if(t.hasOwnProperty(n)&&t[n]&&typeof t[n]=="object"){if(e=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||M._isElement(t[n]))if(e.configurable)delete t[n];else return null;else if(M._prepareToStringify(t[n])===null)if(e.configurable)delete t[n];else return null}return delete t.visitedByCircularReferenceRemoval,t},_assign(t,e){for(const n in e)t[n]=e[n];return t},_getFirstPointerId(t){return t.touches?t.changedTouches[0].identifier:t.pointerId||999},releaseCanvas(...t){se.releaseCanvasOnDestroy&&t.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(t,e,n,r){let s=e<0?e:0,i=n<0?n:0;e=Math.abs(e),n=Math.abs(n);let o=0,u=0,c=0,h=0;typeof r=="number"?o=u=c=h=Math.min(r,e/2,n/2):(o=Math.min(r[0]||0,e/2,n/2),u=Math.min(r[1]||0,e/2,n/2),h=Math.min(r[2]||0,e/2,n/2),c=Math.min(r[3]||0,e/2,n/2)),t.moveTo(s+o,i),t.lineTo(s+e-u,i),t.arc(s+e-u,i+u,u,Math.PI*3/2,0,!1),t.lineTo(s+e,i+n-h),t.arc(s+e-h,i+n-h,h,0,Math.PI/2,!1),t.lineTo(s+c,i+n),t.arc(s+c,i+n-c,c,Math.PI/2,Math.PI,!1),t.lineTo(s,i+o),t.arc(s+o,i+o,o,Math.PI,Math.PI*3/2,!1)},drawRoundedPolygonPath(t,e,n,r,s){r=Math.abs(r);for(let i=0;i<n;i++){const o=e[(i-1+n)%n],u=e[i],c=e[(i+1)%n],h={x:u.x-o.x,y:u.y-o.y},p={x:c.x-u.x,y:c.y-u.y},m=Math.hypot(h.x,h.y),y=Math.hypot(p.x,p.y);let _;typeof s=="number"?_=s:_=i<s.length?s[i]:0,_=r*Math.cos(Math.PI/n)*Math.min(1,_/r*2);const b={x:h.x/m,y:h.y/m},C={x:p.x/y,y:p.y/y},k={x:u.x-b.x*_,y:u.y-b.y*_},S={x:u.x+C.x*_,y:u.y+C.y*_};i===0?t.moveTo(k.x,k.y):t.lineTo(k.x,k.y),t.arcTo(u.x,u.y,S.x,S.y,_)}}};function mj(t){const e=[],n=t.length,r=M;for(let s=0;s<n;s++){let i=t[s];r._isNumber(i)?i=Math.round(i*1e3)/1e3:r._isString(i)||(i=i+""),e.push(i)}return e}const E2=",",yj="(",vj=")",xj="([",wj="])",_j=";",Sj="()",bj="=",C2=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],kj=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","filter"],Ej=100;let kc=null;function j2(){if(kc!==null)return kc;try{const e=M.createCanvasElement().getContext("2d");return e?!!e&&"filter"in e:(kc=!1,!1)}catch{return kc=!1,!1}}class oh{constructor(e){this.canvas=e,se.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,n){let r=this.traceArr,s=r.length,i="",o,u,c,h;for(o=0;o<s;o++)u=r[o],c=u.method,c?(h=u.args,i+=c,e?i+=Sj:M._isArray(h[0])?i+=xj+h.join(E2)+wj:(n&&(h=h.map(p=>typeof p=="number"?Math.floor(p):p)),i+=yj+h.join(E2)+vj)):(i+=u.property,e||(i+=bj+u.val)),i+=_j;return i}clearTrace(){this.traceArr=[]}_trace(e){let n=this.traceArr,r;n.push(e),r=n.length,r>=Ej&&n.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const n=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(e){const n=e.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(e){const n=e.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(e){const n=e.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}_applyMiterLimit(e){const n=e.attrs.miterLimit;n!=null&&this.setAttr("miterLimit",n)}setAttr(e,n){this._context[e]=n}arc(e,n,r,s,i,o){this._context.arc(e,n,r,s,i,o)}arcTo(e,n,r,s,i){this._context.arcTo(e,n,r,s,i)}beginPath(){this._context.beginPath()}bezierCurveTo(e,n,r,s,i,o){this._context.bezierCurveTo(e,n,r,s,i,o)}clearRect(e,n,r,s){this._context.clearRect(e,n,r,s)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,n){const r=arguments;if(r.length===2)return this._context.createImageData(e,n);if(r.length===1)return this._context.createImageData(e)}createLinearGradient(e,n,r,s){return this._context.createLinearGradient(e,n,r,s)}createPattern(e,n){return this._context.createPattern(e,n)}createRadialGradient(e,n,r,s,i,o){return this._context.createRadialGradient(e,n,r,s,i,o)}drawImage(e,n,r,s,i,o,u,c,h){const p=arguments,m=this._context;p.length===3?m.drawImage(e,n,r):p.length===5?m.drawImage(e,n,r,s,i):p.length===9&&m.drawImage(e,n,r,s,i,o,u,c,h)}ellipse(e,n,r,s,i,o,u,c){this._context.ellipse(e,n,r,s,i,o,u,c)}isPointInPath(e,n,r,s){return r?this._context.isPointInPath(r,e,n,s):this._context.isPointInPath(e,n,s)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,n,r,s){this._context.fillRect(e,n,r,s)}strokeRect(e,n,r,s){this._context.strokeRect(e,n,r,s)}fillText(e,n,r,s){s?this._context.fillText(e,n,r,s):this._context.fillText(e,n,r)}measureText(e){return this._context.measureText(e)}getImageData(e,n,r,s){return this._context.getImageData(e,n,r,s)}lineTo(e,n){this._context.lineTo(e,n)}moveTo(e,n){this._context.moveTo(e,n)}rect(e,n,r,s){this._context.rect(e,n,r,s)}roundRect(e,n,r,s,i){this._context.roundRect(e,n,r,s,i)}putImageData(e,n,r){this._context.putImageData(e,n,r)}quadraticCurveTo(e,n,r,s){this._context.quadraticCurveTo(e,n,r,s)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,n){this._context.scale(e,n)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,n,r,s,i,o){this._context.setTransform(e,n,r,s,i,o)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,n,r,s){this._context.strokeText(e,n,r,s)}transform(e,n,r,s,i,o){this._context.transform(e,n,r,s,i,o)}translate(e,n){this._context.translate(e,n)}_enableTrace(){let e=this,n=C2.length,r=this.setAttr,s,i;const o=function(u){let c=e[u],h;e[u]=function(){return i=mj(Array.prototype.slice.call(arguments,0)),h=c.apply(e,arguments),e._trace({method:u,args:i}),h}};for(s=0;s<n;s++)o(C2[s]);e.setAttr=function(){r.apply(e,arguments);const u=arguments[0];let c=arguments[1];(u==="shadowOffsetX"||u==="shadowOffsetY"||u==="shadowBlur")&&(c=c/this.canvas.getPixelRatio()),e._trace({property:u,val:c})}}_applyGlobalCompositeOperation(e){const n=e.attrs.globalCompositeOperation;!n||n==="source-over"||this.setAttr("globalCompositeOperation",n)}}kj.forEach(function(t){Object.defineProperty(oh.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class Cj extends oh{constructor(e,{willReadFrequently:n=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:n})}_fillColor(e){const n=e.fill();this.setAttr("fillStyle",n),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const n=e._getLinearGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fillRadialGradient(e){const n=e._getRadialGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fill(e){const n=e.fill(),r=e.getFillPriority();if(n&&r==="color"){this._fillColor(e);return}const s=e.getFillPatternImage();if(s&&r==="pattern"){this._fillPattern(e);return}const i=e.getFillLinearGradientColorStops();if(i&&r==="linear-gradient"){this._fillLinearGradient(e);return}const o=e.getFillRadialGradientColorStops();if(o&&r==="radial-gradient"){this._fillRadialGradient(e);return}n?this._fillColor(e):s?this._fillPattern(e):i?this._fillLinearGradient(e):o&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const n=e.getStrokeLinearGradientStartPoint(),r=e.getStrokeLinearGradientEndPoint(),s=e.getStrokeLinearGradientColorStops(),i=this.createLinearGradient(n.x,n.y,r.x,r.y);if(s){for(let o=0;o<s.length;o+=2)i.addColorStop(s[o],s[o+1]);this.setAttr("strokeStyle",i)}}_stroke(e){const n=e.dash(),r=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!r){this.save();const i=this.getCanvas().getPixelRatio();this.setTransform(i,0,0,i,0,0)}this._applyLineCap(e),n&&e.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),r||this.restore()}}_applyShadow(e){var n,r,s;const i=(n=e.getShadowRGBA())!==null&&n!==void 0?n:"black",o=(r=e.getShadowBlur())!==null&&r!==void 0?r:5,u=(s=e.getShadowOffset())!==null&&s!==void 0?s:{x:0,y:0},c=e.getAbsoluteScale(),h=this.canvas.getPixelRatio(),p=c.x*h,m=c.y*h;this.setAttr("shadowColor",i),this.setAttr("shadowBlur",o*Math.min(Math.abs(p),Math.abs(m))),this.setAttr("shadowOffsetX",u.x*p),this.setAttr("shadowOffsetY",u.y*m)}}class jj extends oh{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const n=e.getStrokeScaleEnabled();if(!n){this.save();const i=this.getCanvas().getPixelRatio();this.setTransform(i,0,0,i,0,0)}this._applyLineCap(e);const r=e.hitStrokeWidth(),s=r==="auto"?e.strokeWidth():r;this.setAttr("lineWidth",s),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),n||this.restore()}}}let Ec;function Nj(){if(Ec)return Ec;const t=M.createCanvasElement(),e=t.getContext("2d");return Ec=function(){const n=se._global.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/r}(),M.releaseCanvas(t),Ec}class gm{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const r=(e||{}).pixelRatio||se.pixelRatio||Nj();this.pixelRatio=r,this._canvas=M.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const n=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,n){this.setWidth(e||0),this.setHeight(n||0)}toDataURL(e,n){try{return this._canvas.toDataURL(e,n)}catch{try{return this._canvas.toDataURL()}catch(s){return M.error("Unable to get data URL. "+s.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}class ks extends gm{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new Cj(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}function N2(){const t=M.createCanvasElement();t.width=1,t.height=1;const e=t.getContext("2d",{willReadFrequently:!0});e.clearRect(0,0,1,1),e.fillStyle="rgba(255,0,255,1)",e.fillRect(0,0,1,1);const n=e.getImageData(0,0,1,1).data;return!(n[0]===255&&n[1]===0&&n[2]===255&&n[3]===255)}function P2(){var t,e;return typeof navigator>"u"?!1:(e=(t=navigator.brave)===null||t===void 0?void 0:t.isBrave())!==null&&e!==void 0?e:!1}let T2=!1;function Pj(){return P2()&&N2()&&!T2&&(T2=!0,M.error('Looks like you have "Brave shield" enabled in your browser. It breaks KonvaJS internals. Please disable it. You may need to ask your users to do the same.')),P2()&&N2()}class mm extends gm{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new jj(this),this.setSize(e.width,e.height),Pj()}}const Ie={get isDragging(){let t=!1;return Ie._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(t=!0)}),t},justDragged:!1,get node(){let t;return Ie._dragElements.forEach(e=>{t=e.node}),t},_dragElements:new Map,_drag(t){const e=[];Ie._dragElements.forEach((n,r)=>{const{node:s}=n,i=s.getStage();i.setPointersPositions(t),n.pointerId===void 0&&(n.pointerId=M._getFirstPointerId(t));const o=i._changedPointerPositions.find(u=>u.id===n.pointerId);if(o){if(n.dragStatus!=="dragging"){const u=s.dragDistance();if(Math.max(Math.abs(o.x-n.startPointerPos.x),Math.abs(o.y-n.startPointerPos.y))<u||(s.startDrag({evt:t}),!s.isDragging()))return}s._setDragPosition(t,n),e.push(s)}}),e.forEach(n=>{n.fire("dragmove",{type:"dragmove",target:n,evt:t},!0)})},_endDragBefore(t){const e=[];Ie._dragElements.forEach(n=>{const{node:r}=n,s=r.getStage();if(t&&s.setPointersPositions(t),!s._changedPointerPositions.find(u=>u.id===n.pointerId))return;(n.dragStatus==="dragging"||n.dragStatus==="stopped")&&(Ie.justDragged=!0,se._mouseListenClick=!1,se._touchListenClick=!1,se._pointerListenClick=!1,n.dragStatus="stopped");const o=n.node.getLayer()||n.node instanceof se.Stage&&n.node;o&&e.indexOf(o)===-1&&e.push(o)}),e.forEach(n=>{n.draw()})},_endDragAfter(t){Ie._dragElements.forEach((e,n)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:t},!0),e.dragStatus!=="dragging"&&Ie._dragElements.delete(n)})}};se.isBrowser&&(window.addEventListener("mouseup",Ie._endDragBefore,!0),window.addEventListener("touchend",Ie._endDragBefore,!0),window.addEventListener("touchcancel",Ie._endDragBefore,!0),window.addEventListener("mousemove",Ie._drag),window.addEventListener("touchmove",Ie._drag),window.addEventListener("mouseup",Ie._endDragAfter,!1),window.addEventListener("touchend",Ie._endDragAfter,!1),window.addEventListener("touchcancel",Ie._endDragAfter,!1));function $s(t){return M._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||M._isBoolean(t)?t:Object.prototype.toString.call(t)}function p_(t){return t>255?255:t<0?0:Math.round(t)}function ee(){if(se.isUnminified)return function(t,e){return M._isNumber(t)||M.warn($s(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function ah(t){if(se.isUnminified)return function(e,n){let r=M._isNumber(e),s=M._isArray(e)&&e.length==t;return!r&&!s&&M.warn($s(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function ym(){if(se.isUnminified)return function(t,e){return M._isNumber(t)||t==="auto"||M.warn($s(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function Li(){if(se.isUnminified)return function(t,e){return M._isString(t)||M.warn($s(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function g_(){if(se.isUnminified)return function(t,e){const n=M._isString(t),r=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return n||r||M.warn($s(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function Tj(){if(se.isUnminified)return function(t,e){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&t instanceof n||(M._isArray(t)?t.forEach(function(r){M._isNumber(r)||M.warn('"'+e+'" attribute has non numeric element '+r+". Make sure that all elements are numbers.")}):M.warn($s(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function gr(){if(se.isUnminified)return function(t,e){return t===!0||t===!1||M.warn($s(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function Rj(t){if(se.isUnminified)return function(e,n){return e==null||M.isObject(e)||M.warn($s(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}const Wa="get",$a="set",P={addGetterSetter(t,e,n,r,s){P.addGetter(t,e,n),P.addSetter(t,e,r,s),P.addOverloadedGetterSetter(t,e)},addGetter(t,e,n){const r=Wa+M._capitalize(e);t.prototype[r]=t.prototype[r]||function(){const s=this.attrs[e];return s===void 0?n:s}},addSetter(t,e,n,r){const s=$a+M._capitalize(e);t.prototype[s]||P.overWriteSetter(t,e,n,r)},overWriteSetter(t,e,n,r){const s=$a+M._capitalize(e);t.prototype[s]=function(i){return n&&i!==void 0&&i!==null&&(i=n.call(this,i,e)),this._setAttr(e,i),r&&r.call(this),this}},addComponentsGetterSetter(t,e,n,r,s){const i=n.length,o=M._capitalize,u=Wa+o(e),c=$a+o(e);t.prototype[u]=function(){const p={};for(let m=0;m<i;m++){const y=n[m];p[y]=this.getAttr(e+o(y))}return p};const h=Rj(n);t.prototype[c]=function(p){const m=this.attrs[e];r&&(p=r.call(this,p,e)),h&&h.call(this,p,e);for(const y in p)p.hasOwnProperty(y)&&this._setAttr(e+o(y),p[y]);return p||n.forEach(y=>{this._setAttr(e+o(y),void 0)}),this._fireChangeEvent(e,m,p),s&&s.call(this),this},P.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter(t,e){const n=M._capitalize(e),r=$a+n,s=Wa+n;t.prototype[e]=function(){return arguments.length?(this[r](arguments[0]),this):this[s]()}},addDeprecatedGetterSetter(t,e,n,r){M.error("Adding deprecated "+e);const s=Wa+M._capitalize(e),i=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[s]=function(){M.error(i);const o=this.attrs[e];return o===void 0?n:o},P.addSetter(t,e,r,function(){M.error(i)}),P.addOverloadedGetterSetter(t,e)},backCompat(t,e){M.each(e,function(n,r){const s=t.prototype[r],i=Wa+M._capitalize(n),o=$a+M._capitalize(n);function u(){s.apply(this,arguments),M.error('"'+n+'" method is deprecated and will be removed soon. Use ""'+r+'" instead.')}t.prototype[n]=u,t.prototype[i]=u,t.prototype[o]=u})},afterSetFilter(){this._filterUpToDate=!1}};function Oj(t){const e=/(\w+)\(([^)]+)\)/g;let n;for(;(n=e.exec(t))!==null;){const[,r,s]=n;switch(r){case"blur":{const i=parseFloat(s.replace("px",""));return function(o){this.blurRadius(i*.5);const u=se.Filters;u&&u.Blur&&u.Blur.call(this,o)}}case"brightness":{const i=s.includes("%")?parseFloat(s)/100:parseFloat(s);return function(o){this.brightness(i);const u=se.Filters;u&&u.Brightness&&u.Brightness.call(this,o)}}case"contrast":{const i=parseFloat(s);return function(o){const u=100*(Math.sqrt(i)-1);this.contrast(u);const c=se.Filters;c&&c.Contrast&&c.Contrast.call(this,o)}}case"grayscale":return function(i){const o=se.Filters;o&&o.Grayscale&&o.Grayscale.call(this,i)};case"sepia":return function(i){const o=se.Filters;o&&o.Sepia&&o.Sepia.call(this,i)};case"invert":return function(i){const o=se.Filters;o&&o.Invert&&o.Invert.call(this,i)};default:M.warn(`CSS filter "${r}" is not supported in fallback mode. Consider using function filters for better compatibility.`);break}}return()=>{}}const Jc="absoluteOpacity",Cc="allEventListeners",zr="absoluteTransform",R2="absoluteScale",ui="canvas",Aj="Change",Ij="children",Lj="konva",H0="listening",Mj="mouseenter",Dj="mouseleave",Fj="pointerenter",zj="pointerleave",Uj="touchenter",Bj="touchleave",O2="set",A2="Shape",Zc=" ",I2="stage",ys="transform",Gj="Stage",V0="visible",Wj=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(Zc);let $j=1;class Z{constructor(e){this._id=$j++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===ys||e===zr)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,n){let r=this._cache.get(e);return(r===void 0||(e===ys||e===zr)&&r.dirty===!0)&&(r=n.call(this),this._cache.set(e,r)),r}_calculate(e,n,r){if(!this._attachedDepsListeners.get(e)){const s=n.map(i=>i+"Change.konva").join(Zc);this.on(s,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,r)}_getCanvasCache(){return this._cache.get(ui)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===zr&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(ui)){const{scene:e,filter:n,hit:r,buffer:s}=this._cache.get(ui);M.releaseCanvas(e,n,r,s),this._cache.delete(ui)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const n=e||{};let r={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let s=Math.ceil(n.width||r.width),i=Math.ceil(n.height||r.height),o=n.pixelRatio,u=n.x===void 0?Math.floor(r.x):n.x,c=n.y===void 0?Math.floor(r.y):n.y,h=n.offset||0,p=n.drawBorder||!1,m=n.hitCanvasPixelRatio||1;if(!s||!i){M.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const y=Math.abs(Math.round(r.x)-u)>.5?1:0,_=Math.abs(Math.round(r.y)-c)>.5?1:0;s+=h*2+y,i+=h*2+_,u-=h,c-=h;const x=new ks({pixelRatio:o,width:s,height:i}),b=new ks({pixelRatio:o,width:0,height:0,willReadFrequently:!0}),C=new mm({pixelRatio:m,width:s,height:i}),k=x.getContext(),S=C.getContext(),E=new ks({width:x.width/x.pixelRatio+Math.abs(u),height:x.height/x.pixelRatio+Math.abs(c),pixelRatio:x.pixelRatio}),N=E.getContext();return C.isCache=!0,x.isCache=!0,this._cache.delete(ui),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(x.getContext()._context.imageSmoothingEnabled=!1,b.getContext()._context.imageSmoothingEnabled=!1),k.save(),S.save(),N.save(),k.translate(-u,-c),S.translate(-u,-c),N.translate(-u,-c),E.x=u,E.y=c,this._isUnderCache=!0,this._clearSelfAndDescendantCache(Jc),this._clearSelfAndDescendantCache(R2),this.drawScene(x,this,E),this.drawHit(C,this),this._isUnderCache=!1,k.restore(),S.restore(),p&&(k.save(),k.beginPath(),k.rect(0,0,s,i),k.closePath(),k.setAttr("strokeStyle","red"),k.setAttr("lineWidth",5),k.stroke(),k.restore()),this._cache.set(ui,{scene:x,filter:b,hit:C,buffer:E,x:u,y:c}),this._requestDraw(),this}isCached(){return this._cache.has(ui)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,n){const r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let s=1/0,i=1/0,o=-1/0,u=-1/0;const c=this.getAbsoluteTransform(n);return r.forEach(function(h){const p=c.point(h);s===void 0&&(s=o=p.x,i=u=p.y),s=Math.min(s,p.x),i=Math.min(i,p.y),o=Math.max(o,p.x),u=Math.max(u,p.y)}),{x:s,y:i,width:o-s,height:u-i}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();e.translate(n.x,n.y);const r=this._getCachedSceneCanvas(),s=r.pixelRatio;e.drawImage(r._canvas,0,0,r.width/s,r.height/s),e.restore()}_drawCachedHitCanvas(e){const n=this._getCanvasCache(),r=n.hit;e.save(),e.translate(n.x,n.y),e.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),n=this._getCanvasCache(),r=n.scene,s=n.filter,i=s.getContext(),o,u,c,h;if(!e||e.length===0)return r;if(this._filterUpToDate)return s;let p=!0;for(let y=0;y<e.length;y++)if(typeof e[y]=="string"&&j2(),typeof e[y]!="string"||!j2()){p=!1;break}const m=r.pixelRatio;if(s.setSize(r.width/r.pixelRatio,r.height/r.pixelRatio),p){const y=e.join(" ");return i.save(),i.setAttr("filter",y),i.drawImage(r._canvas,0,0,r.getWidth()/m,r.getHeight()/m),i.restore(),this._filterUpToDate=!0,s}try{for(o=e.length,i.clear(),i.drawImage(r._canvas,0,0,r.getWidth()/m,r.getHeight()/m),u=i.getImageData(0,0,s.getWidth(),s.getHeight()),c=0;c<o;c++)h=e[c],typeof h=="string"&&(h=Oj(h)),h.call(this,u),i.putImageData(u,0,0)}catch(y){M.error("Unable to apply filter. "+y.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}return this._filterUpToDate=!0,s}on(e,n){if(this._cache&&this._cache.delete(Cc),arguments.length===3)return this._delegate.apply(this,arguments);const r=e.split(Zc);for(let s=0;s<r.length;s++){const o=r[s].split("."),u=o[0],c=o[1]||"";this.eventListeners[u]||(this.eventListeners[u]=[]),this.eventListeners[u].push({name:c,handler:n})}return this}off(e,n){let r=(e||"").split(Zc),s=r.length,i,o,u,c,h,p;if(this._cache&&this._cache.delete(Cc),!e)for(o in this.eventListeners)this._off(o);for(i=0;i<s;i++)if(u=r[i],c=u.split("."),h=c[0],p=c[1],h)this.eventListeners[h]&&this._off(h,p,n);else for(o in this.eventListeners)this._off(o,p,n);return this}dispatchEvent(e){const n={target:this,type:e.type,evt:e};return this.fire(e.type,n),this}addEventListener(e,n){return this.on(e,function(r){n.call(this,r.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,n,r){const s=this;this.on(e,function(i){const o=i.target.findAncestors(n,!0,s);for(let u=0;u<o.length;u++)i=M.cloneObject(i),i.currentTarget=o[u],r.call(o[u],i)})}remove(){return this.isDragging()&&this.stopDrag(),Ie._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(zr),this._clearSelfAndDescendantCache(Jc),this._clearSelfAndDescendantCache(R2),this._clearSelfAndDescendantCache(I2),this._clearSelfAndDescendantCache(V0),this._clearSelfAndDescendantCache(H0)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const n="get"+M._capitalize(e);return M._isFunction(this[n])?this[n]():this.attrs[e]}getAncestors(){let e=this.getParent(),n=[];for(;e;)n.push(e),e=e.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let n,r;if(!e)return this;for(n in e)n!==Ij&&(r=O2+M._capitalize(n),M._isFunction(this[r])?this[r](e[n]):this._setAttr(n,e[n]))}),this}isListening(){return this._getCache(H0,this._isListening)}_isListening(e){if(!this.listening())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isListening(e):!0}isVisible(){return this._getCache(V0,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isVisible(e):!0}shouldDrawHit(e,n=!1){if(e)return this._isVisible(e)&&this._isListening(e);const r=this.getLayer();let s=!1;Ie._dragElements.forEach(o=>{o.dragStatus==="dragging"&&(o.node.nodeType==="Stage"||o.node.getLayer()===r)&&(s=!0)});const i=!n&&!se.hitOnDragEnabled&&(s||se.isTransforming());return this.isListening()&&this.isVisible()&&!i}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),n=this,r=0,s,i,o,u;function c(p){for(s=[],i=p.length,o=0;o<i;o++)u=p[o],r++,u.nodeType!==A2&&(s=s.concat(u.getChildren().slice())),u._id===n._id&&(o=i);s.length>0&&s[0].getDepth()<=e&&c(s)}const h=this.getStage();return n.nodeType!==Gj&&h&&c(h.getChildren()),r}getDepth(){let e=0,n=this.parent;for(;n;)e++,n=n.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(ys),this._clearSelfAndDescendantCache(zr)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const n=e.getPointerPosition();if(!n)return null;const r=this.getAbsoluteTransform().copy();return r.invert(),r.point(n)}getAbsolutePosition(e){let n=!1,r=this.parent;for(;r;){if(r.isCached()){n=!0;break}r=r.parent}n&&!e&&(e=!0);const s=this.getAbsoluteTransform(e).getMatrix(),i=new Nn,o=this.offset();return i.m=s.slice(),i.translate(o.x,o.y),i.getTranslation()}setAbsolutePosition(e){const{x:n,y:r,...s}=this._clearTransform();this.attrs.x=n,this.attrs.y=r,this._clearCache(ys);const i=this._getAbsoluteTransform().copy();return i.invert(),i.translate(e.x,e.y),e={x:this.attrs.x+i.getTranslation().x,y:this.attrs.y+i.getTranslation().y},this._setTransform(s),this.setPosition({x:e.x,y:e.y}),this._clearCache(ys),this._clearSelfAndDescendantCache(zr),this}_setTransform(e){let n;for(n in e)this.attrs[n]=e[n]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let n=e.x,r=e.y,s=this.x(),i=this.y();return n!==void 0&&(s+=n),r!==void 0&&(i+=r),this.setPosition({x:s,y:i}),this}_eachAncestorReverse(e,n){let r=[],s=this.getParent(),i,o;if(!(n&&n._id===this._id)){for(r.unshift(this);s&&(!n||s._id!==n._id);)r.unshift(s),s=s.parent;for(i=r.length,o=0;o<i;o++)e(r[o])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return M.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return M.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return M.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return M.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return M.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&M.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(Jc,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const n=this.getParent();return n&&!n._isUnderCache&&(e*=n.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),n,r,s,i,o;const u={attrs:{},className:this.getClassName()};for(n in e)r=e[n],o=M.isObject(r)&&!M._isPlainObject(r)&&!M._isArray(r),!o&&(s=typeof this[n]=="function"&&this[n],delete e[n],i=s?s.call(this):null,e[n]=r,i!==r&&(u.attrs[n]=r));return M._prepareToStringify(u)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,n,r){const s=[];n&&this._isMatch(e)&&s.push(this);let i=this.parent;for(;i;){if(i===r)return s;i._isMatch(e)&&s.push(i),i=i.parent}return s}isAncestorOf(e){return!1}findAncestor(e,n,r){return this.findAncestors(e,n,r)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let n=e.replace(/ /g,"").split(","),r=n.length,s,i;for(s=0;s<r;s++)if(i=n[s],M.isValidSelector(i)||(M.warn('Selector "'+i+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),M.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),M.warn("Konva is awesome, right?")),i.charAt(0)==="#"){if(this.id()===i.slice(1))return!0}else if(i.charAt(0)==="."){if(this.hasName(i.slice(1)))return!0}else if(this.className===i||this.nodeType===i)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(I2,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,n={},r){return n.target=n.target||this,r?this._fireAndBubble(e,n):this._fire(e,n),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(zr,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let n;if(e)return n=new Nn,this._eachAncestorReverse(function(r){const s=r.transformsEnabled();s==="all"?n.multiply(r.getTransform()):s==="position"&&n.translate(r.x()-r.offsetX(),r.y()-r.offsetY())},e),n;{n=this._cache.get(zr)||new Nn,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();const r=this.transformsEnabled();if(r==="all")n.multiply(this.getTransform());else if(r==="position"){const s=this.attrs.x||0,i=this.attrs.y||0,o=this.attrs.offsetX||0,u=this.attrs.offsetY||0;n.translate(s-o,i-u)}return n.dirty=!1,n}}getAbsoluteScale(e){let n=this;for(;n;)n._isUnderCache&&(e=n),n=n.getParent();const s=this.getAbsoluteTransform(e).decompose();return{x:s.scaleX,y:s.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(ys,this._getTransform)}_getTransform(){var e,n;const r=this._cache.get(ys)||new Nn;r.reset();const s=this.x(),i=this.y(),o=se.getAngle(this.rotation()),u=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,c=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,h=this.attrs.skewX||0,p=this.attrs.skewY||0,m=this.attrs.offsetX||0,y=this.attrs.offsetY||0;return(s!==0||i!==0)&&r.translate(s,i),o!==0&&r.rotate(o),(h!==0||p!==0)&&r.skew(h,p),(u!==1||c!==1)&&r.scale(u,c),(m!==0||y!==0)&&r.translate(-1*m,-1*y),r.dirty=!1,r}clone(e){let n=M.cloneObject(this.attrs),r,s,i,o,u;for(r in e)n[r]=e[r];const c=new this.constructor(n);for(r in this.eventListeners)for(s=this.eventListeners[r],i=s.length,o=0;o<i;o++)u=s[o],u.name.indexOf(Lj)<0&&(c.eventListeners[r]||(c.eventListeners[r]=[]),c.eventListeners[r].push(u));return c}_toKonvaCanvas(e){e=e||{};const n=this.getClientRect(),r=this.getStage(),s=e.x!==void 0?e.x:Math.floor(n.x),i=e.y!==void 0?e.y:Math.floor(n.y),o=e.pixelRatio||1,u=new ks({width:e.width||Math.ceil(n.width)||(r?r.width():0),height:e.height||Math.ceil(n.height)||(r?r.height():0),pixelRatio:o}),c=u.getContext(),h=new ks({width:u.width/u.pixelRatio+Math.abs(s),height:u.height/u.pixelRatio+Math.abs(i),pixelRatio:u.pixelRatio});return e.imageSmoothingEnabled===!1&&(c._context.imageSmoothingEnabled=!1),c.save(),(s||i)&&c.translate(-1*s,-1*i),this.drawScene(u,void 0,h),c.restore(),u}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};const n=e.mimeType||null,r=e.quality||null,s=this._toKonvaCanvas(e).toDataURL(n,r);return e.callback&&e.callback(s),s}toImage(e){return new Promise((n,r)=>{try{const s=e==null?void 0:e.callback;s&&delete e.callback,M._urlToImage(this.toDataURL(e),function(i){n(i),s==null||s(i)})}catch(s){r(s)}})}toBlob(e){return new Promise((n,r)=>{try{const s=e==null?void 0:e.callback;s&&delete e.callback,this.toCanvas(e).toBlob(i=>{n(i),s==null||s(i)},e==null?void 0:e.mimeType,e==null?void 0:e.quality)}catch(s){r(s)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():se.dragDistance}_off(e,n,r){let s=this.eventListeners[e],i,o,u;for(i=0;i<s.length;i++)if(o=s[i].name,u=s[i].handler,(o!=="konva"||n==="konva")&&(!n||o===n)&&(!r||r===u)){if(s.splice(i,1),s.length===0){delete this.eventListeners[e];break}i--}}_fireChangeEvent(e,n,r){this._fire(e+Aj,{oldVal:n,newVal:r})}addName(e){if(!this.hasName(e)){const n=this.name(),r=n?n+" "+e:e;this.name(r)}return this}hasName(e){if(!e)return!1;const n=this.name();return n?(n||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){const n=(this.name()||"").split(/\s/g),r=n.indexOf(e);return r!==-1&&(n.splice(r,1),this.name(n.join(" "))),this}setAttr(e,n){const r=this[O2+M._capitalize(e)];return M._isFunction(r)?r.call(this,n):this._setAttr(e,n),this}_requestDraw(){if(se.autoDrawEnabled){const e=this.getLayer()||this.getStage();e==null||e.batchDraw()}}_setAttr(e,n){const r=this.attrs[e];r===n&&!M.isObject(n)||(n==null?delete this.attrs[e]:this.attrs[e]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(e,r,n),this._requestDraw())}_setComponentAttr(e,n,r){let s;r!==void 0&&(s=this.attrs[e],s||(this.attrs[e]=this.getAttr(e)),this.attrs[e][n]=r,this._fireChangeEvent(e,s,r))}_fireAndBubble(e,n,r){n&&this.nodeType===A2&&(n.target=this);const s=[Mj,Dj,Fj,zj,Uj,Bj];if(!(s.indexOf(e)!==-1&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||this.nodeType==="Stage"&&!r))){this._fire(e,n);const o=s.indexOf(e)!==-1&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!o&&(r&&r.parent?this._fireAndBubble.call(this.parent,e,n,r):this._fireAndBubble.call(this.parent,e,n))}}_getProtoListeners(e){var n,r,s;const i=(n=this._cache.get(Cc))!==null&&n!==void 0?n:{};let o=i==null?void 0:i[e];if(o===void 0){o=[];let u=Object.getPrototypeOf(this);for(;u;){const c=(s=(r=u.eventListeners)===null||r===void 0?void 0:r[e])!==null&&s!==void 0?s:[];o.push(...c),u=Object.getPrototypeOf(u)}i[e]=o,this._cache.set(Cc,i)}return o}_fire(e,n){n=n||{},n.currentTarget=this,n.type=e;const r=this._getProtoListeners(e);if(r)for(let i=0;i<r.length;i++)r[i].handler.call(this,n);const s=this.eventListeners[e];if(s)for(let i=0;i<s.length;i++)s[i].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const n=e?e.pointerId:void 0,r=this.getStage(),s=this.getAbsolutePosition();if(!r)return;const i=r._getPointerById(n)||r._changedPointerPositions[0]||s;Ie._dragElements.set(this._id,{node:this,startPointerPos:i,offset:{x:i.x-s.x,y:i.y-s.y},dragStatus:"ready",pointerId:n})}startDrag(e,n=!0){Ie._dragElements.has(this._id)||this._createDragElement(e);const r=Ie._dragElements.get(this._id);r.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},n)}_setDragPosition(e,n){const r=this.getStage()._getPointerById(n.pointerId);if(!r)return;let s={x:r.x-n.offset.x,y:r.y-n.offset.y};const i=this.dragBoundFunc();if(i!==void 0){const o=i.call(this,s,e);o?s=o:M.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==s.x||this._lastPos.y!==s.y)&&(this.setAbsolutePosition(s),this._requestDraw()),this._lastPos=s}stopDrag(e){const n=Ie._dragElements.get(this._id);n&&(n.dragStatus="stopped"),Ie._endDragBefore(e),Ie._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=Ie._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||se.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let s=!1;Ie._dragElements.forEach(i=>{this.isAncestorOf(i.node)&&(s=!0)}),s||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const n=Ie._dragElements.get(this._id),r=n&&n.dragStatus==="dragging",s=n&&n.dragStatus==="ready";r?this.stopDrag():s&&Ie._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const n=this.getStage();if(!n)return!1;const r={x:-e.x,y:-e.y,width:n.width()+2*e.x,height:n.height()+2*e.y};return M.haveIntersection(r,this.getClientRect())}static create(e,n){return M._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)}static _createNode(e,n){let r=Z.prototype.getClassName.call(e),s=e.children,i,o,u;n&&(e.attrs.container=n),se[r]||(M.warn('Can not find a node with class name "'+r+'". Fallback to "Shape".'),r="Shape");const c=se[r];if(i=new c(e.attrs),s)for(o=s.length,u=0;u<o;u++)i.add(Z._createNode(s[u]));return i}}Z.prototype.nodeType="Node";Z.prototype._attrsAffectingSize=[];Z.prototype.eventListeners={};Z.prototype.on.call(Z.prototype,Wj,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(ys),this._clearSelfAndDescendantCache(zr)});Z.prototype.on.call(Z.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(V0)});Z.prototype.on.call(Z.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(H0)});Z.prototype.on.call(Z.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(Jc)});const Fe=P.addGetterSetter;Fe(Z,"zIndex");Fe(Z,"absolutePosition");Fe(Z,"position");Fe(Z,"x",0,ee());Fe(Z,"y",0,ee());Fe(Z,"globalCompositeOperation","source-over",Li());Fe(Z,"opacity",1,ee());Fe(Z,"name","",Li());Fe(Z,"id","",Li());Fe(Z,"rotation",0,ee());P.addComponentsGetterSetter(Z,"scale",["x","y"]);Fe(Z,"scaleX",1,ee());Fe(Z,"scaleY",1,ee());P.addComponentsGetterSetter(Z,"skew",["x","y"]);Fe(Z,"skewX",0,ee());Fe(Z,"skewY",0,ee());P.addComponentsGetterSetter(Z,"offset",["x","y"]);Fe(Z,"offsetX",0,ee());Fe(Z,"offsetY",0,ee());Fe(Z,"dragDistance",void 0,ee());Fe(Z,"width",0,ee());Fe(Z,"height",0,ee());Fe(Z,"listening",!0,gr());Fe(Z,"preventDefault",!0,gr());Fe(Z,"filters",void 0,function(t){return this._filterUpToDate=!1,t});Fe(Z,"visible",!0,gr());Fe(Z,"transformsEnabled","all",Li());Fe(Z,"size");Fe(Z,"dragBoundFunc");Fe(Z,"draggable",!1,gr());P.backCompat(Z,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class Rn extends Z{constructor(){super(...arguments),this.children=[]}getChildren(e){const n=this.children||[];return e?n.filter(e):n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let r=0;r<e.length;r++)this.add(e[r]);return this}const n=e[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const n=this._generalFind(e,!0);return n.length>0?n[0]:void 0}_generalFind(e,n){const r=[];return this._descendants(s=>{const i=s._isMatch(e);return i&&r.push(s),!!(i&&n)}),r}_descendants(e){let n=!1;const r=this.getChildren();for(const s of r){if(n=e(s),n)return!0;if(s.hasChildren()&&(n=s._descendants(e),n))return!0}return!1}toObject(){const e=Z.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(n=>{e.children.push(n.toObject())}),e}isAncestorOf(e){let n=e.getParent();for(;n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(e){const n=Z.prototype.clone.call(this,e);return this.getChildren().forEach(function(r){n.add(r.clone())}),n}getAllIntersections(e){const n=[];return this.find("Shape").forEach(r=>{r.isVisible()&&r.intersects(e)&&n.push(r)}),n}_clearSelfAndDescendantCache(e){var n;super._clearSelfAndDescendantCache(e),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(r){r._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(n,r){n.index=r}),this._requestDraw()}drawScene(e,n,r){const s=this.getLayer(),i=e||s&&s.getCanvas(),o=i&&i.getContext(),u=this._getCanvasCache(),c=u&&u.scene,h=i&&i.isCache;if(!this.isVisible()&&!h)return this;if(c){o.save();const p=this.getAbsoluteTransform(n).getMatrix();o.transform(p[0],p[1],p[2],p[3],p[4],p[5]),this._drawCachedSceneCanvas(o),o.restore()}else this._drawChildren("drawScene",i,n,r);return this}drawHit(e,n){if(!this.shouldDrawHit(n))return this;const r=this.getLayer(),s=e||r&&r.hitCanvas,i=s&&s.getContext(),o=this._getCanvasCache();if(o&&o.hit){i.save();const c=this.getAbsoluteTransform(n).getMatrix();i.transform(c[0],c[1],c[2],c[3],c[4],c[5]),this._drawCachedHitCanvas(i),i.restore()}else this._drawChildren("drawHit",s,n);return this}_drawChildren(e,n,r,s){var i;const o=n&&n.getContext(),u=this.clipWidth(),c=this.clipHeight(),h=this.clipFunc(),p=typeof u=="number"&&typeof c=="number"||h,m=r===this;if(p){o.save();const _=this.getAbsoluteTransform(r);let x=_.getMatrix();o.transform(x[0],x[1],x[2],x[3],x[4],x[5]),o.beginPath();let b;if(h)b=h.call(this,o,this);else{const C=this.clipX(),k=this.clipY();o.rect(C||0,k||0,u,c)}o.clip.apply(o,b),x=_.copy().invert().getMatrix(),o.transform(x[0],x[1],x[2],x[3],x[4],x[5])}const y=!m&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";y&&(o.save(),o._applyGlobalCompositeOperation(this)),(i=this.children)===null||i===void 0||i.forEach(function(_){_[e](n,r,s)}),y&&o.restore(),p&&o.restore()}getClientRect(e={}){var n;const r=e.skipTransform,s=e.relativeTo;let i,o,u,c,h={x:1/0,y:1/0,width:0,height:0};const p=this;(n=this.children)===null||n===void 0||n.forEach(function(_){if(!_.visible())return;const x=_.getClientRect({relativeTo:p,skipShadow:e.skipShadow,skipStroke:e.skipStroke});x.width===0&&x.height===0||(i===void 0?(i=x.x,o=x.y,u=x.x+x.width,c=x.y+x.height):(i=Math.min(i,x.x),o=Math.min(o,x.y),u=Math.max(u,x.x+x.width),c=Math.max(c,x.y+x.height)))});const m=this.find("Shape");let y=!1;for(let _=0;_<m.length;_++)if(m[_]._isVisible(this)){y=!0;break}return y&&i!==void 0?h={x:i,y:o,width:u-i,height:c-o}:h={x:0,y:0,width:0,height:0},r?h:this._transformedRect(h,s)}}P.addComponentsGetterSetter(Rn,"clip",["x","y","width","height"]);P.addGetterSetter(Rn,"clipX",void 0,ee());P.addGetterSetter(Rn,"clipY",void 0,ee());P.addGetterSetter(Rn,"clipWidth",void 0,ee());P.addGetterSetter(Rn,"clipHeight",void 0,ee());P.addGetterSetter(Rn,"clipFunc");const Vl=new Map,m_=se._global.PointerEvent!==void 0;function Sp(t){return Vl.get(t)}function vm(t){return{evt:t,pointerId:t.pointerId}}function y_(t,e){return Vl.get(t)===e}function v_(t,e){wl(t),e.getStage()&&(Vl.set(t,e),m_&&e._fire("gotpointercapture",vm(new PointerEvent("gotpointercapture"))))}function wl(t,e){const n=Vl.get(t);if(!n)return;const r=n.getStage();r&&r.content,Vl.delete(t),m_&&n._fire("lostpointercapture",vm(new PointerEvent("lostpointercapture")))}const Hj="Stage",Vj="string",L2="px",qj="mouseout",x_="mouseleave",w_="mouseover",__="mouseenter",S_="mousemove",b_="mousedown",k_="mouseup",el="pointermove",tl="pointerdown",To="pointerup",nl="pointercancel",Kj="lostpointercapture",jc="pointerout",rl="pointerleave",Nc="pointerover",Pc="pointerenter",q0="contextmenu",E_="touchstart",C_="touchend",j_="touchmove",N_="touchcancel",K0="wheel",Yj=5,Xj=[[__,"_pointerenter"],[b_,"_pointerdown"],[S_,"_pointermove"],[k_,"_pointerup"],[x_,"_pointerleave"],[E_,"_pointerdown"],[j_,"_pointermove"],[C_,"_pointerup"],[N_,"_pointercancel"],[w_,"_pointerover"],[K0,"_wheel"],[q0,"_contextmenu"],[tl,"_pointerdown"],[el,"_pointermove"],[To,"_pointerup"],[nl,"_pointercancel"],[rl,"_pointerleave"],[Kj,"_lostpointercapture"]],bp={mouse:{[jc]:qj,[rl]:x_,[Nc]:w_,[Pc]:__,[el]:S_,[tl]:b_,[To]:k_,[nl]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[jc]:"touchout",[rl]:"touchleave",[Nc]:"touchover",[Pc]:"touchenter",[el]:j_,[tl]:E_,[To]:C_,[nl]:N_,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[jc]:jc,[rl]:rl,[Nc]:Nc,[Pc]:Pc,[el]:el,[tl]:tl,[To]:To,[nl]:nl,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},sl=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",fo=t=>{const e=sl(t);if(e==="pointer")return se.pointerEventsEnabled&&bp.pointer;if(e==="touch")return bp.touch;if(e==="mouse")return bp.mouse};function M2(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&M.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}const Qj="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",_l=[];let lh=class extends Rn{constructor(e){super(M2(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),_l.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{M2(this.attrs)}),this._checkVisibility()}_validateAdd(e){const n=e.getType()==="Layer",r=e.getType()==="FastLayer";n||r||M.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===Vj){let n;if(e.charAt(0)==="."){const r=e.slice(1);e=document.getElementsByClassName(r)[0]}else e.charAt(0)!=="#"?n=e:n=e.slice(1),e=document.getElementById(n);if(!e)throw"Can not find container in document with id "+n}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const e=this.children,n=e.length;for(let r=0;r<n;r++)e[r].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),Rn.prototype.clone.call(this,e)}destroy(){super.destroy();const e=this.content;e&&M._isInDocument(e)&&this.container().removeChild(e);const n=_l.indexOf(this);return n>-1&&_l.splice(n,1),M.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(M.warn(Qj),null)}_getPointerById(e){return this._pointerPositions.find(n=>n.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e={...e},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();const n=new ks({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),r=n.getContext()._context,s=this.children;return(e.x||e.y)&&r.translate(-1*e.x,-1*e.y),s.forEach(function(i){if(!i.isVisible())return;const o=i._toKonvaCanvas(e);r.drawImage(o._canvas,e.x,e.y,o.getWidth()/o.getPixelRatio(),o.getHeight()/o.getPixelRatio())}),n}getIntersection(e){if(!e)return null;const n=this.children,r=n.length,s=r-1;for(let i=s;i>=0;i--){const o=n[i].getIntersection(e);if(o)return o}return null}_resizeDOM(){const e=this.width(),n=this.height();this.content&&(this.content.style.width=e+L2,this.content.style.height=n+L2),this.bufferCanvas.setSize(e,n),this.bufferHitCanvas.setSize(e,n),this.children.forEach(r=>{r.setSize({width:e,height:n}),r.draw()})}add(e,...n){if(arguments.length>1){for(let s=0;s<arguments.length;s++)this.add(arguments[s]);return this}super.add(e);const r=this.children.length;return r>Yj&&M.warn("The stage has "+r+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),se.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return y_(e,this)}setPointerCapture(e){v_(e,this)}releaseCapture(e){wl(e)}getLayers(){return this.children}_bindContentEvents(){se.isBrowser&&Xj.forEach(([e,n])=>{this.content.addEventListener(e,r=>{this[n](r)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);const n=fo(e.type);n&&this._fire(n.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const n=fo(e.type);n&&this._fire(n.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let n=this[e+"targetShape"];return n&&!n.getStage()&&(n=null),n}_pointerleave(e){const n=fo(e.type),r=sl(e.type);if(!n)return;this.setPointersPositions(e);const s=this._getTargetShape(r),i=!(se.isDragging()||se.isTransforming())||se.hitOnDragEnabled;s&&i?(s._fireAndBubble(n.pointerout,{evt:e}),s._fireAndBubble(n.pointerleave,{evt:e}),this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this[r+"targetShape"]=null):i&&(this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(n.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(e){const n=fo(e.type),r=sl(e.type);if(!n)return;this.setPointersPositions(e);let s=!1;this._changedPointerPositions.forEach(i=>{const o=this.getIntersection(i);if(Ie.justDragged=!1,se["_"+r+"ListenClick"]=!0,!o||!o.isListening()){this[r+"ClickStartShape"]=void 0;return}se.capturePointerEventsEnabled&&o.setPointerCapture(i.id),this[r+"ClickStartShape"]=o,o._fireAndBubble(n.pointerdown,{evt:e,pointerId:i.id}),s=!0;const u=e.type.indexOf("touch")>=0;o.preventDefault()&&e.cancelable&&u&&e.preventDefault()}),s||this._fire(n.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(e){const n=fo(e.type),r=sl(e.type);if(!n)return;const s=e.type.indexOf("touch")>=0||e.pointerType==="touch";if(se.isDragging()&&Ie.node.preventDefault()&&e.cancelable&&s&&e.preventDefault(),this.setPointersPositions(e),!(!(se.isDragging()||se.isTransforming())||se.hitOnDragEnabled))return;const o={};let u=!1;const c=this._getTargetShape(r);this._changedPointerPositions.forEach(h=>{const p=Sp(h.id)||this.getIntersection(h),m=h.id,y={evt:e,pointerId:m},_=c!==p;if(_&&c&&(c._fireAndBubble(n.pointerout,{...y},p),c._fireAndBubble(n.pointerleave,{...y},p)),p){if(o[p._id])return;o[p._id]=!0}p&&p.isListening()?(u=!0,_&&(p._fireAndBubble(n.pointerover,{...y},c),p._fireAndBubble(n.pointerenter,{...y},c),this[r+"targetShape"]=p),p._fireAndBubble(n.pointermove,{...y})):c&&(this._fire(n.pointerover,{evt:e,target:this,currentTarget:this,pointerId:m}),this[r+"targetShape"]=null)}),u||this._fire(n.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const n=fo(e.type),r=sl(e.type);if(!n)return;this.setPointersPositions(e);const s=this[r+"ClickStartShape"],i=this[r+"ClickEndShape"],o={};let u=!1;this._changedPointerPositions.forEach(c=>{const h=Sp(c.id)||this.getIntersection(c);if(h){if(h.releaseCapture(c.id),o[h._id])return;o[h._id]=!0}const p=c.id,m={evt:e,pointerId:p};let y=!1;se["_"+r+"InDblClickWindow"]?(y=!0,clearTimeout(this[r+"DblTimeout"])):Ie.justDragged||(se["_"+r+"InDblClickWindow"]=!0,clearTimeout(this[r+"DblTimeout"])),this[r+"DblTimeout"]=setTimeout(function(){se["_"+r+"InDblClickWindow"]=!1},se.dblClickWindow),h&&h.isListening()?(u=!0,this[r+"ClickEndShape"]=h,h._fireAndBubble(n.pointerup,{...m}),se["_"+r+"ListenClick"]&&s&&s===h&&(h._fireAndBubble(n.pointerclick,{...m}),y&&i&&i===h&&h._fireAndBubble(n.pointerdblclick,{...m}))):(this[r+"ClickEndShape"]=null,u||(this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),u=!0),se["_"+r+"ListenClick"]&&this._fire(n.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:p}),y&&this._fire(n.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:p}))}),u||this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),se["_"+r+"ListenClick"]=!1,e.cancelable&&r!=="touch"&&r!=="pointer"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(q0,{evt:e}):this._fire(q0,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(K0,{evt:e}):this._fire(K0,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const n=Sp(e.pointerId)||this.getIntersection(this.getPointerPosition());n&&n._fireAndBubble(To,vm(e)),wl(e.pointerId)}_lostpointercapture(e){wl(e.pointerId)}setPointersPositions(e){const n=this._getContentPosition();let r=null,s=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,i=>{this._pointerPositions.push({id:i.identifier,x:(i.clientX-n.left)/n.scaleX,y:(i.clientY-n.top)/n.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,i=>{this._changedPointerPositions.push({id:i.identifier,x:(i.clientX-n.left)/n.scaleX,y:(i.clientY-n.top)/n.scaleY})})):(r=(e.clientX-n.left)/n.scaleX,s=(e.clientY-n.top)/n.scaleY,this.pointerPos={x:r,y:s},this._pointerPositions=[{x:r,y:s,id:M._getFirstPointerId(e)}],this._changedPointerPositions=[{x:r,y:s,id:M._getFirstPointerId(e)}])}_setPointerPosition(e){M.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new ks({width:this.width(),height:this.height()}),this.bufferHitCanvas=new mm({pixelRatio:1,width:this.width(),height:this.height()}),!se.isBrowser)return;const e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}cache(){return M.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}};lh.prototype.nodeType=Hj;it(lh);P.addGetterSetter(lh,"container");se.isBrowser&&document.addEventListener("visibilitychange",()=>{_l.forEach(t=>{t.batchDraw()})});const P_="hasShadow",T_="shadowRGBA",R_="patternImage",O_="linearGradient",A_="radialGradient";let Tc;function kp(){return Tc||(Tc=M.createCanvasElement().getContext("2d"),Tc)}const Sl={};function Jj(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function Zj(t){t.stroke()}function eN(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function tN(t){t.stroke()}function nN(){this._clearCache(P_)}function rN(){this._clearCache(T_)}function sN(){this._clearCache(R_)}function iN(){this._clearCache(O_)}function oN(){this._clearCache(A_)}class K extends Z{constructor(e){super(e);let n;for(;n=M.getRandomColor(),!(n&&!(n in Sl)););this.colorKey=n,Sl[n]=this}getContext(){return M.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return M.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(P_,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(R_,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const n=kp().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(n&&n.setTransform){const r=new Nn;r.translate(this.fillPatternX(),this.fillPatternY()),r.rotate(se.getAngle(this.fillPatternRotation())),r.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),r.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const s=r.getMatrix(),i=typeof DOMMatrix>"u"?{a:s[0],b:s[1],c:s[2],d:s[3],e:s[4],f:s[5]}:new DOMMatrix(s);n.setTransform(i)}return n}}_getLinearGradient(){return this._getCache(O_,this.__getLinearGradient)}__getLinearGradient(){const e=this.fillLinearGradientColorStops();if(e){const n=kp(),r=this.fillLinearGradientStartPoint(),s=this.fillLinearGradientEndPoint(),i=n.createLinearGradient(r.x,r.y,s.x,s.y);for(let o=0;o<e.length;o+=2)i.addColorStop(e[o],e[o+1]);return i}}_getRadialGradient(){return this._getCache(A_,this.__getRadialGradient)}__getRadialGradient(){const e=this.fillRadialGradientColorStops();if(e){const n=kp(),r=this.fillRadialGradientStartPoint(),s=this.fillRadialGradientEndPoint(),i=n.createRadialGradient(r.x,r.y,this.fillRadialGradientStartRadius(),s.x,s.y,this.fillRadialGradientEndRadius());for(let o=0;o<e.length;o+=2)i.addColorStop(e[o],e[o+1]);return i}}getShadowRGBA(){return this._getCache(T_,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const e=M.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){const n=this.getStage();if(!n)return!1;const r=n.bufferHitCanvas;return r.getContext().clear(),this.drawHit(r,void 0,!0),r.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return Z.prototype.destroy.call(this),delete Sl[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var n;if(!((n=this.attrs.perfectDrawEnabled)!==null&&n!==void 0?n:!0))return!1;const s=e||this.hasFill(),i=this.hasStroke(),o=this.getAbsoluteOpacity()!==1;if(s&&i&&o)return!0;const u=this.hasShadow(),c=this.shadowForStrokeEnabled();return!!(s&&i&&u&&c)}setStrokeHitEnabled(e){M.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){let n=!1,r=this.getParent();for(;r;){if(r.isCached()){n=!0;break}r=r.getParent()}const s=e.skipTransform,i=e.relativeTo||n&&this.getStage()||void 0,o=this.getSelfRect(),c=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,h=o.width+c,p=o.height+c,m=!e.skipShadow&&this.hasShadow(),y=m?this.shadowOffsetX():0,_=m?this.shadowOffsetY():0,x=h+Math.abs(y),b=p+Math.abs(_),C=m&&this.shadowBlur()||0,k=x+C*2,S=b+C*2,E={width:k,height:S,x:-(c/2+C)+Math.min(y,0)+o.x,y:-(c/2+C)+Math.min(_,0)+o.y};return s?E:this._transformedRect(E,i)}drawScene(e,n,r){const s=this.getLayer(),i=e||s.getCanvas(),o=i.getContext(),u=this._getCanvasCache(),c=this.getSceneFunc(),h=this.hasShadow();let p;const m=n===this;if(!this.isVisible()&&!m)return this;if(u){o.save();const y=this.getAbsoluteTransform(n).getMatrix();return o.transform(y[0],y[1],y[2],y[3],y[4],y[5]),this._drawCachedSceneCanvas(o),o.restore(),this}if(!c)return this;if(o.save(),this._useBufferCanvas()){p=this.getStage();const y=r||p.bufferCanvas,_=y.getContext();_.clear(),_.save(),_._applyLineJoin(this),_._applyMiterLimit(this);const x=this.getAbsoluteTransform(n).getMatrix();_.transform(x[0],x[1],x[2],x[3],x[4],x[5]),c.call(this,_,this),_.restore();const b=y.pixelRatio;h&&o._applyShadow(this),o._applyOpacity(this),o._applyGlobalCompositeOperation(this),o.drawImage(y._canvas,y.x||0,y.y||0,y.width/b,y.height/b)}else{if(o._applyLineJoin(this),o._applyMiterLimit(this),!m){const y=this.getAbsoluteTransform(n).getMatrix();o.transform(y[0],y[1],y[2],y[3],y[4],y[5]),o._applyOpacity(this),o._applyGlobalCompositeOperation(this)}h&&o._applyShadow(this),c.call(this,o,this)}return o.restore(),this}drawHit(e,n,r=!1){if(!this.shouldDrawHit(n,r))return this;const s=this.getLayer(),i=e||s.hitCanvas,o=i&&i.getContext(),u=this.hitFunc()||this.sceneFunc(),c=this._getCanvasCache(),h=c&&c.hit;if(this.colorKey||M.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),h){o.save();const m=this.getAbsoluteTransform(n).getMatrix();return o.transform(m[0],m[1],m[2],m[3],m[4],m[5]),this._drawCachedHitCanvas(o),o.restore(),this}if(!u)return this;if(o.save(),o._applyLineJoin(this),o._applyMiterLimit(this),!(this===n)){const m=this.getAbsoluteTransform(n).getMatrix();o.transform(m[0],m[1],m[2],m[3],m[4],m[5])}return u.call(this,o,this),o.restore(),this}drawHitFromCache(e=0){const n=this._getCanvasCache(),r=this._getCachedSceneCanvas(),s=n.hit,i=s.getContext(),o=s.getWidth(),u=s.getHeight();i.clear(),i.drawImage(r._canvas,0,0,o,u);try{const c=i.getImageData(0,0,o,u),h=c.data,p=h.length,m=M._hexToRgb(this.colorKey);for(let y=0;y<p;y+=4)h[y+3]>e?(h[y]=m.r,h[y+1]=m.g,h[y+2]=m.b,h[y+3]=255):h[y+3]=0;i.putImageData(c,0,0)}catch(c){M.error("Unable to draw hit graph from cached scene canvas. "+c.message)}return this}hasPointerCapture(e){return y_(e,this)}setPointerCapture(e){v_(e,this)}releaseCapture(e){wl(e)}}K.prototype._fillFunc=Jj;K.prototype._strokeFunc=Zj;K.prototype._fillFuncHit=eN;K.prototype._strokeFuncHit=tN;K.prototype._centroid=!1;K.prototype.nodeType="Shape";it(K);K.prototype.eventListeners={};K.prototype.on.call(K.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",nN);K.prototype.on.call(K.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",rN);K.prototype.on.call(K.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",sN);K.prototype.on.call(K.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",iN);K.prototype.on.call(K.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",oN);P.addGetterSetter(K,"stroke",void 0,g_());P.addGetterSetter(K,"strokeWidth",2,ee());P.addGetterSetter(K,"fillAfterStrokeEnabled",!1);P.addGetterSetter(K,"hitStrokeWidth","auto",ym());P.addGetterSetter(K,"strokeHitEnabled",!0,gr());P.addGetterSetter(K,"perfectDrawEnabled",!0,gr());P.addGetterSetter(K,"shadowForStrokeEnabled",!0,gr());P.addGetterSetter(K,"lineJoin");P.addGetterSetter(K,"lineCap");P.addGetterSetter(K,"miterLimit");P.addGetterSetter(K,"sceneFunc");P.addGetterSetter(K,"hitFunc");P.addGetterSetter(K,"dash");P.addGetterSetter(K,"dashOffset",0,ee());P.addGetterSetter(K,"shadowColor",void 0,Li());P.addGetterSetter(K,"shadowBlur",0,ee());P.addGetterSetter(K,"shadowOpacity",1,ee());P.addComponentsGetterSetter(K,"shadowOffset",["x","y"]);P.addGetterSetter(K,"shadowOffsetX",0,ee());P.addGetterSetter(K,"shadowOffsetY",0,ee());P.addGetterSetter(K,"fillPatternImage");P.addGetterSetter(K,"fill",void 0,g_());P.addGetterSetter(K,"fillPatternX",0,ee());P.addGetterSetter(K,"fillPatternY",0,ee());P.addGetterSetter(K,"fillLinearGradientColorStops");P.addGetterSetter(K,"strokeLinearGradientColorStops");P.addGetterSetter(K,"fillRadialGradientStartRadius",0);P.addGetterSetter(K,"fillRadialGradientEndRadius",0);P.addGetterSetter(K,"fillRadialGradientColorStops");P.addGetterSetter(K,"fillPatternRepeat","repeat");P.addGetterSetter(K,"fillEnabled",!0);P.addGetterSetter(K,"strokeEnabled",!0);P.addGetterSetter(K,"shadowEnabled",!0);P.addGetterSetter(K,"dashEnabled",!0);P.addGetterSetter(K,"strokeScaleEnabled",!0);P.addGetterSetter(K,"fillPriority","color");P.addComponentsGetterSetter(K,"fillPatternOffset",["x","y"]);P.addGetterSetter(K,"fillPatternOffsetX",0,ee());P.addGetterSetter(K,"fillPatternOffsetY",0,ee());P.addComponentsGetterSetter(K,"fillPatternScale",["x","y"]);P.addGetterSetter(K,"fillPatternScaleX",1,ee());P.addGetterSetter(K,"fillPatternScaleY",1,ee());P.addComponentsGetterSetter(K,"fillLinearGradientStartPoint",["x","y"]);P.addComponentsGetterSetter(K,"strokeLinearGradientStartPoint",["x","y"]);P.addGetterSetter(K,"fillLinearGradientStartPointX",0);P.addGetterSetter(K,"strokeLinearGradientStartPointX",0);P.addGetterSetter(K,"fillLinearGradientStartPointY",0);P.addGetterSetter(K,"strokeLinearGradientStartPointY",0);P.addComponentsGetterSetter(K,"fillLinearGradientEndPoint",["x","y"]);P.addComponentsGetterSetter(K,"strokeLinearGradientEndPoint",["x","y"]);P.addGetterSetter(K,"fillLinearGradientEndPointX",0);P.addGetterSetter(K,"strokeLinearGradientEndPointX",0);P.addGetterSetter(K,"fillLinearGradientEndPointY",0);P.addGetterSetter(K,"strokeLinearGradientEndPointY",0);P.addComponentsGetterSetter(K,"fillRadialGradientStartPoint",["x","y"]);P.addGetterSetter(K,"fillRadialGradientStartPointX",0);P.addGetterSetter(K,"fillRadialGradientStartPointY",0);P.addComponentsGetterSetter(K,"fillRadialGradientEndPoint",["x","y"]);P.addGetterSetter(K,"fillRadialGradientEndPointX",0);P.addGetterSetter(K,"fillRadialGradientEndPointY",0);P.addGetterSetter(K,"fillPatternRotation",0);P.addGetterSetter(K,"fillRule",void 0,Li());P.backCompat(K,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});const aN="#",lN="beforeDraw",uN="draw",I_=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],cN=I_.length;let Mi=class extends Rn{constructor(e){super(e),this.canvas=new ks,this.hitCanvas=new mm({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),e<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Z.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!Z.prototype.moveUp.call(this))return!1;const n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Z.prototype.moveDown.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Z.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return Z.prototype.remove.call(this),e&&e.parentNode&&M._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:n}){return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this}_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&M.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e={...e},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),Z.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){M.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){M.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,M.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let n=1,r=!1;for(;;){for(let s=0;s<cN;s++){const i=I_[s],o=this._getIntersection({x:e.x+i.x*n,y:e.y+i.y*n}),u=o.shape;if(u)return u;if(r=!!o.antialiased,!o.antialiased)break}if(r)n+=1;else return null}}_getIntersection(e){const n=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,s=r[3];if(s===255){const i=M._rgbToHex(r[0],r[1],r[2]),o=Sl[aN+i];return o?{shape:o}:{antialiased:!0}}else if(s>0)return{antialiased:!0};return{}}drawScene(e,n,r){const s=this.getLayer(),i=e||s&&s.getCanvas();return this._fire(lN,{node:this}),this.clearBeforeDraw()&&i.getContext().clear(),Rn.prototype.drawScene.call(this,i,n,r),this._fire(uN,{node:this}),this}drawHit(e,n){const r=this.getLayer(),s=e||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),Rn.prototype.drawHit.call(this,s,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){M.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return M.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return M.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};Mi.prototype.nodeType="Layer";it(Mi);P.addGetterSetter(Mi,"imageSmoothingEnabled",!0);P.addGetterSetter(Mi,"clearBeforeDraw",!0);P.addGetterSetter(Mi,"hitGraphEnabled",!0,gr());class xm extends Mi{constructor(e){super(e),this.listening(!1),M.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}xm.prototype.nodeType="FastLayer";it(xm);class Xo extends Rn{_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&M.throw("You may only add groups and shapes to groups.")}}Xo.prototype.nodeType="Group";it(Xo);const Ep=function(){return wi.performance&&wi.performance.now?function(){return wi.performance.now()}:function(){return new Date().getTime()}}();class Vn{constructor(e,n){this.id=Vn.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:Ep(),frameRate:0},this.func=e,this.setLayers(n)}setLayers(e){let n=[];return e&&(n=Array.isArray(e)?e:[e]),this.layers=n,this}getLayers(){return this.layers}addLayer(e){const n=this.layers,r=n.length;for(let s=0;s<r;s++)if(n[s]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const n=Vn.animations,r=n.length;for(let s=0;s<r;s++)if(n[s].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=Ep(),Vn._addAnimation(this),this}stop(){return Vn._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const n=e.id,r=this.animations,s=r.length;for(let i=0;i<s;i++)if(r[i].id===n){this.animations.splice(i,1);break}}static _runFrames(){const e={},n=this.animations;for(let r=0;r<n.length;r++){const s=n[r],i=s.layers,o=s.func;s._updateFrameObject(Ep());const u=i.length;let c;if(o?c=o.call(s,s.frame)!==!1:c=!0,!!c)for(let h=0;h<u;h++){const p=i[h];p._id!==void 0&&(e[p._id]=p)}}for(const r in e)e.hasOwnProperty(r)&&e[r].batchDraw()}static _animationLoop(){const e=Vn;e.animations.length?(e._runFrames(),M.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,M.requestAnimFrame(this._animationLoop))}}Vn.animations=[];Vn.animIdCounter=0;Vn.animRunning=!1;const dN={node:1,duration:1,easing:1,onFinish:1,yoyo:1},hN=1,D2=2,F2=3,z2=["fill","stroke","shadowColor"];let fN=0;class pN{constructor(e,n,r,s,i,o,u){this.prop=e,this.propFunc=n,this.begin=s,this._pos=s,this.duration=o,this._change=0,this.prevPos=0,this.yoyo=u,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=r,this._change=i-this.begin,this.pause()}fire(e){const n=this[e];n&&n()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=D2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=F2,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const e=this.getTimer()-this._startTime;this.state===D2?this.setTime(e):this.state===F2&&this.setTime(this.duration-e)}pause(){this.state=hN,this.fire("onPause")}getTimer(){return new Date().getTime()}}class Be{constructor(e){const n=this,r=e.node,s=r._id,i=e.easing||bl.Linear,o=!!e.yoyo;let u,c;typeof e.duration>"u"?u=.3:e.duration===0?u=.001:u=e.duration,this.node=r,this._id=fN++;const h=r.getLayer()||(r instanceof se.Stage?r.getLayers():null);h||M.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new Vn(function(){n.tween.onEnterFrame()},h),this.tween=new pN(c,function(p){n._tweenFunc(p)},i,0,1,u*1e3,o),this._addListeners(),Be.attrs[s]||(Be.attrs[s]={}),Be.attrs[s][this._id]||(Be.attrs[s][this._id]={}),Be.tweens[s]||(Be.tweens[s]={});for(c in e)dN[c]===void 0&&this._addAttr(c,e[c]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,n){const r=this.node,s=r._id;let i,o,u,c,h;const p=Be.tweens[s][e];p&&delete Be.attrs[s][p][e];let m=r.getAttr(e);if(M._isArray(n))if(i=[],o=Math.max(n.length,m.length),e==="points"&&n.length!==m.length&&(n.length>m.length?(c=m,m=M._prepareArrayForTween(m,n,r.closed())):(u=n,n=M._prepareArrayForTween(n,m,r.closed()))),e.indexOf("fill")===0)for(let y=0;y<o;y++)if(y%2===0)i.push(n[y]-m[y]);else{const _=M.colorToRGBA(m[y]);h=M.colorToRGBA(n[y]),m[y]=_,i.push({r:h.r-_.r,g:h.g-_.g,b:h.b-_.b,a:h.a-_.a})}else for(let y=0;y<o;y++)i.push(n[y]-m[y]);else z2.indexOf(e)!==-1?(m=M.colorToRGBA(m),h=M.colorToRGBA(n),i={r:h.r-m.r,g:h.g-m.g,b:h.b-m.b,a:h.a-m.a}):i=n-m;Be.attrs[s][this._id][e]={start:m,diff:i,end:n,trueEnd:u,trueStart:c},Be.tweens[s][e]=this._id}_tweenFunc(e){const n=this.node,r=Be.attrs[n._id][this._id];let s,i,o,u,c,h,p,m;for(s in r){if(i=r[s],o=i.start,u=i.diff,m=i.end,M._isArray(o))if(c=[],p=Math.max(o.length,m.length),s.indexOf("fill")===0)for(h=0;h<p;h++)h%2===0?c.push((o[h]||0)+u[h]*e):c.push("rgba("+Math.round(o[h].r+u[h].r*e)+","+Math.round(o[h].g+u[h].g*e)+","+Math.round(o[h].b+u[h].b*e)+","+(o[h].a+u[h].a*e)+")");else for(h=0;h<p;h++)c.push((o[h]||0)+u[h]*e);else z2.indexOf(s)!==-1?c="rgba("+Math.round(o.r+u.r*e)+","+Math.round(o.g+u.g*e)+","+Math.round(o.b+u.b*e)+","+(o.a+u.a*e)+")":c=o+u*e;n.setAttr(s,c)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const e=this.node,n=Be.attrs[e._id][this._id];n.points&&n.points.trueEnd&&e.setAttr("points",n.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const e=this.node,n=Be.attrs[e._id][this._id];n.points&&n.points.trueStart&&e.points(n.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const e=this.node._id,n=this._id,r=Be.tweens[e];this.pause(),this.anim&&this.anim.stop();for(const s in r)delete Be.tweens[e][s];delete Be.attrs[e][n],Be.tweens[e]&&(Object.keys(Be.tweens[e]).length===0&&delete Be.tweens[e],Object.keys(Be.attrs[e]).length===0&&delete Be.attrs[e])}}Be.attrs={};Be.tweens={};Z.prototype.to=function(t){const e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new Be(t).play()};const bl={BackEaseIn(t,e,n,r){return n*(t/=r)*t*((1.70158+1)*t-1.70158)+e},BackEaseOut(t,e,n,r){return n*((t=t/r-1)*t*((1.70158+1)*t+1.70158)+1)+e},BackEaseInOut(t,e,n,r){let s=1.70158;return(t/=r/2)<1?n/2*(t*t*(((s*=1.525)+1)*t-s))+e:n/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+e},ElasticEaseIn(t,e,n,r,s,i){let o=0;return t===0?e:(t/=r)===1?e+n:(i||(i=r*.3),!s||s<Math.abs(n)?(s=n,o=i/4):o=i/(2*Math.PI)*Math.asin(n/s),-(s*Math.pow(2,10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/i))+e)},ElasticEaseOut(t,e,n,r,s,i){let o=0;return t===0?e:(t/=r)===1?e+n:(i||(i=r*.3),!s||s<Math.abs(n)?(s=n,o=i/4):o=i/(2*Math.PI)*Math.asin(n/s),s*Math.pow(2,-10*t)*Math.sin((t*r-o)*(2*Math.PI)/i)+n+e)},ElasticEaseInOut(t,e,n,r,s,i){let o=0;return t===0?e:(t/=r/2)===2?e+n:(i||(i=r*(.3*1.5)),!s||s<Math.abs(n)?(s=n,o=i/4):o=i/(2*Math.PI)*Math.asin(n/s),t<1?-.5*(s*Math.pow(2,10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/i))+e:s*Math.pow(2,-10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/i)*.5+n+e)},BounceEaseOut(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn(t,e,n,r){return n-bl.BounceEaseOut(r-t,0,n,r)+e},BounceEaseInOut(t,e,n,r){return t<r/2?bl.BounceEaseIn(t*2,0,n,r)*.5+e:bl.BounceEaseOut(t*2-r,0,n,r)*.5+n*.5+e},EaseIn(t,e,n,r){return n*(t/=r)*t+e},EaseOut(t,e,n,r){return-n*(t/=r)*(t-2)+e},EaseInOut(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn(t,e,n,r){return n*(t/=r)*t*t*t*t+e},StrongEaseOut(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e},StrongEaseInOut(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear(t,e,n,r){return n*t/r+e}},Ti=M._assign(se,{Util:M,Transform:Nn,Node:Z,Container:Rn,Stage:lh,stages:_l,Layer:Mi,FastLayer:xm,Group:Xo,DD:Ie,Shape:K,shapes:Sl,Animation:Vn,Tween:Be,Easings:bl,Context:oh,Canvas:gm});class es extends K{_sceneFunc(e){const n=se.getAngle(this.angle()),r=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,n,r),e.arc(0,0,this.innerRadius(),n,0,!r),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),n=this.outerRadius(),r=this.clockwise(),s=se.getAngle(r?360-this.angle():this.angle()),i=Math.cos(Math.min(s,Math.PI)),o=1,u=Math.sin(Math.min(Math.max(Math.PI,s),3*Math.PI/2)),c=Math.sin(Math.min(s,Math.PI/2)),h=i*(i>0?e:n),p=o*n,m=u*(u>0?e:n),y=c*(c>0?n:e);return{x:h,y:r?-1*y:m,width:p-h,height:y-m}}}es.prototype._centroid=!0;es.prototype.className="Arc";es.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];it(es);P.addGetterSetter(es,"innerRadius",0,ee());P.addGetterSetter(es,"outerRadius",0,ee());P.addGetterSetter(es,"angle",0,ee());P.addGetterSetter(es,"clockwise",!1,gr());function Y0(t,e,n,r,s,i,o){const u=Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2)),c=Math.sqrt(Math.pow(s-n,2)+Math.pow(i-r,2)),h=o*u/(u+c),p=o*c/(u+c),m=n-h*(s-t),y=r-h*(i-e),_=n+p*(s-t),x=r+p*(i-e);return[m,y,_,x]}function U2(t,e){const n=t.length,r=[];for(let s=2;s<n-2;s+=2){const i=Y0(t[s-2],t[s-1],t[s],t[s+1],t[s+2],t[s+3],e);isNaN(i[0])||(r.push(i[0]),r.push(i[1]),r.push(t[s]),r.push(t[s+1]),r.push(i[2]),r.push(i[3]))}return r}class ts extends K{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){const n=this.points(),r=n.length,s=this.tension(),i=this.closed(),o=this.bezier();if(!r)return;let u=0;if(e.beginPath(),e.moveTo(n[0],n[1]),s!==0&&r>4){const c=this.getTensionPoints(),h=c.length;for(u=i?0:4,i||e.quadraticCurveTo(c[0],c[1],c[2],c[3]);u<h-2;)e.bezierCurveTo(c[u++],c[u++],c[u++],c[u++],c[u++],c[u++]);i||e.quadraticCurveTo(c[h-2],c[h-1],n[r-2],n[r-1])}else if(o)for(u=2;u<r;)e.bezierCurveTo(n[u++],n[u++],n[u++],n[u++],n[u++],n[u++]);else for(u=2;u<r;u+=2)e.lineTo(n[u],n[u+1]);i?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():U2(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),n=e.length,r=this.tension(),s=Y0(e[n-2],e[n-1],e[0],e[1],e[2],e[3],r),i=Y0(e[n-4],e[n-3],e[n-2],e[n-1],e[0],e[1],r),o=U2(e,r);return[s[2],s[3]].concat(o).concat([i[0],i[1],e[n-2],e[n-1],i[2],i[3],s[0],s[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let n=e[0],r=e[0],s=e[1],i=e[1],o,u;for(let c=0;c<e.length/2;c++)o=e[c*2],u=e[c*2+1],n=Math.min(n,o),r=Math.max(r,o),s=Math.min(s,u),i=Math.max(i,u);return{x:n,y:s,width:r-n,height:i-s}}}ts.prototype.className="Line";ts.prototype._attrsAffectingSize=["points","bezier","tension"];it(ts);P.addGetterSetter(ts,"closed",!1);P.addGetterSetter(ts,"bezier",!1);P.addGetterSetter(ts,"tension",0,ee());P.addGetterSetter(ts,"points",[],Tj());const gN=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],mN=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],yN=[[1],[1,1],[1,2,1],[1,3,3,1]],B2=(t,e,n)=>{let r,s;const o=n/2;r=0;for(let u=0;u<20;u++)s=o*gN[20][u]+o,r+=mN[20][u]*vN(t,e,s);return o*r},G2=(t,e,n)=>{n===void 0&&(n=1);const r=t[0]-2*t[1]+t[2],s=e[0]-2*e[1]+e[2],i=2*t[1]-2*t[0],o=2*e[1]-2*e[0],u=4*(r*r+s*s),c=4*(r*i+s*o),h=i*i+o*o;if(u===0)return n*Math.sqrt(Math.pow(t[2]-t[0],2)+Math.pow(e[2]-e[0],2));const p=c/(2*u),m=h/u,y=n+p,_=m-p*p,x=y*y+_>0?Math.sqrt(y*y+_):0,b=p*p+_>0?Math.sqrt(p*p+_):0,C=p+Math.sqrt(p*p+_)!==0?_*Math.log(Math.abs((y+x)/(p+b))):0;return Math.sqrt(u)/2*(y*x-p*b+C)};function vN(t,e,n){const r=X0(1,n,t),s=X0(1,n,e),i=r*r+s*s;return Math.sqrt(i)}const X0=(t,e,n)=>{const r=n.length-1;let s,i;if(r===0)return 0;if(t===0){i=0;for(let o=0;o<=r;o++)i+=yN[r][o]*Math.pow(1-e,r-o)*Math.pow(e,o)*n[o];return i}else{s=new Array(r);for(let o=0;o<r;o++)s[o]=r*(n[o+1]-n[o]);return X0(t-1,e,s)}},W2=(t,e,n)=>{let r=1,s=t/e,i=(t-n(s))/e,o=0;for(;r>.001;){const u=n(s+i),c=Math.abs(t-u)/e;if(c<r)r=c,s+=i;else{const h=n(s-i),p=Math.abs(t-h)/e;p<r?(r=p,s-=i):i/=2}if(o++,o>500)break}return s};class Ge extends K{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Ge.parsePathData(this.data()),this.pathLength=Ge.getPathLength(this.dataArray)}_sceneFunc(e){const n=this.dataArray;e.beginPath();let r=!1;for(let s=0;s<n.length;s++){const i=n[s].command,o=n[s].points;switch(i){case"L":e.lineTo(o[0],o[1]);break;case"M":e.moveTo(o[0],o[1]);break;case"C":e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"Q":e.quadraticCurveTo(o[0],o[1],o[2],o[3]);break;case"A":const u=o[0],c=o[1],h=o[2],p=o[3],m=o[4],y=o[5],_=o[6],x=o[7],b=h>p?h:p,C=h>p?1:h/p,k=h>p?p/h:1;e.translate(u,c),e.rotate(_),e.scale(C,k),e.arc(0,0,b,m,m+y,1-x),e.scale(1/C,1/k),e.rotate(-_),e.translate(-u,-c);break;case"z":r=!0,e.closePath();break}}!r&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(c){if(c.command==="A"){const h=c.points[4],p=c.points[5],m=c.points[4]+p;let y=Math.PI/180;if(Math.abs(h-m)<y&&(y=Math.abs(h-m)),p<0)for(let _=h-y;_>m;_-=y){const x=Ge.getPointOnEllipticalArc(c.points[0],c.points[1],c.points[2],c.points[3],_,0);e.push(x.x,x.y)}else for(let _=h+y;_<m;_+=y){const x=Ge.getPointOnEllipticalArc(c.points[0],c.points[1],c.points[2],c.points[3],_,0);e.push(x.x,x.y)}}else if(c.command==="C")for(let h=0;h<=1;h+=.01){const p=Ge.getPointOnCubicBezier(h,c.start.x,c.start.y,c.points[0],c.points[1],c.points[2],c.points[3],c.points[4],c.points[5]);e.push(p.x,p.y)}else e=e.concat(c.points)});let n=e[0],r=e[0],s=e[1],i=e[1],o,u;for(let c=0;c<e.length/2;c++)o=e[c*2],u=e[c*2+1],isNaN(o)||(n=Math.min(n,o),r=Math.max(r,o)),isNaN(u)||(s=Math.min(s,u),i=Math.max(i,u));return{x:n,y:s,width:r-n,height:i-s}}getLength(){return this.pathLength}getPointAtLength(e){return Ge.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,n,r,s){return Math.sqrt((r-e)*(r-e)+(s-n)*(s-n))}static getPathLength(e){let n=0;for(let r=0;r<e.length;++r)n+=e[r].pathLength;return n}static getPointAtLengthOfDataArray(e,n){let r,s=0,i=n.length;if(!i)return null;for(;s<i&&e>n[s].pathLength;)e-=n[s].pathLength,++s;if(s===i)return r=n[s-1].points.slice(-2),{x:r[0],y:r[1]};if(e<.01)return n[s].command==="M"?(r=n[s].points.slice(0,2),{x:r[0],y:r[1]}):{x:n[s].start.x,y:n[s].start.y};const o=n[s],u=o.points;switch(o.command){case"L":return Ge.getPointOnLine(e,o.start.x,o.start.y,u[0],u[1]);case"C":return Ge.getPointOnCubicBezier(W2(e,Ge.getPathLength(n),b=>B2([o.start.x,u[0],u[2],u[4]],[o.start.y,u[1],u[3],u[5]],b)),o.start.x,o.start.y,u[0],u[1],u[2],u[3],u[4],u[5]);case"Q":return Ge.getPointOnQuadraticBezier(W2(e,Ge.getPathLength(n),b=>G2([o.start.x,u[0],u[2]],[o.start.y,u[1],u[3]],b)),o.start.x,o.start.y,u[0],u[1],u[2],u[3]);case"A":const c=u[0],h=u[1],p=u[2],m=u[3],y=u[5],_=u[6];let x=u[4];return x+=y*e/o.pathLength,Ge.getPointOnEllipticalArc(c,h,p,m,x,_)}return null}static getPointOnLine(e,n,r,s,i,o,u){o=o??n,u=u??r;const c=this.getLineLength(n,r,s,i);if(c<1e-10)return{x:n,y:r};if(s===n)return{x:o,y:u+(i>r?e:-e)};const h=(i-r)/(s-n),p=Math.sqrt(e*e/(1+h*h))*(s<n?-1:1),m=h*p;if(Math.abs(u-r-h*(o-n))<1e-10)return{x:o+p,y:u+m};const y=((o-n)*(s-n)+(u-r)*(i-r))/(c*c),_=n+y*(s-n),x=r+y*(i-r),b=this.getLineLength(o,u,_,x),C=Math.sqrt(e*e-b*b),k=Math.sqrt(C*C/(1+h*h))*(s<n?-1:1),S=h*k;return{x:_+k,y:x+S}}static getPointOnCubicBezier(e,n,r,s,i,o,u,c,h){function p(C){return C*C*C}function m(C){return 3*C*C*(1-C)}function y(C){return 3*C*(1-C)*(1-C)}function _(C){return(1-C)*(1-C)*(1-C)}const x=c*p(e)+o*m(e)+s*y(e)+n*_(e),b=h*p(e)+u*m(e)+i*y(e)+r*_(e);return{x,y:b}}static getPointOnQuadraticBezier(e,n,r,s,i,o,u){function c(_){return _*_}function h(_){return 2*_*(1-_)}function p(_){return(1-_)*(1-_)}const m=o*c(e)+s*h(e)+n*p(e),y=u*c(e)+i*h(e)+r*p(e);return{x:m,y}}static getPointOnEllipticalArc(e,n,r,s,i,o){const u=Math.cos(o),c=Math.sin(o),h={x:r*Math.cos(i),y:s*Math.sin(i)};return{x:e+(h.x*u-h.y*c),y:n+(h.x*c+h.y*u)}}static parsePathData(e){if(!e)return[];let n=e;const r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(let m=0;m<r.length;m++)n=n.replace(new RegExp(r[m],"g"),"|"+r[m]);const s=n.split("|"),i=[],o=[];let u=0,c=0;const h=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let p;for(let m=1;m<s.length;m++){let y=s[m],_=y.charAt(0);for(y=y.slice(1),o.length=0;p=h.exec(y);)o.push(p[0]);let x=[],b=_==="A"||_==="a"?0:-1;for(let C=0,k=o.length;C<k;C++){const S=o[C];if(S==="00"){x.push(0,0),b>=0&&(b+=2,b>=7&&(b-=7));continue}if(b>=0){if(b===3){if(/^[01]{2}\d+(?:\.\d+)?$/.test(S)){x.push(parseInt(S[0],10)),x.push(parseInt(S[1],10)),x.push(parseFloat(S.slice(2))),b+=3,b>=7&&(b-=7);continue}if(S==="11"||S==="10"||S==="01"){x.push(parseInt(S[0],10)),x.push(parseInt(S[1],10)),b+=2,b>=7&&(b-=7);continue}if(S==="0"||S==="1"){x.push(parseInt(S,10)),b+=1,b>=7&&(b-=7);continue}}else if(b===4){if(/^[01]\d+(?:\.\d+)?$/.test(S)){x.push(parseInt(S[0],10)),x.push(parseFloat(S.slice(1))),b+=2,b>=7&&(b-=7);continue}if(S==="0"||S==="1"){x.push(parseInt(S,10)),b+=1,b>=7&&(b-=7);continue}}const E=parseFloat(S);isNaN(E)?x.push(0):x.push(E),b+=1,b>=7&&(b-=7)}else{const E=parseFloat(S);isNaN(E)?x.push(0):x.push(E)}}for(;x.length>0&&!isNaN(x[0]);){let C="",k=[];const S=u,E=c;let N,O,T,R,I,U,$,Y,q,ne;switch(_){case"l":u+=x.shift(),c+=x.shift(),C="L",k.push(u,c);break;case"L":u=x.shift(),c=x.shift(),k.push(u,c);break;case"m":const ie=x.shift(),V=x.shift();if(u+=ie,c+=V,C="M",i.length>2&&i[i.length-1].command==="z"){for(let H=i.length-2;H>=0;H--)if(i[H].command==="M"){u=i[H].points[0]+ie,c=i[H].points[1]+V;break}}k.push(u,c),_="l";break;case"M":u=x.shift(),c=x.shift(),C="M",k.push(u,c),_="L";break;case"h":u+=x.shift(),C="L",k.push(u,c);break;case"H":u=x.shift(),C="L",k.push(u,c);break;case"v":c+=x.shift(),C="L",k.push(u,c);break;case"V":c=x.shift(),C="L",k.push(u,c);break;case"C":k.push(x.shift(),x.shift(),x.shift(),x.shift()),u=x.shift(),c=x.shift(),k.push(u,c);break;case"c":k.push(u+x.shift(),c+x.shift(),u+x.shift(),c+x.shift()),u+=x.shift(),c+=x.shift(),C="C",k.push(u,c);break;case"S":O=u,T=c,N=i[i.length-1],N.command==="C"&&(O=u+(u-N.points[2]),T=c+(c-N.points[3])),k.push(O,T,x.shift(),x.shift()),u=x.shift(),c=x.shift(),C="C",k.push(u,c);break;case"s":O=u,T=c,N=i[i.length-1],N.command==="C"&&(O=u+(u-N.points[2]),T=c+(c-N.points[3])),k.push(O,T,u+x.shift(),c+x.shift()),u+=x.shift(),c+=x.shift(),C="C",k.push(u,c);break;case"Q":k.push(x.shift(),x.shift()),u=x.shift(),c=x.shift(),k.push(u,c);break;case"q":k.push(u+x.shift(),c+x.shift()),u+=x.shift(),c+=x.shift(),C="Q",k.push(u,c);break;case"T":O=u,T=c,N=i[i.length-1],N.command==="Q"&&(O=u+(u-N.points[0]),T=c+(c-N.points[1])),u=x.shift(),c=x.shift(),C="Q",k.push(O,T,u,c);break;case"t":O=u,T=c,N=i[i.length-1],N.command==="Q"&&(O=u+(u-N.points[0]),T=c+(c-N.points[1])),u+=x.shift(),c+=x.shift(),C="Q",k.push(O,T,u,c);break;case"A":R=x.shift(),I=x.shift(),U=x.shift(),$=x.shift(),Y=x.shift(),q=u,ne=c,u=x.shift(),c=x.shift(),C="A",k=this.convertEndpointToCenterParameterization(q,ne,u,c,$,Y,R,I,U);break;case"a":R=x.shift(),I=x.shift(),U=x.shift(),$=x.shift(),Y=x.shift(),q=u,ne=c,u+=x.shift(),c+=x.shift(),C="A",k=this.convertEndpointToCenterParameterization(q,ne,u,c,$,Y,R,I,U);break}i.push({command:C||_,points:k,start:{x:S,y:E},pathLength:this.calcLength(S,E,C||_,k)})}(_==="z"||_==="Z")&&i.push({command:"z",points:[],start:void 0,pathLength:0})}return i}static calcLength(e,n,r,s){let i,o,u,c;const h=Ge;switch(r){case"L":return h.getLineLength(e,n,s[0],s[1]);case"C":return B2([e,s[0],s[2],s[4]],[n,s[1],s[3],s[5]],1);case"Q":return G2([e,s[0],s[2]],[n,s[1],s[3]],1);case"A":i=0;const p=s[4],m=s[5],y=s[4]+m;let _=Math.PI/180;if(Math.abs(p-y)<_&&(_=Math.abs(p-y)),o=h.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],p,0),m<0)for(c=p-_;c>y;c-=_)u=h.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],c,0),i+=h.getLineLength(o.x,o.y,u.x,u.y),o=u;else for(c=p+_;c<y;c+=_)u=h.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],c,0),i+=h.getLineLength(o.x,o.y,u.x,u.y),o=u;return u=h.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],y,0),i+=h.getLineLength(o.x,o.y,u.x,u.y),i}return 0}static convertEndpointToCenterParameterization(e,n,r,s,i,o,u,c,h){const p=h*(Math.PI/180),m=Math.cos(p)*(e-r)/2+Math.sin(p)*(n-s)/2,y=-1*Math.sin(p)*(e-r)/2+Math.cos(p)*(n-s)/2,_=m*m/(u*u)+y*y/(c*c);_>1&&(u*=Math.sqrt(_),c*=Math.sqrt(_));let x=Math.sqrt((u*u*(c*c)-u*u*(y*y)-c*c*(m*m))/(u*u*(y*y)+c*c*(m*m)));i===o&&(x*=-1),isNaN(x)&&(x=0);const b=x*u*y/c,C=x*-c*m/u,k=(e+r)/2+Math.cos(p)*b-Math.sin(p)*C,S=(n+s)/2+Math.sin(p)*b+Math.cos(p)*C,E=function($){return Math.sqrt($[0]*$[0]+$[1]*$[1])},N=function($,Y){return($[0]*Y[0]+$[1]*Y[1])/(E($)*E(Y))},O=function($,Y){return($[0]*Y[1]<$[1]*Y[0]?-1:1)*Math.acos(N($,Y))},T=O([1,0],[(m-b)/u,(y-C)/c]),R=[(m-b)/u,(y-C)/c],I=[(-1*m-b)/u,(-1*y-C)/c];let U=O(R,I);return N(R,I)<=-1&&(U=Math.PI),N(R,I)>=1&&(U=0),o===0&&U>0&&(U=U-2*Math.PI),o===1&&U<0&&(U=U+2*Math.PI),[k,S,u,c,T,U,p,o]}}Ge.prototype.className="Path";Ge.prototype._attrsAffectingSize=["data"];it(Ge);P.addGetterSetter(Ge,"data");class Di extends ts{_sceneFunc(e){super._sceneFunc(e);const n=Math.PI*2,r=this.points();let s=r;const i=this.tension()!==0&&r.length>4;i&&(s=this.getTensionPoints());const o=this.pointerLength(),u=r.length;let c,h;if(i){const y=[s[s.length-4],s[s.length-3],s[s.length-2],s[s.length-1],r[u-2],r[u-1]],_=Ge.calcLength(s[s.length-4],s[s.length-3],"C",y),x=Ge.getPointOnQuadraticBezier(Math.min(1,1-o/_),y[0],y[1],y[2],y[3],y[4],y[5]);c=r[u-2]-x.x,h=r[u-1]-x.y}else c=r[u-2]-r[u-4],h=r[u-1]-r[u-3];const p=(Math.atan2(h,c)+n)%n,m=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(r[u-2],r[u-1]),e.rotate(p),e.moveTo(0,0),e.lineTo(-o,m/2),e.lineTo(-o,-m/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(r[0],r[1]),i?(c=(s[0]+s[2])/2-r[0],h=(s[1]+s[3])/2-r[1]):(c=r[2]-r[0],h=r[3]-r[1]),e.rotate((Math.atan2(-h,-c)+n)%n),e.moveTo(0,0),e.lineTo(-o,m/2),e.lineTo(-o,-m/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),n=this.pointerWidth()/2;return{x:e.x,y:e.y-n,width:e.width,height:e.height+n*2}}}Di.prototype.className="Arrow";it(Di);P.addGetterSetter(Di,"pointerLength",10,ee());P.addGetterSetter(Di,"pointerWidth",10,ee());P.addGetterSetter(Di,"pointerAtBeginning",!1);P.addGetterSetter(Di,"pointerAtEnding",!0);class ua extends K{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}}ua.prototype._centroid=!0;ua.prototype.className="Circle";ua.prototype._attrsAffectingSize=["radius"];it(ua);P.addGetterSetter(ua,"radius",0,ee());class Hs extends K{_sceneFunc(e){const n=this.radiusX(),r=this.radiusY();e.beginPath(),e.save(),n!==r&&e.scale(1,r/n),e.arc(0,0,n,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}Hs.prototype.className="Ellipse";Hs.prototype._centroid=!0;Hs.prototype._attrsAffectingSize=["radiusX","radiusY"];it(Hs);P.addComponentsGetterSetter(Hs,"radius",["x","y"]);P.addGetterSetter(Hs,"radiusX",0,ee());P.addGetterSetter(Hs,"radiusY",0,ee());let Tr=class L_ extends K{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",n=>{this._removeImageLoad(n.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const e=!!this.cornerRadius(),n=this.hasShadow();return e&&n?!0:super._useBufferCanvas(!0)}_sceneFunc(e){const n=this.getWidth(),r=this.getHeight(),s=this.cornerRadius(),i=this.attrs.image;let o;if(i){const u=this.attrs.cropWidth,c=this.attrs.cropHeight;u&&c?o=[i,this.cropX(),this.cropY(),u,c,0,0,n,r]:o=[i,0,0,n,r]}(this.hasFill()||this.hasStroke()||s)&&(e.beginPath(),s?M.drawRoundedRectPath(e,n,r,s):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)),i&&(s&&e.clip(),e.drawImage.apply(e,o))}_hitFunc(e){const n=this.width(),r=this.height(),s=this.cornerRadius();e.beginPath(),s?M.drawRoundedRectPath(e,n,r,s):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,n;return(e=this.attrs.width)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.width}getHeight(){var e,n;return(e=this.attrs.height)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.height}static fromURL(e,n,r=null){const s=M.createImageElement();s.onload=function(){const i=new L_({image:s});n(i)},s.onerror=r,s.crossOrigin="Anonymous",s.src=e}};Tr.prototype.className="Image";it(Tr);P.addGetterSetter(Tr,"cornerRadius",0,ah(4));P.addGetterSetter(Tr,"image");P.addComponentsGetterSetter(Tr,"crop",["x","y","width","height"]);P.addGetterSetter(Tr,"cropX",0,ee());P.addGetterSetter(Tr,"cropY",0,ee());P.addGetterSetter(Tr,"cropWidth",0,ee());P.addGetterSetter(Tr,"cropHeight",0,ee());const M_=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],xN="Change.konva",wN="none",Q0="up",J0="right",Z0="down",eg="left",_N=M_.length;class wm extends Xo{constructor(e){super(e),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let n=this,r;const s=function(){n._sync()};for(r=0;r<_N;r++)e.on(M_[r]+xN,s)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),n=this.getTag(),r,s,i,o,u,c,h;if(e&&n){switch(r=e.width(),s=e.height(),i=n.pointerDirection(),o=n.pointerWidth(),h=n.pointerHeight(),u=0,c=0,i){case Q0:u=r/2,c=-1*h;break;case J0:u=r+o,c=s/2;break;case Z0:u=r/2,c=s+h;break;case eg:u=-1*o,c=s/2;break}n.setAttrs({x:-1*u,y:-1*c,width:r,height:s}),e.setAttrs({x:-1*u,y:-1*c})}}}wm.prototype.className="Label";it(wm);class Fi extends K{_sceneFunc(e){const n=this.width(),r=this.height(),s=this.pointerDirection(),i=this.pointerWidth(),o=this.pointerHeight(),u=this.cornerRadius();let c=0,h=0,p=0,m=0;typeof u=="number"?c=h=p=m=Math.min(u,n/2,r/2):(c=Math.min(u[0]||0,n/2,r/2),h=Math.min(u[1]||0,n/2,r/2),m=Math.min(u[2]||0,n/2,r/2),p=Math.min(u[3]||0,n/2,r/2)),e.beginPath(),e.moveTo(c,0),s===Q0&&(e.lineTo((n-i)/2,0),e.lineTo(n/2,-1*o),e.lineTo((n+i)/2,0)),e.lineTo(n-h,0),e.arc(n-h,h,h,Math.PI*3/2,0,!1),s===J0&&(e.lineTo(n,(r-o)/2),e.lineTo(n+i,r/2),e.lineTo(n,(r+o)/2)),e.lineTo(n,r-m),e.arc(n-m,r-m,m,0,Math.PI/2,!1),s===Z0&&(e.lineTo((n+i)/2,r),e.lineTo(n/2,r+o),e.lineTo((n-i)/2,r)),e.lineTo(p,r),e.arc(p,r-p,p,Math.PI/2,Math.PI,!1),s===eg&&(e.lineTo(0,(r+o)/2),e.lineTo(-1*i,r/2),e.lineTo(0,(r-o)/2)),e.lineTo(0,c),e.arc(c,c,c,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,n=0,r=this.pointerWidth(),s=this.pointerHeight(),i=this.pointerDirection(),o=this.width(),u=this.height();return i===Q0?(n-=s,u+=s):i===Z0?u+=s:i===eg?(e-=r*1.5,o+=r):i===J0&&(o+=r*1.5),{x:e,y:n,width:o,height:u}}}Fi.prototype.className="Tag";it(Fi);P.addGetterSetter(Fi,"pointerDirection",wN);P.addGetterSetter(Fi,"pointerWidth",0,ee());P.addGetterSetter(Fi,"pointerHeight",0,ee());P.addGetterSetter(Fi,"cornerRadius",0,ah(4));class ru extends K{_sceneFunc(e){const n=this.cornerRadius(),r=this.width(),s=this.height();e.beginPath(),n?M.drawRoundedRectPath(e,r,s,n):e.rect(0,0,r,s),e.closePath(),e.fillStrokeShape(this)}}ru.prototype.className="Rect";it(ru);P.addGetterSetter(ru,"cornerRadius",0,ah(4));class Vs extends K{_sceneFunc(e){const n=this._getPoints(),r=this.radius(),s=this.sides(),i=this.cornerRadius();if(e.beginPath(),i)M.drawRoundedPolygonPath(e,n,s,r,i);else{e.moveTo(n[0].x,n[0].y);for(let o=1;o<n.length;o++)e.lineTo(n[o].x,n[o].y)}e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,n=this.attrs.radius||0,r=[];for(let s=0;s<e;s++)r.push({x:n*Math.sin(s*2*Math.PI/e),y:-1*n*Math.cos(s*2*Math.PI/e)});return r}getSelfRect(){const e=this._getPoints();let n=e[0].x,r=e[0].y,s=e[0].x,i=e[0].y;return e.forEach(o=>{n=Math.min(n,o.x),r=Math.max(r,o.x),s=Math.min(s,o.y),i=Math.max(i,o.y)}),{x:n,y:s,width:r-n,height:i-s}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Vs.prototype.className="RegularPolygon";Vs.prototype._centroid=!0;Vs.prototype._attrsAffectingSize=["radius"];it(Vs);P.addGetterSetter(Vs,"radius",0,ee());P.addGetterSetter(Vs,"sides",0,ee());P.addGetterSetter(Vs,"cornerRadius",0,ah(4));const $2=Math.PI*2;class zi extends K{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,$2,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),$2,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}zi.prototype.className="Ring";zi.prototype._centroid=!0;zi.prototype._attrsAffectingSize=["innerRadius","outerRadius"];it(zi);P.addGetterSetter(zi,"innerRadius",0,ee());P.addGetterSetter(zi,"outerRadius",0,ee());class Rr extends K{constructor(e){super(e),this._updated=!0,this.anim=new Vn(()=>{const n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){const n=this.animation(),r=this.frameIndex(),s=r*4,i=this.animations()[n],o=this.frameOffsets(),u=i[s+0],c=i[s+1],h=i[s+2],p=i[s+3],m=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,h,p),e.closePath(),e.fillStrokeShape(this)),m)if(o){const y=o[n],_=r*2;e.drawImage(m,u,c,h,p,y[_+0],y[_+1],h,p)}else e.drawImage(m,u,c,h,p,0,0,h,p)}_hitFunc(e){const n=this.animation(),r=this.frameIndex(),s=r*4,i=this.animations()[n],o=this.frameOffsets(),u=i[s+2],c=i[s+3];if(e.beginPath(),o){const h=o[n],p=r*2;e.rect(h[p+0],h[p+1],u,c)}else e.rect(0,0,u,c);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),n=this.animation(),r=this.animations(),s=r[n],i=s.length/4;e<i-1?this.frameIndex(e+1):this.frameIndex(0)}}Rr.prototype.className="Sprite";it(Rr);P.addGetterSetter(Rr,"animation");P.addGetterSetter(Rr,"animations");P.addGetterSetter(Rr,"frameOffsets");P.addGetterSetter(Rr,"image");P.addGetterSetter(Rr,"frameIndex",0,ee());P.addGetterSetter(Rr,"frameRate",17,ee());P.backCompat(Rr,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class qs extends K{_sceneFunc(e){const n=this.innerRadius(),r=this.outerRadius(),s=this.numPoints();e.beginPath(),e.moveTo(0,0-r);for(let i=1;i<s*2;i++){const o=i%2===0?r:n,u=o*Math.sin(i*Math.PI/s),c=-1*o*Math.cos(i*Math.PI/s);e.lineTo(u,c)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}qs.prototype.className="Star";qs.prototype._centroid=!0;qs.prototype._attrsAffectingSize=["innerRadius","outerRadius"];it(qs);P.addGetterSetter(qs,"numPoints",5,ee());P.addGetterSetter(qs,"innerRadius",0,ee());P.addGetterSetter(qs,"outerRadius",0,ee());function vs(t){return[...t].reduce((e,n,r,s)=>{if(new RegExp("\\p{Emoji}","u").test(n)){const i=s[r+1];i&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(i)?(e.push(n+i),s[r+1]=""):e.push(n)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(n+(s[r+1]||""))?e.push(n+s[r+1]):r>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(n)?e[e.length-1]+=n:n&&e.push(n);return e},[])}const po="auto",SN="center",D_="inherit",go="justify",bN="Change.konva",kN="2d",H2="-",F_="left",EN="text",CN="Text",jN="top",NN="bottom",V2="middle",z_="normal",PN="px ",Rc=" ",TN="right",q2="rtl",RN="word",ON="char",K2="none",Cp="…",U_=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],AN=U_.length;function IN(t){return t.split(",").map(e=>{e=e.trim();const n=e.indexOf(" ")>=0,r=e.indexOf('"')>=0||e.indexOf("'")>=0;return n&&!r&&(e=`"${e}"`),e}).join(", ")}let Oc;function jp(){return Oc||(Oc=M.createCanvasElement().getContext(kN),Oc)}function LN(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function MN(t){t.setAttr("miterLimit",2),t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function DN(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}class Ke extends K{constructor(e){super(DN(e)),this._partialTextX=0,this._partialTextY=0;for(let n=0;n<AN;n++)this.on(U_[n]+bN,this._setTextData);this._setTextData()}_sceneFunc(e){var n,r;const s=this.textArr,i=s.length;if(!this.text())return;let o=this.padding(),u=this.fontSize(),c=this.lineHeight()*u,h=this.verticalAlign(),p=this.direction(),m=0,y=this.align(),_=this.getWidth(),x=this.letterSpacing(),b=this.charRenderFunc(),C=this.fill(),k=this.textDecoration(),S=k.indexOf("underline")!==-1,E=k.indexOf("line-through")!==-1,N;p=p===D_?e.direction:p;let O=c/2,T=V2;if(!se.legacyTextRendering){const R=this.measureSize("M");T="alphabetic";const I=(n=R.fontBoundingBoxAscent)!==null&&n!==void 0?n:R.actualBoundingBoxAscent,U=(r=R.fontBoundingBoxDescent)!==null&&r!==void 0?r:R.actualBoundingBoxDescent;O=(I-U)/2+c/2}for(p===q2&&e.setAttr("direction",p),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",T),e.setAttr("textAlign",F_),h===V2?m=(this.getHeight()-i*c-o*2)/2:h===NN&&(m=this.getHeight()-i*c-o*2),e.translate(o,m+o),N=0;N<i;N++){let R=0,I=0;const U=s[N],$=U.text,Y=U.width,q=U.lastInParagraph;if(e.save(),y===TN?R+=_-Y-o*2:y===SN&&(R+=(_-Y-o*2)/2),S){e.save(),e.beginPath();const ne=se.legacyTextRendering?Math.round(u/2):Math.round(u/4),ie=R,V=O+I+ne;e.moveTo(ie,V);const H=y===go&&!q?_-o*2:Y;e.lineTo(ie+Math.round(H),V),e.lineWidth=u/15;const ge=this._getLinearGradient();e.strokeStyle=ge||C,e.stroke(),e.restore()}if(p!==q2&&(x!==0||y===go||b)){const ne=$.split(" ").length-1,ie=vs($);for(let V=0;V<ie.length;V++){const H=ie[V];if(H===" "&&!q&&y===go&&(R+=(_-o*2-Y)/ne),this._partialTextX=R,this._partialTextY=O+I,this._partialText=H,b){e.save();const G=s.slice(0,N).reduce((oe,X)=>oe+vs(X.text).length,0),re=V+G;b({char:H,index:re,x:R,y:O+I,lineIndex:N,column:V,isLastInLine:q,width:this.measureSize(H).width,context:e})}e.fillStrokeShape(this),b&&e.restore(),R+=this.measureSize(H).width+x}}else x!==0&&e.setAttr("letterSpacing",`${x}px`),this._partialTextX=R,this._partialTextY=O+I,this._partialText=$,e.fillStrokeShape(this);if(E){e.save(),e.beginPath();const ne=se.legacyTextRendering?0:-Math.round(u/4),ie=y===go?0:R;e.moveTo(ie,O+I+ne);const V=y===go&&!q?_-o*2:Y;e.lineTo(ie+Math.round(V),O+I+ne),e.lineWidth=u/15;const H=this._getLinearGradient();e.strokeStyle=H||C,e.stroke(),e.restore()}e.restore(),i>1&&(O+=c)}}_hitFunc(e){const n=this.getWidth(),r=this.getHeight();e.beginPath(),e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}setText(e){const n=M._isString(e)?e:e==null?"":e+"";return this._setAttr(EN,n),this}getWidth(){return this.attrs.width===po||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===po||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return M.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var n,r,s,i,o,u,c,h,p,m,y;let _=jp(),x=this.fontSize(),b;_.save(),_.font=this._getContextFont(),b=_.measureText(e),_.restore();const C=x/100;return{actualBoundingBoxAscent:(n=b.actualBoundingBoxAscent)!==null&&n!==void 0?n:71.58203125*C,actualBoundingBoxDescent:(r=b.actualBoundingBoxDescent)!==null&&r!==void 0?r:0,actualBoundingBoxLeft:(s=b.actualBoundingBoxLeft)!==null&&s!==void 0?s:-7.421875*C,actualBoundingBoxRight:(i=b.actualBoundingBoxRight)!==null&&i!==void 0?i:75.732421875*C,alphabeticBaseline:(o=b.alphabeticBaseline)!==null&&o!==void 0?o:0,emHeightAscent:(u=b.emHeightAscent)!==null&&u!==void 0?u:100*C,emHeightDescent:(c=b.emHeightDescent)!==null&&c!==void 0?c:-20*C,fontBoundingBoxAscent:(h=b.fontBoundingBoxAscent)!==null&&h!==void 0?h:91*C,fontBoundingBoxDescent:(p=b.fontBoundingBoxDescent)!==null&&p!==void 0?p:21*C,hangingBaseline:(m=b.hangingBaseline)!==null&&m!==void 0?m:72.80000305175781*C,ideographicBaseline:(y=b.ideographicBaseline)!==null&&y!==void 0?y:-21*C,width:b.width,height:x}}_getContextFont(){return this.fontStyle()+Rc+this.fontVariant()+Rc+(this.fontSize()+PN)+IN(this.fontFamily())}_addTextLine(e){this.align()===go&&(e=e.trim());const r=this._getTextWidth(e);return this.textArr.push({text:e,width:r,lastInParagraph:!1})}_getTextWidth(e){const n=this.letterSpacing(),r=e.length;return jp().measureText(e).width+n*r}_setTextData(){let e=this.text().split(`
`),n=+this.fontSize(),r=0,s=this.lineHeight()*n,i=this.attrs.width,o=this.attrs.height,u=i!==po&&i!==void 0,c=o!==po&&o!==void 0,h=this.padding(),p=i-h*2,m=o-h*2,y=0,_=this.wrap(),x=_!==K2,b=_!==ON&&x,C=this.ellipsis();this.textArr=[],jp().font=this._getContextFont();const k=C?this._getTextWidth(Cp):0;for(let S=0,E=e.length;S<E;++S){let N=e[S],O=this._getTextWidth(N);if(u&&O>p)for(;N.length>0;){let T=0,R=vs(N).length,I="",U=0;for(;T<R;){const $=T+R>>>1,Y=vs(N),q=Y.slice(0,$+1).join(""),ne=this._getTextWidth(q);(C&&c&&y+s>m?ne+k:ne)<=p?(T=$+1,I=q,U=ne):R=$}if(I){if(b){const q=vs(N),ne=vs(I),ie=q[ne.length],V=ie===Rc||ie===H2;let H;if(V&&U<=p)H=ne.length;else{const ge=ne.lastIndexOf(Rc),G=ne.lastIndexOf(H2);H=Math.max(ge,G)+1}H>0&&(T=H,I=q.slice(0,T).join(""),U=this._getTextWidth(I))}if(I=I.trimRight(),this._addTextLine(I),r=Math.max(r,U),y+=s,this._shouldHandleEllipsis(y)){this._tryToAddEllipsisToLastLine();break}if(N=vs(N).slice(T).join("").trimLeft(),N.length>0&&(O=this._getTextWidth(N),O<=p)){this._addTextLine(N),y+=s,r=Math.max(r,O);break}}else break}else this._addTextLine(N),y+=s,r=Math.max(r,O),this._shouldHandleEllipsis(y)&&S<E-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),c&&y+s>m)break}this.textHeight=n,this.textWidth=r}_shouldHandleEllipsis(e){const n=+this.fontSize(),r=this.lineHeight()*n,s=this.attrs.height,i=s!==po&&s!==void 0,o=this.padding(),u=s-o*2;return!(this.wrap()!==K2)||i&&e+r>u}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,n=e!==po&&e!==void 0,r=this.padding(),s=e-r*2,i=this.ellipsis(),o=this.textArr[this.textArr.length-1];!o||!i||(n&&(this._getTextWidth(o.text+Cp)<s||(o.text=o.text.slice(0,o.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(o.text+Cp))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,n=this.hasShadow();return e&&n?!0:super._useBufferCanvas()}}Ke.prototype._fillFunc=LN;Ke.prototype._strokeFunc=MN;Ke.prototype.className=CN;Ke.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];it(Ke);P.overWriteSetter(Ke,"width",ym());P.overWriteSetter(Ke,"height",ym());P.addGetterSetter(Ke,"direction",D_);P.addGetterSetter(Ke,"fontFamily","Arial");P.addGetterSetter(Ke,"fontSize",12,ee());P.addGetterSetter(Ke,"fontStyle",z_);P.addGetterSetter(Ke,"fontVariant",z_);P.addGetterSetter(Ke,"padding",0,ee());P.addGetterSetter(Ke,"align",F_);P.addGetterSetter(Ke,"verticalAlign",jN);P.addGetterSetter(Ke,"lineHeight",1,ee());P.addGetterSetter(Ke,"wrap",RN);P.addGetterSetter(Ke,"ellipsis",!1,gr());P.addGetterSetter(Ke,"letterSpacing",0,ee());P.addGetterSetter(Ke,"text","",Li());P.addGetterSetter(Ke,"textDecoration","");P.addGetterSetter(Ke,"charRenderFunc",void 0);const FN="",B_="normal";function G_(t){t.fillText(this.partialText,0,0)}function W_(t){t.strokeText(this.partialText,0,0)}class bt extends K{constructor(e){super(e),this.dummyCanvas=M.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return Ge.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const n=this.pathLength;return e>n?null:Ge.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=Ge.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const n=this.textDecoration(),r=this.fill(),s=this.fontSize(),i=this.glyphInfo,o=n.indexOf("underline")!==-1,u=n.indexOf("line-through")!==-1;o&&e.beginPath();for(let c=0;c<i.length;c++){e.save();const h=i[c].p0;e.translate(h.x,h.y),e.rotate(i[c].rotation),this.partialText=i[c].text,e.fillStrokeShape(this),o&&(c===0&&e.moveTo(0,s/2+1),e.lineTo(i[c].width,s/2+1)),e.restore()}if(o&&(e.strokeStyle=r,e.lineWidth=s/20,e.stroke()),u){e.beginPath();for(let c=0;c<i.length;c++){e.save();const h=i[c].p0;e.translate(h.x,h.y),e.rotate(i[c].rotation),c===0&&e.moveTo(0,0),e.lineTo(i[c].width,0),e.restore()}e.strokeStyle=r,e.lineWidth=s/20,e.stroke()}e.restore()}_hitFunc(e){e.beginPath();const n=this.glyphInfo;if(n.length>=1){const r=n[0].p0;e.moveTo(r.x,r.y)}for(let r=0;r<n.length;r++){const s=n[r].p1;e.lineTo(s.x,s.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return M.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return Ke.prototype.setText.call(this,e)}_getContextFont(){return Ke.prototype._getContextFont.call(this)}_getTextSize(e){const r=this.dummyCanvas.getContext("2d");r.save(),r.font=this._getContextFont();const s=r.measureText(e);return r.restore(),{width:s.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const e=vs(this.text()),n=[];let r=0;for(let m=0;m<e.length;m++)n.push({char:e[m],width:this._getTextSize(e[m]).width}),r+=n[m].width;const{height:s}=this._getTextSize(this.attrs.text);if(this.textWidth=r,this.textHeight=s,this.glyphInfo=[],!this.attrs.data)return null;const i=this.letterSpacing(),o=this.align(),u=this.kerningFunc(),c=Math.max(this.textWidth+((this.attrs.text||"").length-1)*i,0);let h=0;o==="center"&&(h=Math.max(0,this.pathLength/2-c/2)),o==="right"&&(h=Math.max(0,this.pathLength-c));let p=h;for(let m=0;m<n.length;m++){const y=this._getPointAtLength(p);if(!y)return;const _=n[m].char;let x=n[m].width+i;if(_===" "&&o==="justify"){const N=this.text().split(" ").length-1;x+=(this.pathLength-c)/N}const b=this._getPointAtLength(p+x);if(!b)return;const C=Ge.getLineLength(y.x,y.y,b.x,b.y);let k=0;if(u)try{k=u(n[m-1].char,_)*this.fontSize()}catch{k=0}y.x+=k,b.x+=k,this.textWidth+=k;const S=Ge.getPointOnLine(k+C/2,y.x,y.y,b.x,b.y),E=Math.atan2(b.y-y.y,b.x-y.x);this.glyphInfo.push({transposeX:S.x,transposeY:S.y,text:e[m],rotation:E,p0:y,p1:b,width:C}),p+=x}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach(function(h){e.push(h.p0.x),e.push(h.p0.y),e.push(h.p1.x),e.push(h.p1.y)});let n=e[0]||0,r=e[0]||0,s=e[1]||0,i=e[1]||0,o,u;for(let h=0;h<e.length/2;h++)o=e[h*2],u=e[h*2+1],n=Math.min(n,o),r=Math.max(r,o),s=Math.min(s,u),i=Math.max(i,u);const c=this.fontSize();return{x:n-c/2,y:s-c/2,width:r-n+c,height:i-s+c}}destroy(){return M.releaseCanvas(this.dummyCanvas),super.destroy()}}bt.prototype._fillFunc=G_;bt.prototype._strokeFunc=W_;bt.prototype._fillFuncHit=G_;bt.prototype._strokeFuncHit=W_;bt.prototype.className="TextPath";bt.prototype._attrsAffectingSize=["text","fontSize","data"];it(bt);P.addGetterSetter(bt,"data");P.addGetterSetter(bt,"fontFamily","Arial");P.addGetterSetter(bt,"fontSize",12,ee());P.addGetterSetter(bt,"fontStyle",B_);P.addGetterSetter(bt,"align","left");P.addGetterSetter(bt,"letterSpacing",0,ee());P.addGetterSetter(bt,"textBaseline","middle");P.addGetterSetter(bt,"fontVariant",B_);P.addGetterSetter(bt,"text",FN);P.addGetterSetter(bt,"textDecoration","");P.addGetterSetter(bt,"kerningFunc",void 0);const $_="tr-konva",zN=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(t=>t+`.${$_}`).join(" "),Y2="nodesRect",UN=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange","draggableChange"],BN={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},GN="ontouchstart"in se._global;function WN(t,e,n){if(t==="rotater")return n;e+=M.degToRad(BN[t]||0);const r=(M.radToDeg(e)%360+360)%360;return M._inRange(r,315+22.5,360)||M._inRange(r,0,22.5)?"ns-resize":M._inRange(r,45-22.5,45+22.5)?"nesw-resize":M._inRange(r,90-22.5,90+22.5)?"ew-resize":M._inRange(r,135-22.5,135+22.5)?"nwse-resize":M._inRange(r,180-22.5,180+22.5)?"ns-resize":M._inRange(r,225-22.5,225+22.5)?"nesw-resize":M._inRange(r,270-22.5,270+22.5)?"ew-resize":M._inRange(r,315-22.5,315+22.5)?"nwse-resize":(M.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}const Ad=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function $N(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function H_(t,e,n){const r=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),s=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return{...t,rotation:t.rotation+e,x:r,y:s}}function HN(t,e){const n=$N(t);return H_(t,e,n)}function VN(t,e,n){let r=e;for(let s=0;s<t.length;s++){const i=se.getAngle(t[s]),o=Math.abs(i-e)%(Math.PI*2);Math.min(o,Math.PI*2-o)<n&&(r=i)}return r}let tg=0,Ne=class extends Xo{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(zN,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return M.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return $_+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const n=e.filter(s=>s.isAncestorOf(this)?(M.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=n,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(s=>{const i=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(s._attrsAffectingSize.length){const o=s._attrsAffectingSize.map(u=>u+"Change."+this._getEventNamespace()).join(" ");s.on(o,i)}s.on(UN.map(o=>o+`.${this._getEventNamespace()}`).join(" "),i),s.on(`absoluteTransformChange.${this._getEventNamespace()}`,i),this._proxyDrag(s)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let n;e.on(`dragstart.${this._getEventNamespace()}`,r=>{n=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(r,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,r=>{if(!n)return;const s=e.getAbsolutePosition(),i=s.x-n.x,o=s.y-n.y;this.nodes().forEach(u=>{if(u===e||u.isDragging())return;const c=u.getAbsolutePosition();u.setAbsolutePosition({x:c.x+i,y:c.y+o}),u.startDrag(r)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(Y2),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(Y2,this.__getNodeRect)}__getNodeShape(e,n=this.rotation(),r){const s=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),i=e.getAbsoluteScale(r),o=e.getAbsolutePosition(r),u=s.x*i.x-e.offsetX()*i.x,c=s.y*i.y-e.offsetY()*i.y,h=(se.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),p={x:o.x+u*Math.cos(h)+c*Math.sin(-h),y:o.y+c*Math.cos(h)+u*Math.sin(h),width:s.width*i.x,height:s.height*i.y,rotation:h};return H_(p,-se.getAngle(n),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const n=[];this.nodes().map(h=>{const p=h.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),m=[{x:p.x,y:p.y},{x:p.x+p.width,y:p.y},{x:p.x+p.width,y:p.y+p.height},{x:p.x,y:p.y+p.height}],y=h.getAbsoluteTransform();m.forEach(function(_){const x=y.point(_);n.push(x)})});const r=new Nn;r.rotate(-se.getAngle(this.rotation()));let s=1/0,i=1/0,o=-1/0,u=-1/0;n.forEach(function(h){const p=r.point(h);s===void 0&&(s=o=p.x,i=u=p.y),s=Math.min(s,p.x),i=Math.min(i,p.y),o=Math.max(o,p.x),u=Math.max(u,p.y)}),r.invert();const c=r.point({x:s,y:i});return{x:c.x,y:c.y,width:o-s,height:u-i,rotation:se.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),Ad.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){const n=new ru({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:GN?10:"auto"}),r=this;n.on("mousedown touchstart",function(s){r._handleMouseDown(s)}),n.on("dragstart",s=>{n.stopDrag(),s.cancelBubble=!0}),n.on("dragend",s=>{s.cancelBubble=!0}),n.on("mouseenter",()=>{const s=se.getAngle(this.rotation()),i=this.rotateAnchorCursor(),o=WN(e,s,i);n.getStage().content&&(n.getStage().content.style.cursor=o),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){const e=new K({name:"back",width:0,height:0,sceneFunc(n,r){const s=r.getParent(),i=s.padding();n.beginPath(),n.rect(-i,-i,r.width()+i*2,r.height()+i*2),n.moveTo(r.width()/2,-i),s.rotateEnabled()&&s.rotateLineVisible()&&n.lineTo(r.width()/2,-s.rotateAnchorOffset()*M._sign(r.height())-i),n.fillStrokeShape(r)},hitFunc:(n,r)=>{if(!this.shouldOverdrawWholeArea())return;const s=this.padding();n.beginPath(),n.rect(-s,-s,r.width()+s*2,r.height()+s*2),n.fillStrokeShape(r)}});this.add(e),this._proxyDrag(e),e.on("dragstart",n=>{n.cancelBubble=!0}),e.on("dragmove",n=>{n.cancelBubble=!0}),e.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const n=this._getNodeRect(),r=n.width,s=n.height,i=Math.sqrt(Math.pow(r,2)+Math.pow(s,2));this.sin=Math.abs(s/i),this.cos=Math.abs(r/i),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const o=e.target.getAbsolutePosition(),u=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:u.x-o.x,y:u.y-o.y},tg++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(c=>{c._fire("transformstart",{evt:e.evt,target:c})})}_handleMouseMove(e){let n,r,s;const i=this.findOne("."+this._movingAnchorName),o=i.getStage();o.setPointersPositions(e);const u=o.getPointerPosition();let c={x:u.x-this._anchorDragOffset.x,y:u.y-this._anchorDragOffset.y};const h=i.getAbsolutePosition();this.anchorDragBoundFunc()&&(c=this.anchorDragBoundFunc()(h,c,e)),i.setAbsolutePosition(c);const p=i.getAbsolutePosition();if(h.x===p.x&&h.y===p.y)return;if(this._movingAnchorName==="rotater"){const S=this._getNodeRect();n=i.x()-S.width/2,r=-i.y()+S.height/2;let E=Math.atan2(-r,n)+Math.PI/2;S.height<0&&(E-=Math.PI);const O=se.getAngle(this.rotation())+E,T=se.getAngle(this.rotationSnapTolerance()),I=VN(this.rotationSnaps(),O,T)-S.rotation,U=HN(S,I);this._fitNodesInto(U,e);return}const m=this.shiftBehavior();let y;m==="inverted"?y=this.keepRatio()&&!e.shiftKey:m==="none"?y=this.keepRatio():y=this.keepRatio()||e.shiftKey;let _=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(y){const S=_?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};s=Math.sqrt(Math.pow(S.x-i.x(),2)+Math.pow(S.y-i.y(),2));const E=this.findOne(".top-left").x()>S.x?-1:1,N=this.findOne(".top-left").y()>S.y?-1:1;n=s*this.cos*E,r=s*this.sin*N,this.findOne(".top-left").x(S.x-n),this.findOne(".top-left").y(S.y-r)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(i.y());else if(this._movingAnchorName==="top-right"){if(y){const S=_?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};s=Math.sqrt(Math.pow(i.x()-S.x,2)+Math.pow(S.y-i.y(),2));const E=this.findOne(".top-right").x()<S.x?-1:1,N=this.findOne(".top-right").y()>S.y?-1:1;n=s*this.cos*E,r=s*this.sin*N,this.findOne(".top-right").x(S.x+n),this.findOne(".top-right").y(S.y-r)}var x=i.position();this.findOne(".top-left").y(x.y),this.findOne(".bottom-right").x(x.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(i.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(i.x());else if(this._movingAnchorName==="bottom-left"){if(y){const S=_?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};s=Math.sqrt(Math.pow(S.x-i.x(),2)+Math.pow(i.y()-S.y,2));const E=S.x<i.x()?-1:1,N=i.y()<S.y?-1:1;n=s*this.cos*E,r=s*this.sin*N,i.x(S.x-n),i.y(S.y+r)}x=i.position(),this.findOne(".top-left").x(x.x),this.findOne(".bottom-right").y(x.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(i.y());else if(this._movingAnchorName==="bottom-right"){if(y){const S=_?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};s=Math.sqrt(Math.pow(i.x()-S.x,2)+Math.pow(i.y()-S.y,2));const E=this.findOne(".bottom-right").x()<S.x?-1:1,N=this.findOne(".bottom-right").y()<S.y?-1:1;n=s*this.cos*E,r=s*this.sin*N,this.findOne(".bottom-right").x(S.x+n),this.findOne(".bottom-right").y(S.y+r)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(_=this.centeredScaling()||e.altKey,_){const S=this.findOne(".top-left"),E=this.findOne(".bottom-right"),N=S.x(),O=S.y(),T=this.getWidth()-E.x(),R=this.getHeight()-E.y();E.move({x:-N,y:-O}),S.move({x:T,y:R})}const b=this.findOne(".top-left").getAbsolutePosition();n=b.x,r=b.y;const C=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),k=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:r,width:C,height:k,rotation:se.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var n;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const r=this.getNode();tg--,this._fire("transformend",{evt:e,target:r}),(n=this.getLayer())===null||n===void 0||n.batchDraw(),r&&this._nodes.forEach(s=>{var i;s._fire("transformend",{evt:e,target:s}),(i=s.getLayer())===null||i===void 0||i.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,n){const r=this._getNodeRect(),s=1;if(M._inRange(e.width,-this.padding()*2-s,s)){this.update();return}if(M._inRange(e.height,-this.padding()*2-s,s)){this.update();return}const i=new Nn;if(i.rotate(se.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const y=i.point({x:-this.padding()*2,y:0});e.x+=y.x,e.y+=y.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=y.x,this._anchorDragOffset.y-=y.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const y=i.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=y.x,this._anchorDragOffset.y-=y.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const y=i.point({x:0,y:-this.padding()*2});e.x+=y.x,e.y+=y.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=y.x,this._anchorDragOffset.y-=y.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const y=i.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=y.x,this._anchorDragOffset.y-=y.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const y=this.boundBoxFunc()(r,e);y?e=y:M.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const o=1e7,u=new Nn;u.translate(r.x,r.y),u.rotate(r.rotation),u.scale(r.width/o,r.height/o);const c=new Nn,h=e.width/o,p=e.height/o;this.flipEnabled()===!1?(c.translate(e.x,e.y),c.rotate(e.rotation),c.translate(e.width<0?e.width:0,e.height<0?e.height:0),c.scale(Math.abs(h),Math.abs(p))):(c.translate(e.x,e.y),c.rotate(e.rotation),c.scale(h,p));const m=c.multiply(u.invert());this._nodes.forEach(y=>{var _;if(!y.getStage())return;const x=y.getParent().getAbsoluteTransform(),b=y.getTransform().copy();b.translate(y.offsetX(),y.offsetY());const C=new Nn;C.multiply(x.copy().invert()).multiply(m).multiply(x).multiply(b);const k=C.decompose();y.setAttrs(k),(_=y.getLayer())===null||_===void 0||_.batchDraw()}),this.rotation(M._getRotation(e.rotation)),this._nodes.forEach(y=>{this._fire("transform",{evt:n,target:y}),y._fire("transform",{evt:n,target:y})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,n){this.findOne(e).setAttrs(n)}update(){var e;const n=this._getNodeRect();this.rotation(M._getRotation(n.rotation));const r=n.width,s=n.height,i=this.enabledAnchors(),o=this.resizeEnabled(),u=this.padding(),c=this.anchorSize(),h=this.find("._anchor");h.forEach(m=>{m.setAttrs({width:c,height:c,offsetX:c/2,offsetY:c/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:c/2+u,offsetY:c/2+u,visible:o&&i.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:c/2+u,visible:o&&i.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:c/2-u,offsetY:c/2+u,visible:o&&i.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:s/2,offsetX:c/2+u,visible:o&&i.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:s/2,offsetX:c/2-u,visible:o&&i.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:s,offsetX:c/2+u,offsetY:c/2-u,visible:o&&i.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:s,offsetY:c/2-u,visible:o&&i.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:s,offsetX:c/2-u,offsetY:c/2-u,visible:o&&i.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*M._sign(s)-u,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:s,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),draggable:this.nodes().some(m=>m.draggable()),x:0,y:0});const p=this.anchorStyleFunc();p&&h.forEach(m=>{p(m)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Xo.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return Z.prototype.toObject.call(this)}clone(e){return Z.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};Ne.isTransforming=()=>tg>0;function qN(t){return t instanceof Array||M.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){Ad.indexOf(e)===-1&&M.warn("Unknown anchor name: "+e+". Available names are: "+Ad.join(", "))}),t||[]}Ne.prototype.className="Transformer";it(Ne);P.addGetterSetter(Ne,"enabledAnchors",Ad,qN);P.addGetterSetter(Ne,"flipEnabled",!0,gr());P.addGetterSetter(Ne,"resizeEnabled",!0);P.addGetterSetter(Ne,"anchorSize",10,ee());P.addGetterSetter(Ne,"rotateEnabled",!0);P.addGetterSetter(Ne,"rotateLineVisible",!0);P.addGetterSetter(Ne,"rotationSnaps",[]);P.addGetterSetter(Ne,"rotateAnchorOffset",50,ee());P.addGetterSetter(Ne,"rotateAnchorCursor","crosshair");P.addGetterSetter(Ne,"rotationSnapTolerance",5,ee());P.addGetterSetter(Ne,"borderEnabled",!0);P.addGetterSetter(Ne,"anchorStroke","rgb(0, 161, 255)");P.addGetterSetter(Ne,"anchorStrokeWidth",1,ee());P.addGetterSetter(Ne,"anchorFill","white");P.addGetterSetter(Ne,"anchorCornerRadius",0,ee());P.addGetterSetter(Ne,"borderStroke","rgb(0, 161, 255)");P.addGetterSetter(Ne,"borderStrokeWidth",1,ee());P.addGetterSetter(Ne,"borderDash");P.addGetterSetter(Ne,"keepRatio",!0);P.addGetterSetter(Ne,"shiftBehavior","default");P.addGetterSetter(Ne,"centeredScaling",!1);P.addGetterSetter(Ne,"ignoreStroke",!1);P.addGetterSetter(Ne,"padding",0,ee());P.addGetterSetter(Ne,"nodes");P.addGetterSetter(Ne,"node");P.addGetterSetter(Ne,"boundBoxFunc");P.addGetterSetter(Ne,"anchorDragBoundFunc");P.addGetterSetter(Ne,"anchorStyleFunc");P.addGetterSetter(Ne,"shouldOverdrawWholeArea",!1);P.addGetterSetter(Ne,"useSingleNodeRotation",!0);P.backCompat(Ne,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class ns extends K{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,se.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}ns.prototype.className="Wedge";ns.prototype._centroid=!0;ns.prototype._attrsAffectingSize=["radius"];it(ns);P.addGetterSetter(ns,"radius",0,ee());P.addGetterSetter(ns,"angle",0,ee());P.addGetterSetter(ns,"clockwise",!1);P.backCompat(ns,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function X2(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const KN=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],YN=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function XN(t,e){const n=t.data,r=t.width,s=t.height;let i,o,u,c,h,p,m,y,_,x,b,C,k,S,E,N,O,T,R,I;const U=e+e+1,$=r-1,Y=s-1,q=e+1,ne=q*(q+1)/2,ie=new X2,V=KN[e],H=YN[e];let ge=null,G=ie,re=null,oe=null;for(let X=1;X<U;X++)G=G.next=new X2,X===q&&(ge=G);G.next=ie,u=o=0;for(let X=0;X<s;X++){C=k=S=E=c=h=p=m=0,y=q*(N=n[o]),_=q*(O=n[o+1]),x=q*(T=n[o+2]),b=q*(R=n[o+3]),c+=ne*N,h+=ne*O,p+=ne*T,m+=ne*R,G=ie;for(let he=0;he<q;he++)G.r=N,G.g=O,G.b=T,G.a=R,G=G.next;for(let he=1;he<q;he++)i=o+(($<he?$:he)<<2),c+=(G.r=N=n[i])*(I=q-he),h+=(G.g=O=n[i+1])*I,p+=(G.b=T=n[i+2])*I,m+=(G.a=R=n[i+3])*I,C+=N,k+=O,S+=T,E+=R,G=G.next;re=ie,oe=ge;for(let he=0;he<r;he++)n[o+3]=R=m*V>>H,R!==0?(R=255/R,n[o]=(c*V>>H)*R,n[o+1]=(h*V>>H)*R,n[o+2]=(p*V>>H)*R):n[o]=n[o+1]=n[o+2]=0,c-=y,h-=_,p-=x,m-=b,y-=re.r,_-=re.g,x-=re.b,b-=re.a,i=u+((i=he+e+1)<$?i:$)<<2,C+=re.r=n[i],k+=re.g=n[i+1],S+=re.b=n[i+2],E+=re.a=n[i+3],c+=C,h+=k,p+=S,m+=E,re=re.next,y+=N=oe.r,_+=O=oe.g,x+=T=oe.b,b+=R=oe.a,C-=N,k-=O,S-=T,E-=R,oe=oe.next,o+=4;u+=r}for(let X=0;X<r;X++){k=S=E=C=h=p=m=c=0,o=X<<2,y=q*(N=n[o]),_=q*(O=n[o+1]),x=q*(T=n[o+2]),b=q*(R=n[o+3]),c+=ne*N,h+=ne*O,p+=ne*T,m+=ne*R,G=ie;for(let Me=0;Me<q;Me++)G.r=N,G.g=O,G.b=T,G.a=R,G=G.next;let he=r;for(let Me=1;Me<=e;Me++)o=he+X<<2,c+=(G.r=N=n[o])*(I=q-Me),h+=(G.g=O=n[o+1])*I,p+=(G.b=T=n[o+2])*I,m+=(G.a=R=n[o+3])*I,C+=N,k+=O,S+=T,E+=R,G=G.next,Me<Y&&(he+=r);o=X,re=ie,oe=ge;for(let Me=0;Me<s;Me++)i=o<<2,n[i+3]=R=m*V>>H,R>0?(R=255/R,n[i]=(c*V>>H)*R,n[i+1]=(h*V>>H)*R,n[i+2]=(p*V>>H)*R):n[i]=n[i+1]=n[i+2]=0,c-=y,h-=_,p-=x,m-=b,y-=re.r,_-=re.g,x-=re.b,b-=re.a,i=X+((i=Me+q)<Y?i:Y)*r<<2,c+=C+=re.r=n[i],h+=k+=re.g=n[i+1],p+=S+=re.b=n[i+2],m+=E+=re.a=n[i+3],re=re.next,y+=N=oe.r,_+=O=oe.g,x+=T=oe.b,b+=R=oe.a,C-=N,k-=O,S-=T,E-=R,oe=oe.next,o+=r}}const QN=function(e){const n=Math.round(this.blurRadius());n>0&&XN(e,n)};P.addGetterSetter(Z,"blurRadius",0,ee(),P.afterSetFilter);const JN=function(t){const e=this.brightness()*255,n=t.data,r=n.length;for(let s=0;s<r;s+=4)n[s]+=e,n[s+1]+=e,n[s+2]+=e};P.addGetterSetter(Z,"brightness",0,ee(),P.afterSetFilter);const ZN=function(t){const e=this.brightness(),n=t.data,r=n.length;for(let s=0;s<r;s+=4)n[s]=Math.min(255,n[s]*e),n[s+1]=Math.min(255,n[s+1]*e),n[s+2]=Math.min(255,n[s+2]*e)},eP=function(t){const e=Math.pow((this.contrast()+100)/100,2),n=t.data,r=n.length;let s=150,i=150,o=150;for(let u=0;u<r;u+=4)s=n[u],i=n[u+1],o=n[u+2],s/=255,s-=.5,s*=e,s+=.5,s*=255,i/=255,i-=.5,i*=e,i+=.5,i*=255,o/=255,o-=.5,o*=e,o+=.5,o*=255,s=s<0?0:s>255?255:s,i=i<0?0:i>255?255:i,o=o<0?0:o>255?255:o,n[u]=s,n[u+1]=i,n[u+2]=o};P.addGetterSetter(Z,"contrast",0,ee(),P.afterSetFilter);const tP=function(t){var e,n,r,s,i,o,u,c,h;const p=t.data,m=t.width,y=t.height,_=Math.min(1,Math.max(0,(n=(e=this.embossStrength)===null||e===void 0?void 0:e.call(this))!==null&&n!==void 0?n:.5)),x=Math.min(1,Math.max(0,(s=(r=this.embossWhiteLevel)===null||r===void 0?void 0:r.call(this))!==null&&s!==void 0?s:.5)),C=(u={"top-left":315,top:270,"top-right":225,right:180,"bottom-right":135,bottom:90,"bottom-left":45,left:0}[(o=(i=this.embossDirection)===null||i===void 0?void 0:i.call(this))!==null&&o!==void 0?o:"top-left"])!==null&&u!==void 0?u:315,k=!!((h=(c=this.embossBlend)===null||c===void 0?void 0:c.call(this))!==null&&h!==void 0&&h),S=_*10,E=x*255,N=C*Math.PI/180,O=Math.cos(N),T=Math.sin(N),R=128/1020*S,I=new Uint8ClampedArray(p),U=new Float32Array(m*y);for(let ie=0,V=0;V<p.length;V+=4,ie++)U[ie]=.2126*I[V]+.7152*I[V+1]+.0722*I[V+2];const $=[-1,0,1,-2,0,2,-1,0,1],Y=[-1,-2,-1,0,0,0,1,2,1],q=[-m-1,-m,-m+1,-1,0,1,m-1,m,m+1],ne=ie=>ie<0?0:ie>255?255:ie;for(let ie=1;ie<y-1;ie++)for(let V=1;V<m-1;V++){const H=ie*m+V;let ge=0,G=0;ge+=U[H+q[0]]*$[0],G+=U[H+q[0]]*Y[0],ge+=U[H+q[1]]*$[1],G+=U[H+q[1]]*Y[1],ge+=U[H+q[2]]*$[2],G+=U[H+q[2]]*Y[2],ge+=U[H+q[3]]*$[3],G+=U[H+q[3]]*Y[3],ge+=U[H+q[5]]*$[5],G+=U[H+q[5]]*Y[5],ge+=U[H+q[6]]*$[6],G+=U[H+q[6]]*Y[6],ge+=U[H+q[7]]*$[7],G+=U[H+q[7]]*Y[7],ge+=U[H+q[8]]*$[8],G+=U[H+q[8]]*Y[8];const re=O*ge+T*G,oe=ne(E+re*R),X=H*4;if(k){const he=oe-E;p[X]=ne(I[X]+he),p[X+1]=ne(I[X+1]+he),p[X+2]=ne(I[X+2]+he),p[X+3]=I[X+3]}else p[X]=p[X+1]=p[X+2]=oe,p[X+3]=I[X+3]}for(let ie=0;ie<m;ie++){let V=ie*4,H=((y-1)*m+ie)*4;p[V]=I[V],p[V+1]=I[V+1],p[V+2]=I[V+2],p[V+3]=I[V+3],p[H]=I[H],p[H+1]=I[H+1],p[H+2]=I[H+2],p[H+3]=I[H+3]}for(let ie=1;ie<y-1;ie++){let V=ie*m*4,H=(ie*m+(m-1))*4;p[V]=I[V],p[V+1]=I[V+1],p[V+2]=I[V+2],p[V+3]=I[V+3],p[H]=I[H],p[H+1]=I[H+1],p[H+2]=I[H+2],p[H+3]=I[H+3]}return t};P.addGetterSetter(Z,"embossStrength",.5,ee(),P.afterSetFilter);P.addGetterSetter(Z,"embossWhiteLevel",.5,ee(),P.afterSetFilter);P.addGetterSetter(Z,"embossDirection","top-left",void 0,P.afterSetFilter);P.addGetterSetter(Z,"embossBlend",!1,void 0,P.afterSetFilter);function Np(t,e,n,r,s){const i=n-e,o=s-r;if(i===0)return r+o/2;if(o===0)return r;let u=(t-e)/i;return u=o*u+r,u}const nP=function(t){const e=t.data,n=e.length;let r=e[0],s=r,i,o=e[1],u=o,c,h=e[2],p=h,m;const y=this.enhance();if(y===0)return;for(let E=0;E<n;E+=4)i=e[E+0],i<r?r=i:i>s&&(s=i),c=e[E+1],c<o?o=c:c>u&&(u=c),m=e[E+2],m<h?h=m:m>p&&(p=m);s===r&&(s=255,r=0),u===o&&(u=255,o=0),p===h&&(p=255,h=0);let _,x,b,C,k,S;if(y>0)_=s+y*(255-s),x=r-y*(r-0),b=u+y*(255-u),C=o-y*(o-0),k=p+y*(255-p),S=h-y*(h-0);else{const E=(s+r)*.5;_=s+y*(s-E),x=r+y*(r-E);const N=(u+o)*.5;b=u+y*(u-N),C=o+y*(o-N);const O=(p+h)*.5;k=p+y*(p-O),S=h+y*(h-O)}for(let E=0;E<n;E+=4)e[E+0]=Np(e[E+0],r,s,x,_),e[E+1]=Np(e[E+1],o,u,C,b),e[E+2]=Np(e[E+2],h,p,S,k)};P.addGetterSetter(Z,"enhance",0,ee(),P.afterSetFilter);const rP=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4){const s=.34*e[r]+.5*e[r+1]+.16*e[r+2];e[r]=s,e[r+1]=s,e[r+2]=s}};P.addGetterSetter(Z,"hue",0,ee(),P.afterSetFilter);P.addGetterSetter(Z,"saturation",0,ee(),P.afterSetFilter);P.addGetterSetter(Z,"luminance",0,ee(),P.afterSetFilter);const sP=function(t){const e=t.data,n=e.length,r=1,s=Math.pow(2,this.saturation()),i=Math.abs(this.hue()+360)%360,o=this.luminance()*127,u=r*s*Math.cos(i*Math.PI/180),c=r*s*Math.sin(i*Math.PI/180),h=.299*r+.701*u+.167*c,p=.587*r-.587*u+.33*c,m=.114*r-.114*u-.497*c,y=.299*r-.299*u-.328*c,_=.587*r+.413*u+.035*c,x=.114*r-.114*u+.293*c,b=.299*r-.3*u+1.25*c,C=.587*r-.586*u-1.05*c,k=.114*r+.886*u-.2*c;let S,E,N,O;for(let T=0;T<n;T+=4)S=e[T+0],E=e[T+1],N=e[T+2],O=e[T+3],e[T+0]=h*S+p*E+m*N+o,e[T+1]=y*S+_*E+x*N+o,e[T+2]=b*S+C*E+k*N+o,e[T+3]=O},iP=function(t){const e=t.data,n=e.length,r=Math.pow(2,this.value()),s=Math.pow(2,this.saturation()),i=Math.abs(this.hue()+360)%360,o=r*s*Math.cos(i*Math.PI/180),u=r*s*Math.sin(i*Math.PI/180),c=.299*r+.701*o+.167*u,h=.587*r-.587*o+.33*u,p=.114*r-.114*o-.497*u,m=.299*r-.299*o-.328*u,y=.587*r+.413*o+.035*u,_=.114*r-.114*o+.293*u,x=.299*r-.3*o+1.25*u,b=.587*r-.586*o-1.05*u,C=.114*r+.886*o-.2*u;for(let k=0;k<n;k+=4){const S=e[k+0],E=e[k+1],N=e[k+2],O=e[k+3];e[k+0]=c*S+h*E+p*N,e[k+1]=m*S+y*E+_*N,e[k+2]=x*S+b*E+C*N,e[k+3]=O}};P.addGetterSetter(Z,"hue",0,ee(),P.afterSetFilter);P.addGetterSetter(Z,"saturation",0,ee(),P.afterSetFilter);P.addGetterSetter(Z,"value",0,ee(),P.afterSetFilter);const oP=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4)e[r]=255-e[r],e[r+1]=255-e[r+1],e[r+2]=255-e[r+2]},aP=function(t,e,n){const r=t.data,s=e.data,i=t.width,o=t.height,u=n.polarCenterX||i/2,c=n.polarCenterY||o/2;let h=Math.sqrt(u*u+c*c),p=i-u,m=o-c;const y=Math.sqrt(p*p+m*m);h=y>h?y:h;const _=o,x=i,b=360/x*Math.PI/180;for(let C=0;C<x;C+=1){const k=Math.sin(C*b),S=Math.cos(C*b);for(let E=0;E<_;E+=1){p=Math.floor(u+h*E/_*S),m=Math.floor(c+h*E/_*k);let N=(m*i+p)*4;const O=r[N+0],T=r[N+1],R=r[N+2],I=r[N+3];N=(C+E*i)*4,s[N+0]=O,s[N+1]=T,s[N+2]=R,s[N+3]=I}}},lP=function(t,e,n){const r=t.data,s=e.data,i=t.width,o=t.height,u=n.polarCenterX||i/2,c=n.polarCenterY||o/2;let h=Math.sqrt(u*u+c*c),p=i-u,m=o-c;const y=Math.sqrt(p*p+m*m);h=y>h?y:h;const _=o,x=i,b=0;let C,k;for(p=0;p<i;p+=1)for(m=0;m<o;m+=1){const S=p-u,E=m-c,N=Math.sqrt(S*S+E*E)*_/h;let O=(Math.atan2(E,S)*180/Math.PI+360+b)%360;O=O*x/360,C=Math.floor(O),k=Math.floor(N);let T=(k*i+C)*4;const R=r[T+0],I=r[T+1],U=r[T+2],$=r[T+3];T=(m*i+p)*4,s[T+0]=R,s[T+1]=I,s[T+2]=U,s[T+3]=$}},uP=function(t){const e=t.width,n=t.height;let r,s,i,o,u,c,h,p,m,y,_=Math.round(this.kaleidoscopePower());const x=Math.round(this.kaleidoscopeAngle()),b=Math.floor(e*(x%360)/360);if(_<1)return;const C=M.createCanvasElement();C.width=e,C.height=n;const k=C.getContext("2d").getImageData(0,0,e,n);M.releaseCanvas(C),aP(t,k,{polarCenterX:e/2,polarCenterY:n/2});let S=e/Math.pow(2,_);for(;S<=8;)S=S*2,_-=1;S=Math.ceil(S);let E=S,N=0,O=E,T=1;for(b+S>e&&(N=E,O=0,T=-1),s=0;s<n;s+=1)for(r=N;r!==O;r+=T)i=Math.round(r+b)%e,m=(e*s+i)*4,u=k.data[m+0],c=k.data[m+1],h=k.data[m+2],p=k.data[m+3],y=(e*s+r)*4,k.data[y+0]=u,k.data[y+1]=c,k.data[y+2]=h,k.data[y+3]=p;for(s=0;s<n;s+=1)for(E=Math.floor(S),o=0;o<_;o+=1){for(r=0;r<E+1;r+=1)m=(e*s+r)*4,u=k.data[m+0],c=k.data[m+1],h=k.data[m+2],p=k.data[m+3],y=(e*s+E*2-r-1)*4,k.data[y+0]=u,k.data[y+1]=c,k.data[y+2]=h,k.data[y+3]=p;E*=2}lP(k,t,{})};P.addGetterSetter(Z,"kaleidoscopePower",2,ee(),P.afterSetFilter);P.addGetterSetter(Z,"kaleidoscopeAngle",0,ee(),P.afterSetFilter);function Ac(t,e,n){let r=(n*t.width+e)*4;const s=[];return s.push(t.data[r++],t.data[r++],t.data[r++],t.data[r++]),s}function Ha(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function cP(t){const e=[0,0,0];for(let n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function dP(t,e){const n=Ac(t,0,0),r=Ac(t,t.width-1,0),s=Ac(t,0,t.height-1),i=Ac(t,t.width-1,t.height-1),o=e||10;if(Ha(n,r)<o&&Ha(r,i)<o&&Ha(i,s)<o&&Ha(s,n)<o){const u=cP([r,n,i,s]),c=[];for(let h=0;h<t.width*t.height;h++){const p=Ha(u,[t.data[h*4],t.data[h*4+1],t.data[h*4+2]]);c[h]=p<o?0:255}return c}}function hP(t,e){for(let n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function fP(t,e,n){const r=[1,1,1,1,0,1,1,1,1],s=Math.round(Math.sqrt(r.length)),i=Math.floor(s/2),o=[];for(let u=0;u<n;u++)for(let c=0;c<e;c++){const h=u*e+c;let p=0;for(let m=0;m<s;m++)for(let y=0;y<s;y++){const _=u+m-i,x=c+y-i;if(_>=0&&_<n&&x>=0&&x<e){const b=_*e+x,C=r[m*s+y];p+=t[b]*C}}o[h]=p===255*8?255:0}return o}function pP(t,e,n){const r=[1,1,1,1,1,1,1,1,1],s=Math.round(Math.sqrt(r.length)),i=Math.floor(s/2),o=[];for(let u=0;u<n;u++)for(let c=0;c<e;c++){const h=u*e+c;let p=0;for(let m=0;m<s;m++)for(let y=0;y<s;y++){const _=u+m-i,x=c+y-i;if(_>=0&&_<n&&x>=0&&x<e){const b=_*e+x,C=r[m*s+y];p+=t[b]*C}}o[h]=p>=255*4?255:0}return o}function gP(t,e,n){const r=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],s=Math.round(Math.sqrt(r.length)),i=Math.floor(s/2),o=[];for(let u=0;u<n;u++)for(let c=0;c<e;c++){const h=u*e+c;let p=0;for(let m=0;m<s;m++)for(let y=0;y<s;y++){const _=u+m-i,x=c+y-i;if(_>=0&&_<n&&x>=0&&x<e){const b=_*e+x,C=r[m*s+y];p+=t[b]*C}}o[h]=p}return o}const mP=function(t){const e=this.threshold();let n=dP(t,e);return n&&(n=fP(n,t.width,t.height),n=pP(n,t.width,t.height),n=gP(n,t.width,t.height),hP(t,n)),t};P.addGetterSetter(Z,"threshold",0,ee(),P.afterSetFilter);const yP=function(t){const e=this.noise()*255,n=t.data,r=n.length,s=e/2;for(let i=0;i<r;i+=4)n[i+0]+=s-2*s*Math.random(),n[i+1]+=s-2*s*Math.random(),n[i+2]+=s-2*s*Math.random()};P.addGetterSetter(Z,"noise",.2,ee(),P.afterSetFilter);const vP=function(t){let e=Math.ceil(this.pixelSize()),n=t.width,r=t.height,s=Math.ceil(n/e),i=Math.ceil(r/e),o=t.data;if(e<=0){M.error("pixelSize value can not be <= 0");return}for(let u=0;u<s;u+=1)for(let c=0;c<i;c+=1){let h=0,p=0,m=0,y=0;const _=u*e,x=_+e,b=c*e,C=b+e;let k=0;for(let S=_;S<x;S+=1)if(!(S>=n))for(let E=b;E<C;E+=1){if(E>=r)continue;const N=(n*E+S)*4;h+=o[N+0],p+=o[N+1],m+=o[N+2],y+=o[N+3],k+=1}h=h/k,p=p/k,m=m/k,y=y/k;for(let S=_;S<x;S+=1)if(!(S>=n))for(let E=b;E<C;E+=1){if(E>=r)continue;const N=(n*E+S)*4;o[N+0]=h,o[N+1]=p,o[N+2]=m,o[N+3]=y}}};P.addGetterSetter(Z,"pixelSize",8,ee(),P.afterSetFilter);const xP=function(t){const e=Math.round(this.levels()*254)+1,n=t.data,r=n.length,s=255/e;for(let i=0;i<r;i+=1)n[i]=Math.floor(n[i]/s)*s};P.addGetterSetter(Z,"levels",.5,ee(),P.afterSetFilter);const wP=function(t){const e=t.data,n=e.length,r=this.red(),s=this.green(),i=this.blue();for(let o=0;o<n;o+=4){const u=(.34*e[o]+.5*e[o+1]+.16*e[o+2])/255;e[o]=u*r,e[o+1]=u*s,e[o+2]=u*i,e[o+3]=e[o+3]}};P.addGetterSetter(Z,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});P.addGetterSetter(Z,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});P.addGetterSetter(Z,"blue",0,p_,P.afterSetFilter);const _P=function(t){const e=t.data,n=e.length,r=this.red(),s=this.green(),i=this.blue(),o=this.alpha();for(let u=0;u<n;u+=4){const c=1-o;e[u]=r*o+e[u]*c,e[u+1]=s*o+e[u+1]*c,e[u+2]=i*o+e[u+2]*c}};P.addGetterSetter(Z,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});P.addGetterSetter(Z,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});P.addGetterSetter(Z,"blue",0,p_,P.afterSetFilter);P.addGetterSetter(Z,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});const SP=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4){const s=e[r+0],i=e[r+1],o=e[r+2];e[r+0]=Math.min(255,s*.393+i*.769+o*.189),e[r+1]=Math.min(255,s*.349+i*.686+o*.168),e[r+2]=Math.min(255,s*.272+i*.534+o*.131)}},bP=function(t){const n=t.data;for(let r=0;r<n.length;r+=4){const s=n[r],i=n[r+1],o=n[r+2];.2126*s+.7152*i+.0722*o>=128&&(n[r]=255-s,n[r+1]=255-i,n[r+2]=255-o)}return t},kP=function(t){const e=this.threshold()*255,n=t.data,r=n.length;for(let s=0;s<r;s+=1)n[s]=n[s]<e?0:255};P.addGetterSetter(Z,"threshold",.5,ee(),P.afterSetFilter);Ti.Util._assign(Ti,{Arc:es,Arrow:Di,Circle:ua,Ellipse:Hs,Image:Tr,Label:wm,Tag:Fi,Line:ts,Path:Ge,Rect:ru,RegularPolygon:Vs,Ring:zi,Sprite:Rr,Star:qs,Text:Ke,TextPath:bt,Transformer:Ne,Wedge:ns,Filters:{Blur:QN,Brightness:ZN,Brighten:JN,Contrast:eP,Emboss:tP,Enhance:nP,Grayscale:rP,HSL:sP,HSV:iP,Invert:oP,Kaleidoscope:uP,Mask:mP,Noise:yP,Pixelate:vP,Posterize:xP,RGB:wP,RGBA:_P,Sepia:SP,Solarize:bP,Threshold:kP}});var V_={exports:{}};/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EP=function(e){var n={},r=A,s=ol,i=Object.assign;function o(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c=Symbol.for("react.element"),h=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),x=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),N=Symbol.for("react.offscreen"),O=Symbol.iterator;function T(a){return a===null||typeof a!="object"?null:(a=O&&a[O]||a["@@iterator"],typeof a=="function"?a:null)}function R(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case p:return"Fragment";case h:return"Portal";case y:return"Profiler";case m:return"StrictMode";case C:return"Suspense";case k:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case x:return(a.displayName||"Context")+".Consumer";case _:return(a._context.displayName||"Context")+".Provider";case b:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case S:return l=a.displayName||null,l!==null?l:R(a.type)||"Memo";case E:l=a._payload,a=a._init;try{return R(a(l))}catch{}}return null}function I(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=l.render,a=a.displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(l);case 8:return l===m?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function U(a){var l=a,d=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,l.flags&4098&&(d=l.return),a=l.return;while(a)}return l.tag===3?d:null}function $(a){if(U(a)!==a)throw Error(o(188))}function Y(a){var l=a.alternate;if(!l){if(l=U(a),l===null)throw Error(o(188));return l!==a?null:a}for(var d=a,g=l;;){var v=d.return;if(v===null)break;var w=v.alternate;if(w===null){if(g=v.return,g!==null){d=g;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===d)return $(v),a;if(w===g)return $(v),l;w=w.sibling}throw Error(o(188))}if(d.return!==g.return)d=v,g=w;else{for(var j=!1,L=v.child;L;){if(L===d){j=!0,d=v,g=w;break}if(L===g){j=!0,g=v,d=w;break}L=L.sibling}if(!j){for(L=w.child;L;){if(L===d){j=!0,d=w,g=v;break}if(L===g){j=!0,g=w,d=v;break}L=L.sibling}if(!j)throw Error(o(189))}}if(d.alternate!==g)throw Error(o(190))}if(d.tag!==3)throw Error(o(188));return d.stateNode.current===d?a:l}function q(a){return a=Y(a),a!==null?ne(a):null}function ne(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=ne(a);if(l!==null)return l;a=a.sibling}return null}function ie(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){if(a.tag!==4){var l=ie(a);if(l!==null)return l}a=a.sibling}return null}var V=Array.isArray,H=e.getPublicInstance,ge=e.getRootHostContext,G=e.getChildHostContext,re=e.prepareForCommit,oe=e.resetAfterCommit,X=e.createInstance,he=e.appendInitialChild,Me=e.finalizeInitialChildren,yt=e.prepareUpdate,qt=e.shouldSetTextContent,Zt=e.createTextInstance,en=e.scheduleTimeout,Bi=e.cancelTimeout,xn=e.noTimeout,Qn=e.isPrimaryRenderer,Tt=e.supportsMutation,rs=e.supportsPersistence,tn=e.supportsHydration,dh=e.getInstanceFromNode,hh=e.preparePortalMount,fh=e.getCurrentEventPriority,ca=e.detachDeletedInstance,ph=e.supportsMicrotasks,gh=e.scheduleMicrotask,Ys=e.supportsTestSelectors,mh=e.findFiberRoot,yh=e.getBoundingRect,da=e.getTextContent,Xs=e.isHiddenSubtree,ha=e.matchAccessibilityRole,Gi=e.setFocusIfFocusable,fa=e.setupIntersectionObserver,Wi=e.appendChild,pa=e.appendChildToContainer,$i=e.commitTextUpdate,te=e.commitMount,ue=e.commitUpdate,ve=e.insertBefore,Ce=e.insertInContainerBefore,dt=e.removeChild,wn=e.removeChildFromContainer,nn=e.resetTextContent,Hi=e.hideInstance,bm=e.hideTextInstance,g5=e.unhideInstance,m5=e.unhideTextInstance,y5=e.clearContainer,v5=e.cloneInstance,km=e.createContainerChildSet,Em=e.appendChildToContainerChildSet,x5=e.finalizeContainerChildren,vh=e.replaceContainerChildren,Cm=e.cloneHiddenInstance,jm=e.cloneHiddenTextInstance,w5=e.canHydrateInstance,_5=e.canHydrateTextInstance,S5=e.canHydrateSuspenseInstance,Nm=e.isSuspenseInstancePending,xh=e.isSuspenseInstanceFallback,b5=e.getSuspenseInstanceFallbackErrorDetails,k5=e.registerSuspenseInstanceRetry,su=e.getNextHydratableSibling,E5=e.getFirstHydratableChild,C5=e.getFirstHydratableChildWithinContainer,j5=e.getFirstHydratableChildWithinSuspenseInstance,N5=e.hydrateInstance,P5=e.hydrateTextInstance,T5=e.hydrateSuspenseInstance,R5=e.getNextHydratableInstanceAfterSuspenseInstance,O5=e.commitHydratedContainer,A5=e.commitHydratedSuspenseInstance,I5=e.clearSuspenseBoundary,L5=e.clearSuspenseBoundaryFromContainer,M5=e.shouldDeleteUnhydratedTailInstances,D5=e.didNotMatchHydratedContainerTextInstance,F5=e.didNotMatchHydratedTextInstance,wh;function ga(a){if(wh===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);wh=l&&l[1]||""}return`
`+wh+a}var _h=!1;function Sh(a,l){if(!a||_h)return"";_h=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(J){var g=J}Reflect.construct(a,[],l)}else{try{l.call()}catch(J){g=J}a.call(l.prototype)}else{try{throw Error()}catch(J){g=J}a()}}catch(J){if(J&&g&&typeof J.stack=="string"){for(var v=J.stack.split(`
`),w=g.stack.split(`
`),j=v.length-1,L=w.length-1;1<=j&&0<=L&&v[j]!==w[L];)L--;for(;1<=j&&0<=L;j--,L--)if(v[j]!==w[L]){if(j!==1||L!==1)do if(j--,L--,0>L||v[j]!==w[L]){var B=`
`+v[j].replace(" at new "," at ");return a.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",a.displayName)),B}while(1<=j&&0<=L);break}}}finally{_h=!1,Error.prepareStackTrace=d}return(a=a?a.displayName||a.name:"")?ga(a):""}var z5=Object.prototype.hasOwnProperty,bh=[],Vi=-1;function ss(a){return{current:a}}function $e(a){0>Vi||(a.current=bh[Vi],bh[Vi]=null,Vi--)}function ze(a,l){Vi++,bh[Vi]=a.current,a.current=l}var is={},Mt=ss(is),rn=ss(!1),Qs=is;function qi(a,l){var d=a.type.contextTypes;if(!d)return is;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var v={},w;for(w in d)v[w]=l[w];return g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=v),v}function sn(a){return a=a.childContextTypes,a!=null}function iu(){$e(rn),$e(Mt)}function Pm(a,l,d){if(Mt.current!==is)throw Error(o(168));ze(Mt,l),ze(rn,d)}function Tm(a,l,d){var g=a.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return d;g=g.getChildContext();for(var v in g)if(!(v in l))throw Error(o(108,I(a)||"Unknown",v));return i({},d,g)}function ou(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||is,Qs=Mt.current,ze(Mt,a),ze(rn,rn.current),!0}function Rm(a,l,d){var g=a.stateNode;if(!g)throw Error(o(169));d?(a=Tm(a,l,Qs),g.__reactInternalMemoizedMergedChildContext=a,$e(rn),$e(Mt),ze(Mt,a)):$e(rn),ze(rn,d)}var Jn=Math.clz32?Math.clz32:G5,U5=Math.log,B5=Math.LN2;function G5(a){return a>>>=0,a===0?32:31-(U5(a)/B5|0)|0}var au=64,lu=4194304;function ma(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function uu(a,l){var d=a.pendingLanes;if(d===0)return 0;var g=0,v=a.suspendedLanes,w=a.pingedLanes,j=d&268435455;if(j!==0){var L=j&~v;L!==0?g=ma(L):(w&=j,w!==0&&(g=ma(w)))}else j=d&~v,j!==0?g=ma(j):w!==0&&(g=ma(w));if(g===0)return 0;if(l!==0&&l!==g&&!(l&v)&&(v=g&-g,w=l&-l,v>=w||v===16&&(w&4194240)!==0))return l;if(g&4&&(g|=d&16),l=a.entangledLanes,l!==0)for(a=a.entanglements,l&=g;0<l;)d=31-Jn(l),v=1<<d,g|=a[d],l&=~v;return g}function W5(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $5(a,l){for(var d=a.suspendedLanes,g=a.pingedLanes,v=a.expirationTimes,w=a.pendingLanes;0<w;){var j=31-Jn(w),L=1<<j,B=v[j];B===-1?(!(L&d)||L&g)&&(v[j]=W5(L,l)):B<=l&&(a.expiredLanes|=L),w&=~L}}function kh(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Om(){var a=au;return au<<=1,!(au&4194240)&&(au=64),a}function Eh(a){for(var l=[],d=0;31>d;d++)l.push(a);return l}function ya(a,l,d){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,l=31-Jn(l),a[l]=d}function H5(a,l){var d=a.pendingLanes&~l;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=l,a.mutableReadLanes&=l,a.entangledLanes&=l,l=a.entanglements;var g=a.eventTimes;for(a=a.expirationTimes;0<d;){var v=31-Jn(d),w=1<<v;l[v]=0,g[v]=-1,a[v]=-1,d&=~w}}function Ch(a,l){var d=a.entangledLanes|=l;for(a=a.entanglements;d;){var g=31-Jn(d),v=1<<g;v&l|a[g]&l&&(a[g]|=l),d&=~v}}var Re=0;function Am(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var jh=s.unstable_scheduleCallback,Im=s.unstable_cancelCallback,V5=s.unstable_shouldYield,q5=s.unstable_requestPaint,kt=s.unstable_now,Nh=s.unstable_ImmediatePriority,K5=s.unstable_UserBlockingPriority,Ph=s.unstable_NormalPriority,Y5=s.unstable_IdlePriority,cu=null,mr=null;function X5(a){if(mr&&typeof mr.onCommitFiberRoot=="function")try{mr.onCommitFiberRoot(cu,a,void 0,(a.current.flags&128)===128)}catch{}}function Q5(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Zn=typeof Object.is=="function"?Object.is:Q5,Or=null,du=!1,Th=!1;function Lm(a){Or===null?Or=[a]:Or.push(a)}function J5(a){du=!0,Lm(a)}function yr(){if(!Th&&Or!==null){Th=!0;var a=0,l=Re;try{var d=Or;for(Re=1;a<d.length;a++){var g=d[a];do g=g(!0);while(g!==null)}Or=null,du=!1}catch(v){throw Or!==null&&(Or=Or.slice(a+1)),jh(Nh,yr),v}finally{Re=l,Th=!1}}return null}var Ki=[],Yi=0,hu=null,fu=0,Mn=[],Dn=0,Js=null,Ar=1,Ir="";function Zs(a,l){Ki[Yi++]=fu,Ki[Yi++]=hu,hu=a,fu=l}function Mm(a,l,d){Mn[Dn++]=Ar,Mn[Dn++]=Ir,Mn[Dn++]=Js,Js=a;var g=Ar;a=Ir;var v=32-Jn(g)-1;g&=~(1<<v),d+=1;var w=32-Jn(l)+v;if(30<w){var j=v-v%5;w=(g&(1<<j)-1).toString(32),g>>=j,v-=j,Ar=1<<32-Jn(l)+v|d<<v|g,Ir=w+a}else Ar=1<<w|d<<v|g,Ir=a}function Rh(a){a.return!==null&&(Zs(a,1),Mm(a,1,0))}function Oh(a){for(;a===hu;)hu=Ki[--Yi],Ki[Yi]=null,fu=Ki[--Yi],Ki[Yi]=null;for(;a===Js;)Js=Mn[--Dn],Mn[Dn]=null,Ir=Mn[--Dn],Mn[Dn]=null,Ar=Mn[--Dn],Mn[Dn]=null}var _n=null,Fn=null,Ye=!1,va=!1,er=null;function Dm(a,l){var d=Wn(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=a,l=a.deletions,l===null?(a.deletions=[d],a.flags|=16):l.push(d)}function Fm(a,l){switch(a.tag){case 5:return l=w5(l,a.type,a.pendingProps),l!==null?(a.stateNode=l,_n=a,Fn=E5(l),!0):!1;case 6:return l=_5(l,a.pendingProps),l!==null?(a.stateNode=l,_n=a,Fn=null,!0):!1;case 13:if(l=S5(l),l!==null){var d=Js!==null?{id:Ar,overflow:Ir}:null;return a.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=Wn(18,null,null,0),d.stateNode=l,d.return=a,a.child=d,_n=a,Fn=null,!0}return!1;default:return!1}}function Ah(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Ih(a){if(Ye){var l=Fn;if(l){var d=l;if(!Fm(a,l)){if(Ah(a))throw Error(o(418));l=su(d);var g=_n;l&&Fm(a,l)?Dm(g,d):(a.flags=a.flags&-4097|2,Ye=!1,_n=a)}}else{if(Ah(a))throw Error(o(418));a.flags=a.flags&-4097|2,Ye=!1,_n=a}}}function zm(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;_n=a}function pu(a){if(!tn||a!==_n)return!1;if(!Ye)return zm(a),Ye=!0,!1;if(a.tag!==3&&(a.tag!==5||M5(a.type)&&!qt(a.type,a.memoizedProps))){var l=Fn;if(l){if(Ah(a))throw Um(),Error(o(418));for(;l;)Dm(a,l),l=su(l)}}if(zm(a),a.tag===13){if(!tn)throw Error(o(316));if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(o(317));Fn=R5(a)}else Fn=_n?su(a.stateNode):null;return!0}function Um(){for(var a=Fn;a;)a=su(a)}function Xi(){tn&&(Fn=_n=null,va=Ye=!1)}function Lh(a){er===null?er=[a]:er.push(a)}var Z5=u.ReactCurrentBatchConfig;function gu(a,l){if(Zn(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var d=Object.keys(a),g=Object.keys(l);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var v=d[g];if(!z5.call(l,v)||!Zn(a[v],l[v]))return!1}return!0}function e6(a){switch(a.tag){case 5:return ga(a.type);case 16:return ga("Lazy");case 13:return ga("Suspense");case 19:return ga("SuspenseList");case 0:case 2:case 15:return a=Sh(a.type,!1),a;case 11:return a=Sh(a.type.render,!1),a;case 1:return a=Sh(a.type,!0),a;default:return""}}function xa(a,l,d){if(a=d.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(o(309));var g=d.stateNode}if(!g)throw Error(o(147,a));var v=g,w=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===w?l.ref:(l=function(j){var L=v.refs;j===null?delete L[w]:L[w]=j},l._stringRef=w,l)}if(typeof a!="string")throw Error(o(284));if(!d._owner)throw Error(o(290,a))}return a}function mu(a,l){throw a=Object.prototype.toString.call(l),Error(o(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function Bm(a){var l=a._init;return l(a._payload)}function Gm(a){function l(F,D){if(a){var W=F.deletions;W===null?(F.deletions=[D],F.flags|=16):W.push(D)}}function d(F,D){if(!a)return null;for(;D!==null;)l(F,D),D=D.sibling;return null}function g(F,D){for(F=new Map;D!==null;)D.key!==null?F.set(D.key,D):F.set(D.index,D),D=D.sibling;return F}function v(F,D){return F=hs(F,D),F.index=0,F.sibling=null,F}function w(F,D,W){return F.index=W,a?(W=F.alternate,W!==null?(W=W.index,W<D?(F.flags|=2,D):W):(F.flags|=2,D)):(F.flags|=1048576,D)}function j(F){return a&&F.alternate===null&&(F.flags|=2),F}function L(F,D,W,le){return D===null||D.tag!==6?(D=Rf(W,F.mode,le),D.return=F,D):(D=v(D,W),D.return=F,D)}function B(F,D,W,le){var me=W.type;return me===p?fe(F,D,W.props.children,le,W.key):D!==null&&(D.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===E&&Bm(me)===D.type)?(le=v(D,W.props),le.ref=xa(F,D,W),le.return=F,le):(le=qu(W.type,W.key,W.props,null,F.mode,le),le.ref=xa(F,D,W),le.return=F,le)}function J(F,D,W,le){return D===null||D.tag!==4||D.stateNode.containerInfo!==W.containerInfo||D.stateNode.implementation!==W.implementation?(D=Of(W,F.mode,le),D.return=F,D):(D=v(D,W.children||[]),D.return=F,D)}function fe(F,D,W,le,me){return D===null||D.tag!==7?(D=oi(W,F.mode,le,me),D.return=F,D):(D=v(D,W),D.return=F,D)}function _e(F,D,W){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Rf(""+D,F.mode,W),D.return=F,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case c:return W=qu(D.type,D.key,D.props,null,F.mode,W),W.ref=xa(F,null,D),W.return=F,W;case h:return D=Of(D,F.mode,W),D.return=F,D;case E:var le=D._init;return _e(F,le(D._payload),W)}if(V(D)||T(D))return D=oi(D,F.mode,W,null),D.return=F,D;mu(F,D)}return null}function ae(F,D,W,le){var me=D!==null?D.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return me!==null?null:L(F,D,""+W,le);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case c:return W.key===me?B(F,D,W,le):null;case h:return W.key===me?J(F,D,W,le):null;case E:return me=W._init,ae(F,D,me(W._payload),le)}if(V(W)||T(W))return me!==null?null:fe(F,D,W,le,null);mu(F,W)}return null}function He(F,D,W,le,me){if(typeof le=="string"&&le!==""||typeof le=="number")return F=F.get(W)||null,L(D,F,""+le,me);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case c:return F=F.get(le.key===null?W:le.key)||null,B(D,F,le,me);case h:return F=F.get(le.key===null?W:le.key)||null,J(D,F,le,me);case E:var ke=le._init;return He(F,D,W,ke(le._payload),me)}if(V(le)||T(le))return F=F.get(W)||null,fe(D,F,le,me,null);mu(D,le)}return null}function De(F,D,W,le){for(var me=null,ke=null,Se=D,Oe=D=0,jt=null;Se!==null&&Oe<W.length;Oe++){Se.index>Oe?(jt=Se,Se=null):jt=Se.sibling;var Ae=ae(F,Se,W[Oe],le);if(Ae===null){Se===null&&(Se=jt);break}a&&Se&&Ae.alternate===null&&l(F,Se),D=w(Ae,D,Oe),ke===null?me=Ae:ke.sibling=Ae,ke=Ae,Se=jt}if(Oe===W.length)return d(F,Se),Ye&&Zs(F,Oe),me;if(Se===null){for(;Oe<W.length;Oe++)Se=_e(F,W[Oe],le),Se!==null&&(D=w(Se,D,Oe),ke===null?me=Se:ke.sibling=Se,ke=Se);return Ye&&Zs(F,Oe),me}for(Se=g(F,Se);Oe<W.length;Oe++)jt=He(Se,F,Oe,W[Oe],le),jt!==null&&(a&&jt.alternate!==null&&Se.delete(jt.key===null?Oe:jt.key),D=w(jt,D,Oe),ke===null?me=jt:ke.sibling=jt,ke=jt);return a&&Se.forEach(function(fs){return l(F,fs)}),Ye&&Zs(F,Oe),me}function un(F,D,W,le){var me=T(W);if(typeof me!="function")throw Error(o(150));if(W=me.call(W),W==null)throw Error(o(151));for(var ke=me=null,Se=D,Oe=D=0,jt=null,Ae=W.next();Se!==null&&!Ae.done;Oe++,Ae=W.next()){Se.index>Oe?(jt=Se,Se=null):jt=Se.sibling;var fs=ae(F,Se,Ae.value,le);if(fs===null){Se===null&&(Se=jt);break}a&&Se&&fs.alternate===null&&l(F,Se),D=w(fs,D,Oe),ke===null?me=fs:ke.sibling=fs,ke=fs,Se=jt}if(Ae.done)return d(F,Se),Ye&&Zs(F,Oe),me;if(Se===null){for(;!Ae.done;Oe++,Ae=W.next())Ae=_e(F,Ae.value,le),Ae!==null&&(D=w(Ae,D,Oe),ke===null?me=Ae:ke.sibling=Ae,ke=Ae);return Ye&&Zs(F,Oe),me}for(Se=g(F,Se);!Ae.done;Oe++,Ae=W.next())Ae=He(Se,F,Oe,Ae.value,le),Ae!==null&&(a&&Ae.alternate!==null&&Se.delete(Ae.key===null?Oe:Ae.key),D=w(Ae,D,Oe),ke===null?me=Ae:ke.sibling=Ae,ke=Ae);return a&&Se.forEach(function(T6){return l(F,T6)}),Ye&&Zs(F,Oe),me}function Fr(F,D,W,le){if(typeof W=="object"&&W!==null&&W.type===p&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case c:e:{for(var me=W.key,ke=D;ke!==null;){if(ke.key===me){if(me=W.type,me===p){if(ke.tag===7){d(F,ke.sibling),D=v(ke,W.props.children),D.return=F,F=D;break e}}else if(ke.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===E&&Bm(me)===ke.type){d(F,ke.sibling),D=v(ke,W.props),D.ref=xa(F,ke,W),D.return=F,F=D;break e}d(F,ke);break}else l(F,ke);ke=ke.sibling}W.type===p?(D=oi(W.props.children,F.mode,le,W.key),D.return=F,F=D):(le=qu(W.type,W.key,W.props,null,F.mode,le),le.ref=xa(F,D,W),le.return=F,F=le)}return j(F);case h:e:{for(ke=W.key;D!==null;){if(D.key===ke)if(D.tag===4&&D.stateNode.containerInfo===W.containerInfo&&D.stateNode.implementation===W.implementation){d(F,D.sibling),D=v(D,W.children||[]),D.return=F,F=D;break e}else{d(F,D);break}else l(F,D);D=D.sibling}D=Of(W,F.mode,le),D.return=F,F=D}return j(F);case E:return ke=W._init,Fr(F,D,ke(W._payload),le)}if(V(W))return De(F,D,W,le);if(T(W))return un(F,D,W,le);mu(F,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,D!==null&&D.tag===6?(d(F,D.sibling),D=v(D,W),D.return=F,F=D):(d(F,D),D=Rf(W,F.mode,le),D.return=F,F=D),j(F)):d(F,D)}return Fr}var Qi=Gm(!0),Wm=Gm(!1),yu=ss(null),vu=null,Ji=null,Mh=null;function Dh(){Mh=Ji=vu=null}function $m(a,l,d){Qn?(ze(yu,l._currentValue),l._currentValue=d):(ze(yu,l._currentValue2),l._currentValue2=d)}function Fh(a){var l=yu.current;$e(yu),Qn?a._currentValue=l:a._currentValue2=l}function zh(a,l,d){for(;a!==null;){var g=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),a===d)break;a=a.return}}function Zi(a,l){vu=a,Mh=Ji=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&l&&(on=!0),a.firstContext=null)}function zn(a){var l=Qn?a._currentValue:a._currentValue2;if(Mh!==a)if(a={context:a,memoizedValue:l,next:null},Ji===null){if(vu===null)throw Error(o(308));Ji=a,vu.dependencies={lanes:0,firstContext:a}}else Ji=Ji.next=a;return l}var ei=null;function Uh(a){ei===null?ei=[a]:ei.push(a)}function Hm(a,l,d,g){var v=l.interleaved;return v===null?(d.next=d,Uh(l)):(d.next=v.next,v.next=d),l.interleaved=d,vr(a,g)}function vr(a,l){a.lanes|=l;var d=a.alternate;for(d!==null&&(d.lanes|=l),d=a,a=a.return;a!==null;)a.childLanes|=l,d=a.alternate,d!==null&&(d.childLanes|=l),d=a,a=a.return;return d.tag===3?d.stateNode:null}var os=!1;function Bh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vm(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Lr(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function as(a,l,d){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,Ee&2){var v=g.pending;return v===null?l.next=l:(l.next=v.next,v.next=l),g.pending=l,vr(a,d)}return v=g.interleaved,v===null?(l.next=l,Uh(g)):(l.next=v.next,v.next=l),g.interleaved=l,vr(a,d)}function xu(a,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var g=l.lanes;g&=a.pendingLanes,d|=g,l.lanes=d,Ch(a,d)}}function qm(a,l){var d=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var v=null,w=null;if(d=d.firstBaseUpdate,d!==null){do{var j={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};w===null?v=w=j:w=w.next=j,d=d.next}while(d!==null);w===null?v=w=l:w=w.next=l}else v=w=l;d={baseState:g.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:g.shared,effects:g.effects},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=l}function wu(a,l,d,g){var v=a.updateQueue;os=!1;var w=v.firstBaseUpdate,j=v.lastBaseUpdate,L=v.shared.pending;if(L!==null){v.shared.pending=null;var B=L,J=B.next;B.next=null,j===null?w=J:j.next=J,j=B;var fe=a.alternate;fe!==null&&(fe=fe.updateQueue,L=fe.lastBaseUpdate,L!==j&&(L===null?fe.firstBaseUpdate=J:L.next=J,fe.lastBaseUpdate=B))}if(w!==null){var _e=v.baseState;j=0,fe=J=B=null,L=w;do{var ae=L.lane,He=L.eventTime;if((g&ae)===ae){fe!==null&&(fe=fe.next={eventTime:He,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var De=a,un=L;switch(ae=l,He=d,un.tag){case 1:if(De=un.payload,typeof De=="function"){_e=De.call(He,_e,ae);break e}_e=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=un.payload,ae=typeof De=="function"?De.call(He,_e,ae):De,ae==null)break e;_e=i({},_e,ae);break e;case 2:os=!0}}L.callback!==null&&L.lane!==0&&(a.flags|=64,ae=v.effects,ae===null?v.effects=[L]:ae.push(L))}else He={eventTime:He,lane:ae,tag:L.tag,payload:L.payload,callback:L.callback,next:null},fe===null?(J=fe=He,B=_e):fe=fe.next=He,j|=ae;if(L=L.next,L===null){if(L=v.shared.pending,L===null)break;ae=L,L=ae.next,ae.next=null,v.lastBaseUpdate=ae,v.shared.pending=null}}while(!0);if(fe===null&&(B=_e),v.baseState=B,v.firstBaseUpdate=J,v.lastBaseUpdate=fe,l=v.shared.interleaved,l!==null){v=l;do j|=v.lane,v=v.next;while(v!==l)}else w===null&&(v.shared.lanes=0);ni|=j,a.lanes=j,a.memoizedState=_e}}function Km(a,l,d){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var g=a[l],v=g.callback;if(v!==null){if(g.callback=null,g=d,typeof v!="function")throw Error(o(191,v));v.call(g)}}}var wa={},Un=ss(wa),_a=ss(wa),eo=ss(wa);function xr(a){if(a===wa)throw Error(o(174));return a}function Gh(a,l){ze(eo,l),ze(_a,a),ze(Un,wa),a=ge(l),$e(Un),ze(Un,a)}function to(){$e(Un),$e(_a),$e(eo)}function Ym(a){var l=xr(eo.current),d=xr(Un.current);l=G(d,a.type,l),d!==l&&(ze(_a,a),ze(Un,l))}function Wh(a){_a.current===a&&($e(Un),$e(_a))}var Je=ss(0);function _u(a){for(var l=a;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||Nm(d)||xh(d)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if(l.flags&128)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var $h=[];function Hh(){for(var a=0;a<$h.length;a++){var l=$h[a];Qn?l._workInProgressVersionPrimary=null:l._workInProgressVersionSecondary=null}$h.length=0}var Su=u.ReactCurrentDispatcher,Vh=u.ReactCurrentBatchConfig,ti=0,Ze=null,vt=null,Et=null,bu=!1,Sa=!1,ba=0,t6=0;function Dt(){throw Error(o(321))}function qh(a,l){if(l===null)return!1;for(var d=0;d<l.length&&d<a.length;d++)if(!Zn(a[d],l[d]))return!1;return!0}function Kh(a,l,d,g,v,w){if(ti=w,Ze=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Su.current=a===null||a.memoizedState===null?i6:o6,a=d(g,v),Sa){w=0;do{if(Sa=!1,ba=0,25<=w)throw Error(o(301));w+=1,Et=vt=null,l.updateQueue=null,Su.current=a6,a=d(g,v)}while(Sa)}if(Su.current=Cu,l=vt!==null&&vt.next!==null,ti=0,Et=vt=Ze=null,bu=!1,l)throw Error(o(300));return a}function Yh(){var a=ba!==0;return ba=0,a}function wr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Ze.memoizedState=Et=a:Et=Et.next=a,Et}function Bn(){if(vt===null){var a=Ze.alternate;a=a!==null?a.memoizedState:null}else a=vt.next;var l=Et===null?Ze.memoizedState:Et.next;if(l!==null)Et=l,vt=a;else{if(a===null)throw Error(o(310));vt=a,a={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Et===null?Ze.memoizedState=Et=a:Et=Et.next=a}return Et}function ka(a,l){return typeof l=="function"?l(a):l}function Xh(a){var l=Bn(),d=l.queue;if(d===null)throw Error(o(311));d.lastRenderedReducer=a;var g=vt,v=g.baseQueue,w=d.pending;if(w!==null){if(v!==null){var j=v.next;v.next=w.next,w.next=j}g.baseQueue=v=w,d.pending=null}if(v!==null){w=v.next,g=g.baseState;var L=j=null,B=null,J=w;do{var fe=J.lane;if((ti&fe)===fe)B!==null&&(B=B.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),g=J.hasEagerState?J.eagerState:a(g,J.action);else{var _e={lane:fe,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};B===null?(L=B=_e,j=g):B=B.next=_e,Ze.lanes|=fe,ni|=fe}J=J.next}while(J!==null&&J!==w);B===null?j=g:B.next=L,Zn(g,l.memoizedState)||(on=!0),l.memoizedState=g,l.baseState=j,l.baseQueue=B,d.lastRenderedState=g}if(a=d.interleaved,a!==null){v=a;do w=v.lane,Ze.lanes|=w,ni|=w,v=v.next;while(v!==a)}else v===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function Qh(a){var l=Bn(),d=l.queue;if(d===null)throw Error(o(311));d.lastRenderedReducer=a;var g=d.dispatch,v=d.pending,w=l.memoizedState;if(v!==null){d.pending=null;var j=v=v.next;do w=a(w,j.action),j=j.next;while(j!==v);Zn(w,l.memoizedState)||(on=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),d.lastRenderedState=w}return[w,g]}function Xm(){}function Qm(a,l){var d=Ze,g=Bn(),v=l(),w=!Zn(g.memoizedState,v);if(w&&(g.memoizedState=v,on=!0),g=g.queue,Jh(e1.bind(null,d,g,a),[a]),g.getSnapshot!==l||w||Et!==null&&Et.memoizedState.tag&1){if(d.flags|=2048,Ea(9,Zm.bind(null,d,g,v,l),void 0,null),Ct===null)throw Error(o(349));ti&30||Jm(d,l,v)}return v}function Jm(a,l,d){a.flags|=16384,a={getSnapshot:l,value:d},l=Ze.updateQueue,l===null?(l={lastEffect:null,stores:null},Ze.updateQueue=l,l.stores=[a]):(d=l.stores,d===null?l.stores=[a]:d.push(a))}function Zm(a,l,d,g){l.value=d,l.getSnapshot=g,t1(l)&&n1(a)}function e1(a,l,d){return d(function(){t1(l)&&n1(a)})}function t1(a){var l=a.getSnapshot;a=a.value;try{var d=l();return!Zn(a,d)}catch{return!0}}function n1(a){var l=vr(a,1);l!==null&&Gn(l,a,1,-1)}function r1(a){var l=wr();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:a},l.queue=a,a=a.dispatch=s6.bind(null,Ze,a),[l.memoizedState,a]}function Ea(a,l,d,g){return a={tag:a,create:l,destroy:d,deps:g,next:null},l=Ze.updateQueue,l===null?(l={lastEffect:null,stores:null},Ze.updateQueue=l,l.lastEffect=a.next=a):(d=l.lastEffect,d===null?l.lastEffect=a.next=a:(g=d.next,d.next=a,a.next=g,l.lastEffect=a)),a}function s1(){return Bn().memoizedState}function ku(a,l,d,g){var v=wr();Ze.flags|=a,v.memoizedState=Ea(1|l,d,void 0,g===void 0?null:g)}function Eu(a,l,d,g){var v=Bn();g=g===void 0?null:g;var w=void 0;if(vt!==null){var j=vt.memoizedState;if(w=j.destroy,g!==null&&qh(g,j.deps)){v.memoizedState=Ea(l,d,w,g);return}}Ze.flags|=a,v.memoizedState=Ea(1|l,d,w,g)}function i1(a,l){return ku(8390656,8,a,l)}function Jh(a,l){return Eu(2048,8,a,l)}function o1(a,l){return Eu(4,2,a,l)}function a1(a,l){return Eu(4,4,a,l)}function l1(a,l){if(typeof l=="function")return a=a(),l(a),function(){l(null)};if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function u1(a,l,d){return d=d!=null?d.concat([a]):null,Eu(4,4,l1.bind(null,l,a),d)}function Zh(){}function c1(a,l){var d=Bn();l=l===void 0?null:l;var g=d.memoizedState;return g!==null&&l!==null&&qh(l,g[1])?g[0]:(d.memoizedState=[a,l],a)}function d1(a,l){var d=Bn();l=l===void 0?null:l;var g=d.memoizedState;return g!==null&&l!==null&&qh(l,g[1])?g[0]:(a=a(),d.memoizedState=[a,l],a)}function h1(a,l,d){return ti&21?(Zn(d,l)||(d=Om(),Ze.lanes|=d,ni|=d,a.baseState=!0),l):(a.baseState&&(a.baseState=!1,on=!0),a.memoizedState=d)}function n6(a,l){var d=Re;Re=d!==0&&4>d?d:4,a(!0);var g=Vh.transition;Vh.transition={};try{a(!1),l()}finally{Re=d,Vh.transition=g}}function f1(){return Bn().memoizedState}function r6(a,l,d){var g=cs(a);if(d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},p1(a))g1(l,d);else if(d=Hm(a,l,d,g),d!==null){var v=Ut();Gn(d,a,g,v),m1(d,l,g)}}function s6(a,l,d){var g=cs(a),v={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(p1(a))g1(l,v);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var j=l.lastRenderedState,L=w(j,d);if(v.hasEagerState=!0,v.eagerState=L,Zn(L,j)){var B=l.interleaved;B===null?(v.next=v,Uh(l)):(v.next=B.next,B.next=v),l.interleaved=v;return}}catch{}finally{}d=Hm(a,l,v,g),d!==null&&(v=Ut(),Gn(d,a,g,v),m1(d,l,g))}}function p1(a){var l=a.alternate;return a===Ze||l!==null&&l===Ze}function g1(a,l){Sa=bu=!0;var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}function m1(a,l,d){if(d&4194240){var g=l.lanes;g&=a.pendingLanes,d|=g,l.lanes=d,Ch(a,d)}}var Cu={readContext:zn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},i6={readContext:zn,useCallback:function(a,l){return wr().memoizedState=[a,l===void 0?null:l],a},useContext:zn,useEffect:i1,useImperativeHandle:function(a,l,d){return d=d!=null?d.concat([a]):null,ku(4194308,4,l1.bind(null,l,a),d)},useLayoutEffect:function(a,l){return ku(4194308,4,a,l)},useInsertionEffect:function(a,l){return ku(4,2,a,l)},useMemo:function(a,l){var d=wr();return l=l===void 0?null:l,a=a(),d.memoizedState=[a,l],a},useReducer:function(a,l,d){var g=wr();return l=d!==void 0?d(l):l,g.memoizedState=g.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},g.queue=a,a=a.dispatch=r6.bind(null,Ze,a),[g.memoizedState,a]},useRef:function(a){var l=wr();return a={current:a},l.memoizedState=a},useState:r1,useDebugValue:Zh,useDeferredValue:function(a){return wr().memoizedState=a},useTransition:function(){var a=r1(!1),l=a[0];return a=n6.bind(null,a[1]),wr().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,d){var g=Ze,v=wr();if(Ye){if(d===void 0)throw Error(o(407));d=d()}else{if(d=l(),Ct===null)throw Error(o(349));ti&30||Jm(g,l,d)}v.memoizedState=d;var w={value:d,getSnapshot:l};return v.queue=w,i1(e1.bind(null,g,w,a),[a]),g.flags|=2048,Ea(9,Zm.bind(null,g,w,d,l),void 0,null),d},useId:function(){var a=wr(),l=Ct.identifierPrefix;if(Ye){var d=Ir,g=Ar;d=(g&~(1<<32-Jn(g)-1)).toString(32)+d,l=":"+l+"R"+d,d=ba++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=t6++,l=":"+l+"r"+d.toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},o6={readContext:zn,useCallback:c1,useContext:zn,useEffect:Jh,useImperativeHandle:u1,useInsertionEffect:o1,useLayoutEffect:a1,useMemo:d1,useReducer:Xh,useRef:s1,useState:function(){return Xh(ka)},useDebugValue:Zh,useDeferredValue:function(a){var l=Bn();return h1(l,vt.memoizedState,a)},useTransition:function(){var a=Xh(ka)[0],l=Bn().memoizedState;return[a,l]},useMutableSource:Xm,useSyncExternalStore:Qm,useId:f1,unstable_isNewReconciler:!1},a6={readContext:zn,useCallback:c1,useContext:zn,useEffect:Jh,useImperativeHandle:u1,useInsertionEffect:o1,useLayoutEffect:a1,useMemo:d1,useReducer:Qh,useRef:s1,useState:function(){return Qh(ka)},useDebugValue:Zh,useDeferredValue:function(a){var l=Bn();return vt===null?l.memoizedState=a:h1(l,vt.memoizedState,a)},useTransition:function(){var a=Qh(ka)[0],l=Bn().memoizedState;return[a,l]},useMutableSource:Xm,useSyncExternalStore:Qm,useId:f1,unstable_isNewReconciler:!1};function tr(a,l){if(a&&a.defaultProps){l=i({},l),a=a.defaultProps;for(var d in a)l[d]===void 0&&(l[d]=a[d]);return l}return l}function ef(a,l,d,g){l=a.memoizedState,d=d(g,l),d=d==null?l:i({},l,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var ju={isMounted:function(a){return(a=a._reactInternals)?U(a)===a:!1},enqueueSetState:function(a,l,d){a=a._reactInternals;var g=Ut(),v=cs(a),w=Lr(g,v);w.payload=l,d!=null&&(w.callback=d),l=as(a,w,v),l!==null&&(Gn(l,a,v,g),xu(l,a,v))},enqueueReplaceState:function(a,l,d){a=a._reactInternals;var g=Ut(),v=cs(a),w=Lr(g,v);w.tag=1,w.payload=l,d!=null&&(w.callback=d),l=as(a,w,v),l!==null&&(Gn(l,a,v,g),xu(l,a,v))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var d=Ut(),g=cs(a),v=Lr(d,g);v.tag=2,l!=null&&(v.callback=l),l=as(a,v,g),l!==null&&(Gn(l,a,g,d),xu(l,a,g))}};function y1(a,l,d,g,v,w,j){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,w,j):l.prototype&&l.prototype.isPureReactComponent?!gu(d,g)||!gu(v,w):!0}function v1(a,l,d){var g=!1,v=is,w=l.contextType;return typeof w=="object"&&w!==null?w=zn(w):(v=sn(l)?Qs:Mt.current,g=l.contextTypes,w=(g=g!=null)?qi(a,v):is),l=new l(d,w),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=ju,a.stateNode=l,l._reactInternals=a,g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=v,a.__reactInternalMemoizedMaskedChildContext=w),l}function x1(a,l,d,g){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,g),l.state!==a&&ju.enqueueReplaceState(l,l.state,null)}function tf(a,l,d,g){var v=a.stateNode;v.props=d,v.state=a.memoizedState,v.refs={},Bh(a);var w=l.contextType;typeof w=="object"&&w!==null?v.context=zn(w):(w=sn(l)?Qs:Mt.current,v.context=qi(a,w)),v.state=a.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(ef(a,l,w,d),v.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(l=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),l!==v.state&&ju.enqueueReplaceState(v,v.state,null),wu(a,d,v,g),v.state=a.memoizedState),typeof v.componentDidMount=="function"&&(a.flags|=4194308)}function no(a,l){try{var d="",g=l;do d+=e6(g),g=g.return;while(g);var v=d}catch(w){v=`
Error generating stack: `+w.message+`
`+w.stack}return{value:a,source:l,stack:v,digest:null}}function nf(a,l,d){return{value:a,source:null,stack:d??null,digest:l??null}}function rf(a,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var l6=typeof WeakMap=="function"?WeakMap:Map;function w1(a,l,d){d=Lr(-1,d),d.tag=3,d.payload={element:null};var g=l.value;return d.callback=function(){Bu||(Bu=!0,kf=g),rf(a,l)},d}function _1(a,l,d){d=Lr(-1,d),d.tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var v=l.value;d.payload=function(){return g(v)},d.callback=function(){rf(a,l)}}var w=a.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(d.callback=function(){rf(a,l),typeof g!="function"&&(ls===null?ls=new Set([this]):ls.add(this));var j=l.stack;this.componentDidCatch(l.value,{componentStack:j!==null?j:""})}),d}function S1(a,l,d){var g=a.pingCache;if(g===null){g=a.pingCache=new l6;var v=new Set;g.set(l,v)}else v=g.get(l),v===void 0&&(v=new Set,g.set(l,v));v.has(d)||(v.add(d),a=S6.bind(null,a,l,d),l.then(a,a))}function b1(a){do{var l;if((l=a.tag===13)&&(l=a.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return a;a=a.return}while(a!==null);return null}function k1(a,l,d,g,v){return a.mode&1?(a.flags|=65536,a.lanes=v,a):(a===l?a.flags|=65536:(a.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=Lr(-1,1),l.tag=2,as(d,l,1))),d.lanes|=1),a)}var u6=u.ReactCurrentOwner,on=!1;function Kt(a,l,d,g){l.child=a===null?Wm(l,null,d,g):Qi(l,a.child,d,g)}function E1(a,l,d,g,v){d=d.render;var w=l.ref;return Zi(l,v),g=Kh(a,l,d,g,w,v),d=Yh(),a!==null&&!on?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~v,Mr(a,l,v)):(Ye&&d&&Rh(l),l.flags|=1,Kt(a,l,g,v),l.child)}function C1(a,l,d,g,v){if(a===null){var w=d.type;return typeof w=="function"&&!Tf(w)&&w.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=w,j1(a,l,w,g,v)):(a=qu(d.type,null,g,l,l.mode,v),a.ref=l.ref,a.return=l,l.child=a)}if(w=a.child,!(a.lanes&v)){var j=w.memoizedProps;if(d=d.compare,d=d!==null?d:gu,d(j,g)&&a.ref===l.ref)return Mr(a,l,v)}return l.flags|=1,a=hs(w,g),a.ref=l.ref,a.return=l,l.child=a}function j1(a,l,d,g,v){if(a!==null){var w=a.memoizedProps;if(gu(w,g)&&a.ref===l.ref)if(on=!1,l.pendingProps=g=w,(a.lanes&v)!==0)a.flags&131072&&(on=!0);else return l.lanes=a.lanes,Mr(a,l,v)}return sf(a,l,d,g,v)}function N1(a,l,d){var g=l.pendingProps,v=g.children,w=a!==null?a.memoizedState:null;if(g.mode==="hidden")if(!(l.mode&1))l.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(so,Sn),Sn|=d;else{if(!(d&1073741824))return a=w!==null?w.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,ze(so,Sn),Sn|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=w!==null?w.baseLanes:d,ze(so,Sn),Sn|=g}else w!==null?(g=w.baseLanes|d,l.memoizedState=null):g=d,ze(so,Sn),Sn|=g;return Kt(a,l,v,d),l.child}function P1(a,l){var d=l.ref;(a===null&&d!==null||a!==null&&a.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function sf(a,l,d,g,v){var w=sn(d)?Qs:Mt.current;return w=qi(l,w),Zi(l,v),d=Kh(a,l,d,g,w,v),g=Yh(),a!==null&&!on?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~v,Mr(a,l,v)):(Ye&&g&&Rh(l),l.flags|=1,Kt(a,l,d,v),l.child)}function T1(a,l,d,g,v){if(sn(d)){var w=!0;ou(l)}else w=!1;if(Zi(l,v),l.stateNode===null)Pu(a,l),v1(l,d,g),tf(l,d,g,v),g=!0;else if(a===null){var j=l.stateNode,L=l.memoizedProps;j.props=L;var B=j.context,J=d.contextType;typeof J=="object"&&J!==null?J=zn(J):(J=sn(d)?Qs:Mt.current,J=qi(l,J));var fe=d.getDerivedStateFromProps,_e=typeof fe=="function"||typeof j.getSnapshotBeforeUpdate=="function";_e||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(L!==g||B!==J)&&x1(l,j,g,J),os=!1;var ae=l.memoizedState;j.state=ae,wu(l,g,j,v),B=l.memoizedState,L!==g||ae!==B||rn.current||os?(typeof fe=="function"&&(ef(l,d,fe,g),B=l.memoizedState),(L=os||y1(l,d,L,g,ae,B,J))?(_e||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(l.flags|=4194308)):(typeof j.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=B),j.props=g,j.state=B,j.context=J,g=L):(typeof j.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{j=l.stateNode,Vm(a,l),L=l.memoizedProps,J=l.type===l.elementType?L:tr(l.type,L),j.props=J,_e=l.pendingProps,ae=j.context,B=d.contextType,typeof B=="object"&&B!==null?B=zn(B):(B=sn(d)?Qs:Mt.current,B=qi(l,B));var He=d.getDerivedStateFromProps;(fe=typeof He=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(L!==_e||ae!==B)&&x1(l,j,g,B),os=!1,ae=l.memoizedState,j.state=ae,wu(l,g,j,v);var De=l.memoizedState;L!==_e||ae!==De||rn.current||os?(typeof He=="function"&&(ef(l,d,He,g),De=l.memoizedState),(J=os||y1(l,d,J,g,ae,De,B)||!1)?(fe||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(g,De,B),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(g,De,B)),typeof j.componentDidUpdate=="function"&&(l.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof j.componentDidUpdate!="function"||L===a.memoizedProps&&ae===a.memoizedState||(l.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||L===a.memoizedProps&&ae===a.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=De),j.props=g,j.state=De,j.context=B,g=J):(typeof j.componentDidUpdate!="function"||L===a.memoizedProps&&ae===a.memoizedState||(l.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||L===a.memoizedProps&&ae===a.memoizedState||(l.flags|=1024),g=!1)}return of(a,l,d,g,w,v)}function of(a,l,d,g,v,w){P1(a,l);var j=(l.flags&128)!==0;if(!g&&!j)return v&&Rm(l,d,!1),Mr(a,l,w);g=l.stateNode,u6.current=l;var L=j&&typeof d.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,a!==null&&j?(l.child=Qi(l,a.child,null,w),l.child=Qi(l,null,L,w)):Kt(a,l,L,w),l.memoizedState=g.state,v&&Rm(l,d,!0),l.child}function R1(a){var l=a.stateNode;l.pendingContext?Pm(a,l.pendingContext,l.pendingContext!==l.context):l.context&&Pm(a,l.context,!1),Gh(a,l.containerInfo)}function O1(a,l,d,g,v){return Xi(),Lh(v),l.flags|=256,Kt(a,l,d,g),l.child}var af={dehydrated:null,treeContext:null,retryLane:0};function lf(a){return{baseLanes:a,cachePool:null,transitions:null}}function A1(a,l,d){var g=l.pendingProps,v=Je.current,w=!1,j=(l.flags&128)!==0,L;if((L=j)||(L=a!==null&&a.memoizedState===null?!1:(v&2)!==0),L?(w=!0,l.flags&=-129):(a===null||a.memoizedState!==null)&&(v|=1),ze(Je,v&1),a===null)return Ih(l),a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(l.mode&1?xh(a)?l.lanes=8:l.lanes=1073741824:l.lanes=1,null):(j=g.children,a=g.fallback,w?(g=l.mode,w=l.child,j={mode:"hidden",children:j},!(g&1)&&w!==null?(w.childLanes=0,w.pendingProps=j):w=Ku(j,g,0,null),a=oi(a,g,d,null),w.return=l,a.return=l,w.sibling=a,l.child=w,l.child.memoizedState=lf(d),l.memoizedState=af,a):uf(l,j));if(v=a.memoizedState,v!==null&&(L=v.dehydrated,L!==null))return c6(a,l,j,g,L,v,d);if(w){w=g.fallback,j=l.mode,v=a.child,L=v.sibling;var B={mode:"hidden",children:g.children};return!(j&1)&&l.child!==v?(g=l.child,g.childLanes=0,g.pendingProps=B,l.deletions=null):(g=hs(v,B),g.subtreeFlags=v.subtreeFlags&14680064),L!==null?w=hs(L,w):(w=oi(w,j,d,null),w.flags|=2),w.return=l,g.return=l,g.sibling=w,l.child=g,g=w,w=l.child,j=a.child.memoizedState,j=j===null?lf(d):{baseLanes:j.baseLanes|d,cachePool:null,transitions:j.transitions},w.memoizedState=j,w.childLanes=a.childLanes&~d,l.memoizedState=af,g}return w=a.child,a=w.sibling,g=hs(w,{mode:"visible",children:g.children}),!(l.mode&1)&&(g.lanes=d),g.return=l,g.sibling=null,a!==null&&(d=l.deletions,d===null?(l.deletions=[a],l.flags|=16):d.push(a)),l.child=g,l.memoizedState=null,g}function uf(a,l){return l=Ku({mode:"visible",children:l},a.mode,0,null),l.return=a,a.child=l}function Nu(a,l,d,g){return g!==null&&Lh(g),Qi(l,a.child,null,d),a=uf(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function c6(a,l,d,g,v,w,j){if(d)return l.flags&256?(l.flags&=-257,g=nf(Error(o(422))),Nu(a,l,j,g)):l.memoizedState!==null?(l.child=a.child,l.flags|=128,null):(w=g.fallback,v=l.mode,g=Ku({mode:"visible",children:g.children},v,0,null),w=oi(w,v,j,null),w.flags|=2,g.return=l,w.return=l,g.sibling=w,l.child=g,l.mode&1&&Qi(l,a.child,null,j),l.child.memoizedState=lf(j),l.memoizedState=af,w);if(!(l.mode&1))return Nu(a,l,j,null);if(xh(v))return g=b5(v).digest,w=Error(o(419)),g=nf(w,g,void 0),Nu(a,l,j,g);if(d=(j&a.childLanes)!==0,on||d){if(g=Ct,g!==null){switch(j&-j){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=v&(g.suspendedLanes|j)?0:v,v!==0&&v!==w.retryLane&&(w.retryLane=v,vr(a,v),Gn(g,a,v,-1))}return Pf(),g=nf(Error(o(421))),Nu(a,l,j,g)}return Nm(v)?(l.flags|=128,l.child=a.child,l=b6.bind(null,a),k5(v,l),null):(a=w.treeContext,tn&&(Fn=j5(v),_n=l,Ye=!0,er=null,va=!1,a!==null&&(Mn[Dn++]=Ar,Mn[Dn++]=Ir,Mn[Dn++]=Js,Ar=a.id,Ir=a.overflow,Js=l)),l=uf(l,g.children),l.flags|=4096,l)}function I1(a,l,d){a.lanes|=l;var g=a.alternate;g!==null&&(g.lanes|=l),zh(a.return,l,d)}function cf(a,l,d,g,v){var w=a.memoizedState;w===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:v}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=g,w.tail=d,w.tailMode=v)}function L1(a,l,d){var g=l.pendingProps,v=g.revealOrder,w=g.tail;if(Kt(a,l,g.children,d),g=Je.current,g&2)g=g&1|2,l.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&I1(a,d,l);else if(a.tag===19)I1(a,d,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(ze(Je,g),!(l.mode&1))l.memoizedState=null;else switch(v){case"forwards":for(d=l.child,v=null;d!==null;)a=d.alternate,a!==null&&_u(a)===null&&(v=d),d=d.sibling;d=v,d===null?(v=l.child,l.child=null):(v=d.sibling,d.sibling=null),cf(l,!1,v,d,w);break;case"backwards":for(d=null,v=l.child,l.child=null;v!==null;){if(a=v.alternate,a!==null&&_u(a)===null){l.child=v;break}a=v.sibling,v.sibling=d,d=v,v=a}cf(l,!0,d,null,w);break;case"together":cf(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Pu(a,l){!(l.mode&1)&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function Mr(a,l,d){if(a!==null&&(l.dependencies=a.dependencies),ni|=l.lanes,!(d&l.childLanes))return null;if(a!==null&&l.child!==a.child)throw Error(o(153));if(l.child!==null){for(a=l.child,d=hs(a,a.pendingProps),l.child=d,d.return=l;a.sibling!==null;)a=a.sibling,d=d.sibling=hs(a,a.pendingProps),d.return=l;d.sibling=null}return l.child}function d6(a,l,d){switch(l.tag){case 3:R1(l),Xi();break;case 5:Ym(l);break;case 1:sn(l.type)&&ou(l);break;case 4:Gh(l,l.stateNode.containerInfo);break;case 10:$m(l,l.type._context,l.memoizedProps.value);break;case 13:var g=l.memoizedState;if(g!==null)return g.dehydrated!==null?(ze(Je,Je.current&1),l.flags|=128,null):d&l.child.childLanes?A1(a,l,d):(ze(Je,Je.current&1),a=Mr(a,l,d),a!==null?a.sibling:null);ze(Je,Je.current&1);break;case 19:if(g=(d&l.childLanes)!==0,a.flags&128){if(g)return L1(a,l,d);l.flags|=128}var v=l.memoizedState;if(v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ze(Je,Je.current),g)break;return null;case 22:case 23:return l.lanes=0,N1(a,l,d)}return Mr(a,l,d)}function _r(a){a.flags|=4}function M1(a,l){if(a!==null&&a.child===l.child)return!0;if(l.flags&16)return!1;for(a=l.child;a!==null;){if(a.flags&12854||a.subtreeFlags&12854)return!1;a=a.sibling}return!0}var Ca,ja,Tu,Ru;if(Tt)Ca=function(a,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)he(a,d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},ja=function(){},Tu=function(a,l,d,g,v){if(a=a.memoizedProps,a!==g){var w=l.stateNode,j=xr(Un.current);d=yt(w,d,a,g,v,j),(l.updateQueue=d)&&_r(l)}},Ru=function(a,l,d,g){d!==g&&_r(l)};else if(rs){Ca=function(a,l,d,g){for(var v=l.child;v!==null;){if(v.tag===5){var w=v.stateNode;d&&g&&(w=Cm(w,v.type,v.memoizedProps,v)),he(a,w)}else if(v.tag===6)w=v.stateNode,d&&g&&(w=jm(w,v.memoizedProps,v)),he(a,w);else if(v.tag!==4){if(v.tag===22&&v.memoizedState!==null)w=v.child,w!==null&&(w.return=v),Ca(a,v,!0,!0);else if(v.child!==null){v.child.return=v,v=v.child;continue}}if(v===l)break;for(;v.sibling===null;){if(v.return===null||v.return===l)return;v=v.return}v.sibling.return=v.return,v=v.sibling}};var D1=function(a,l,d,g){for(var v=l.child;v!==null;){if(v.tag===5){var w=v.stateNode;d&&g&&(w=Cm(w,v.type,v.memoizedProps,v)),Em(a,w)}else if(v.tag===6)w=v.stateNode,d&&g&&(w=jm(w,v.memoizedProps,v)),Em(a,w);else if(v.tag!==4){if(v.tag===22&&v.memoizedState!==null)w=v.child,w!==null&&(w.return=v),D1(a,v,!0,!0);else if(v.child!==null){v.child.return=v,v=v.child;continue}}if(v===l)break;for(;v.sibling===null;){if(v.return===null||v.return===l)return;v=v.return}v.sibling.return=v.return,v=v.sibling}};ja=function(a,l){var d=l.stateNode;if(!M1(a,l)){a=d.containerInfo;var g=km(a);D1(g,l,!1,!1),d.pendingChildren=g,_r(l),x5(a,g)}},Tu=function(a,l,d,g,v){var w=a.stateNode,j=a.memoizedProps;if((a=M1(a,l))&&j===g)l.stateNode=w;else{var L=l.stateNode,B=xr(Un.current),J=null;j!==g&&(J=yt(L,d,j,g,v,B)),a&&J===null?l.stateNode=w:(w=v5(w,J,d,j,g,l,a,L),Me(w,d,g,v,B)&&_r(l),l.stateNode=w,a?_r(l):Ca(w,l,!1,!1))}},Ru=function(a,l,d,g){d!==g?(a=xr(eo.current),d=xr(Un.current),l.stateNode=Zt(g,a,d,l),_r(l)):l.stateNode=a.stateNode}}else ja=function(){},Tu=function(){},Ru=function(){};function Na(a,l){if(!Ye)switch(a.tailMode){case"hidden":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function Ft(a){var l=a.alternate!==null&&a.alternate.child===a.child,d=0,g=0;if(l)for(var v=a.child;v!==null;)d|=v.lanes|v.childLanes,g|=v.subtreeFlags&14680064,g|=v.flags&14680064,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)d|=v.lanes|v.childLanes,g|=v.subtreeFlags,g|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=g,a.childLanes=d,l}function h6(a,l,d){var g=l.pendingProps;switch(Oh(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(l),null;case 1:return sn(l.type)&&iu(),Ft(l),null;case 3:return d=l.stateNode,to(),$e(rn),$e(Mt),Hh(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(pu(l)?_r(l):a===null||a.memoizedState.isDehydrated&&!(l.flags&256)||(l.flags|=1024,er!==null&&(jf(er),er=null))),ja(a,l),Ft(l),null;case 5:Wh(l),d=xr(eo.current);var v=l.type;if(a!==null&&l.stateNode!=null)Tu(a,l,v,g,d),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(o(166));return Ft(l),null}if(a=xr(Un.current),pu(l)){if(!tn)throw Error(o(175));a=N5(l.stateNode,l.type,l.memoizedProps,d,a,l,!va),l.updateQueue=a,a!==null&&_r(l)}else{var w=X(v,g,d,a,l);Ca(w,l,!1,!1),l.stateNode=w,Me(w,v,g,d,a)&&_r(l)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Ft(l),null;case 6:if(a&&l.stateNode!=null)Ru(a,l,a.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(o(166));if(a=xr(eo.current),d=xr(Un.current),pu(l)){if(!tn)throw Error(o(176));if(a=l.stateNode,d=l.memoizedProps,(g=P5(a,d,l,!va))&&(v=_n,v!==null))switch(v.tag){case 3:D5(v.stateNode.containerInfo,a,d,(v.mode&1)!==0);break;case 5:F5(v.type,v.memoizedProps,v.stateNode,a,d,(v.mode&1)!==0)}g&&_r(l)}else l.stateNode=Zt(g,a,d,l)}return Ft(l),null;case 13:if($e(Je),g=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Ye&&Fn!==null&&l.mode&1&&!(l.flags&128))Um(),Xi(),l.flags|=98560,v=!1;else if(v=pu(l),g!==null&&g.dehydrated!==null){if(a===null){if(!v)throw Error(o(318));if(!tn)throw Error(o(344));if(v=l.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(o(317));T5(v,l)}else Xi(),!(l.flags&128)&&(l.memoizedState=null),l.flags|=4;Ft(l),v=!1}else er!==null&&(jf(er),er=null),v=!0;if(!v)return l.flags&65536?l:null}return l.flags&128?(l.lanes=d,l):(d=g!==null,d!==(a!==null&&a.memoizedState!==null)&&d&&(l.child.flags|=8192,l.mode&1&&(a===null||Je.current&1?xt===0&&(xt=3):Pf())),l.updateQueue!==null&&(l.flags|=4),Ft(l),null);case 4:return to(),ja(a,l),a===null&&hh(l.stateNode.containerInfo),Ft(l),null;case 10:return Fh(l.type._context),Ft(l),null;case 17:return sn(l.type)&&iu(),Ft(l),null;case 19:if($e(Je),v=l.memoizedState,v===null)return Ft(l),null;if(g=(l.flags&128)!==0,w=v.rendering,w===null)if(g)Na(v,!1);else{if(xt!==0||a!==null&&a.flags&128)for(a=l.child;a!==null;){if(w=_u(a),w!==null){for(l.flags|=128,Na(v,!1),a=w.updateQueue,a!==null&&(l.updateQueue=a,l.flags|=4),l.subtreeFlags=0,a=d,d=l.child;d!==null;)g=d,v=a,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=v,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,v=w.dependencies,g.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext}),d=d.sibling;return ze(Je,Je.current&1|2),l.child}a=a.sibling}v.tail!==null&&kt()>bf&&(l.flags|=128,g=!0,Na(v,!1),l.lanes=4194304)}else{if(!g)if(a=_u(w),a!==null){if(l.flags|=128,g=!0,a=a.updateQueue,a!==null&&(l.updateQueue=a,l.flags|=4),Na(v,!0),v.tail===null&&v.tailMode==="hidden"&&!w.alternate&&!Ye)return Ft(l),null}else 2*kt()-v.renderingStartTime>bf&&d!==1073741824&&(l.flags|=128,g=!0,Na(v,!1),l.lanes=4194304);v.isBackwards?(w.sibling=l.child,l.child=w):(a=v.last,a!==null?a.sibling=w:l.child=w,v.last=w)}return v.tail!==null?(l=v.tail,v.rendering=l,v.tail=l.sibling,v.renderingStartTime=kt(),l.sibling=null,a=Je.current,ze(Je,g?a&1|2:a&1),l):(Ft(l),null);case 22:case 23:return Nf(),d=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==d&&(l.flags|=8192),d&&l.mode&1?Sn&1073741824&&(Ft(l),Tt&&l.subtreeFlags&6&&(l.flags|=8192)):Ft(l),null;case 24:return null;case 25:return null}throw Error(o(156,l.tag))}function f6(a,l){switch(Oh(l),l.tag){case 1:return sn(l.type)&&iu(),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return to(),$e(rn),$e(Mt),Hh(),a=l.flags,a&65536&&!(a&128)?(l.flags=a&-65537|128,l):null;case 5:return Wh(l),null;case 13:if($e(Je),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(o(340));Xi()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return $e(Je),null;case 4:return to(),null;case 10:return Fh(l.type._context),null;case 22:case 23:return Nf(),null;case 24:return null;default:return null}}var Ou=!1,zt=!1,p6=typeof WeakSet=="function"?WeakSet:Set,ce=null;function ro(a,l){var d=a.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){Xe(a,l,g)}else d.current=null}function df(a,l,d){try{d()}catch(g){Xe(a,l,g)}}var F1=!1;function g6(a,l){for(re(a.containerInfo),ce=l;ce!==null;)if(a=ce,l=a.child,(a.subtreeFlags&1028)!==0&&l!==null)l.return=a,ce=l;else for(;ce!==null;){a=ce;try{var d=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(d!==null){var g=d.memoizedProps,v=d.memoizedState,w=a.stateNode,j=w.getSnapshotBeforeUpdate(a.elementType===a.type?g:tr(a.type,g),v);w.__reactInternalSnapshotBeforeUpdate=j}break;case 3:Tt&&y5(a.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(L){Xe(a,a.return,L)}if(l=a.sibling,l!==null){l.return=a.return,ce=l;break}ce=a.return}return d=F1,F1=!1,d}function Pa(a,l,d){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var v=g=g.next;do{if((v.tag&a)===a){var w=v.destroy;v.destroy=void 0,w!==void 0&&df(l,d,w)}v=v.next}while(v!==g)}}function Au(a,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&a)===a){var g=d.create;d.destroy=g()}d=d.next}while(d!==l)}}function hf(a){var l=a.ref;if(l!==null){var d=a.stateNode;switch(a.tag){case 5:a=H(d);break;default:a=d}typeof l=="function"?l(a):l.current=a}}function z1(a){var l=a.alternate;l!==null&&(a.alternate=null,z1(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&ca(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function U1(a){return a.tag===5||a.tag===3||a.tag===4}function B1(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||U1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function ff(a,l,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?Ce(d,a,l):pa(d,a);else if(g!==4&&(a=a.child,a!==null))for(ff(a,l,d),a=a.sibling;a!==null;)ff(a,l,d),a=a.sibling}function pf(a,l,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?ve(d,a,l):Wi(d,a);else if(g!==4&&(a=a.child,a!==null))for(pf(a,l,d),a=a.sibling;a!==null;)pf(a,l,d),a=a.sibling}var Rt=null,nr=!1;function Sr(a,l,d){for(d=d.child;d!==null;)gf(a,l,d),d=d.sibling}function gf(a,l,d){if(mr&&typeof mr.onCommitFiberUnmount=="function")try{mr.onCommitFiberUnmount(cu,d)}catch{}switch(d.tag){case 5:zt||ro(d,l);case 6:if(Tt){var g=Rt,v=nr;Rt=null,Sr(a,l,d),Rt=g,nr=v,Rt!==null&&(nr?wn(Rt,d.stateNode):dt(Rt,d.stateNode))}else Sr(a,l,d);break;case 18:Tt&&Rt!==null&&(nr?L5(Rt,d.stateNode):I5(Rt,d.stateNode));break;case 4:Tt?(g=Rt,v=nr,Rt=d.stateNode.containerInfo,nr=!0,Sr(a,l,d),Rt=g,nr=v):(rs&&(g=d.stateNode.containerInfo,v=km(g),vh(g,v)),Sr(a,l,d));break;case 0:case 11:case 14:case 15:if(!zt&&(g=d.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){v=g=g.next;do{var w=v,j=w.destroy;w=w.tag,j!==void 0&&(w&2||w&4)&&df(d,l,j),v=v.next}while(v!==g)}Sr(a,l,d);break;case 1:if(!zt&&(ro(d,l),g=d.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(L){Xe(d,l,L)}Sr(a,l,d);break;case 21:Sr(a,l,d);break;case 22:d.mode&1?(zt=(g=zt)||d.memoizedState!==null,Sr(a,l,d),zt=g):Sr(a,l,d);break;default:Sr(a,l,d)}}function G1(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var d=a.stateNode;d===null&&(d=a.stateNode=new p6),l.forEach(function(g){var v=k6.bind(null,a,g);d.has(g)||(d.add(g),g.then(v,v))})}}function rr(a,l){var d=l.deletions;if(d!==null)for(var g=0;g<d.length;g++){var v=d[g];try{var w=a,j=l;if(Tt){var L=j;e:for(;L!==null;){switch(L.tag){case 5:Rt=L.stateNode,nr=!1;break e;case 3:Rt=L.stateNode.containerInfo,nr=!0;break e;case 4:Rt=L.stateNode.containerInfo,nr=!0;break e}L=L.return}if(Rt===null)throw Error(o(160));gf(w,j,v),Rt=null,nr=!1}else gf(w,j,v);var B=v.alternate;B!==null&&(B.return=null),v.return=null}catch(J){Xe(v,l,J)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)W1(l,a),l=l.sibling}function W1(a,l){var d=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(rr(l,a),br(a),g&4){try{Pa(3,a,a.return),Au(3,a)}catch(ae){Xe(a,a.return,ae)}try{Pa(5,a,a.return)}catch(ae){Xe(a,a.return,ae)}}break;case 1:rr(l,a),br(a),g&512&&d!==null&&ro(d,d.return);break;case 5:if(rr(l,a),br(a),g&512&&d!==null&&ro(d,d.return),Tt){if(a.flags&32){var v=a.stateNode;try{nn(v)}catch(ae){Xe(a,a.return,ae)}}if(g&4&&(v=a.stateNode,v!=null)){var w=a.memoizedProps;if(d=d!==null?d.memoizedProps:w,g=a.type,l=a.updateQueue,a.updateQueue=null,l!==null)try{ue(v,l,g,d,w,a)}catch(ae){Xe(a,a.return,ae)}}}break;case 6:if(rr(l,a),br(a),g&4&&Tt){if(a.stateNode===null)throw Error(o(162));v=a.stateNode,w=a.memoizedProps,d=d!==null?d.memoizedProps:w;try{$i(v,d,w)}catch(ae){Xe(a,a.return,ae)}}break;case 3:if(rr(l,a),br(a),g&4){if(Tt&&tn&&d!==null&&d.memoizedState.isDehydrated)try{O5(l.containerInfo)}catch(ae){Xe(a,a.return,ae)}if(rs){v=l.containerInfo,w=l.pendingChildren;try{vh(v,w)}catch(ae){Xe(a,a.return,ae)}}}break;case 4:if(rr(l,a),br(a),g&4&&rs){w=a.stateNode,v=w.containerInfo,w=w.pendingChildren;try{vh(v,w)}catch(ae){Xe(a,a.return,ae)}}break;case 13:rr(l,a),br(a),v=a.child,v.flags&8192&&(w=v.memoizedState!==null,v.stateNode.isHidden=w,!w||v.alternate!==null&&v.alternate.memoizedState!==null||(Sf=kt())),g&4&&G1(a);break;case 22:var j=d!==null&&d.memoizedState!==null;if(a.mode&1?(zt=(d=zt)||j,rr(l,a),zt=d):rr(l,a),br(a),g&8192){if(d=a.memoizedState!==null,(a.stateNode.isHidden=d)&&!j&&a.mode&1)for(ce=a,g=a.child;g!==null;){for(l=ce=g;ce!==null;){j=ce;var L=j.child;switch(j.tag){case 0:case 11:case 14:case 15:Pa(4,j,j.return);break;case 1:ro(j,j.return);var B=j.stateNode;if(typeof B.componentWillUnmount=="function"){var J=j,fe=j.return;try{var _e=J;B.props=_e.memoizedProps,B.state=_e.memoizedState,B.componentWillUnmount()}catch(ae){Xe(J,fe,ae)}}break;case 5:ro(j,j.return);break;case 22:if(j.memoizedState!==null){V1(l);continue}}L!==null?(L.return=j,ce=L):V1(l)}g=g.sibling}if(Tt){e:if(g=null,Tt)for(l=a;;){if(l.tag===5){if(g===null){g=l;try{v=l.stateNode,d?Hi(v):g5(l.stateNode,l.memoizedProps)}catch(ae){Xe(a,a.return,ae)}}}else if(l.tag===6){if(g===null)try{w=l.stateNode,d?bm(w):m5(w,l.memoizedProps)}catch(ae){Xe(a,a.return,ae)}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;g===l&&(g=null),l=l.return}g===l&&(g=null),l.sibling.return=l.return,l=l.sibling}}}break;case 19:rr(l,a),br(a),g&4&&G1(a);break;case 21:break;default:rr(l,a),br(a)}}function br(a){var l=a.flags;if(l&2){try{if(Tt){e:{for(var d=a.return;d!==null;){if(U1(d)){var g=d;break e}d=d.return}throw Error(o(160))}switch(g.tag){case 5:var v=g.stateNode;g.flags&32&&(nn(v),g.flags&=-33);var w=B1(a);pf(a,w,v);break;case 3:case 4:var j=g.stateNode.containerInfo,L=B1(a);ff(a,L,j);break;default:throw Error(o(161))}}}catch(B){Xe(a,a.return,B)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function m6(a,l,d){ce=a,$1(a)}function $1(a,l,d){for(var g=(a.mode&1)!==0;ce!==null;){var v=ce,w=v.child;if(v.tag===22&&g){var j=v.memoizedState!==null||Ou;if(!j){var L=v.alternate,B=L!==null&&L.memoizedState!==null||zt;L=Ou;var J=zt;if(Ou=j,(zt=B)&&!J)for(ce=v;ce!==null;)j=ce,B=j.child,j.tag===22&&j.memoizedState!==null?q1(v):B!==null?(B.return=j,ce=B):q1(v);for(;w!==null;)ce=w,$1(w),w=w.sibling;ce=v,Ou=L,zt=J}H1(a)}else v.subtreeFlags&8772&&w!==null?(w.return=v,ce=w):H1(a)}}function H1(a){for(;ce!==null;){var l=ce;if(l.flags&8772){var d=l.alternate;try{if(l.flags&8772)switch(l.tag){case 0:case 11:case 15:zt||Au(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!zt)if(d===null)g.componentDidMount();else{var v=l.elementType===l.type?d.memoizedProps:tr(l.type,d.memoizedProps);g.componentDidUpdate(v,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var w=l.updateQueue;w!==null&&Km(l,w,g);break;case 3:var j=l.updateQueue;if(j!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=H(l.child.stateNode);break;case 1:d=l.child.stateNode}Km(l,j,d)}break;case 5:var L=l.stateNode;d===null&&l.flags&4&&te(L,l.type,l.memoizedProps,l);break;case 6:break;case 4:break;case 12:break;case 13:if(tn&&l.memoizedState===null){var B=l.alternate;if(B!==null){var J=B.memoizedState;if(J!==null){var fe=J.dehydrated;fe!==null&&A5(fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}zt||l.flags&512&&hf(l)}catch(_e){Xe(l,l.return,_e)}}if(l===a){ce=null;break}if(d=l.sibling,d!==null){d.return=l.return,ce=d;break}ce=l.return}}function V1(a){for(;ce!==null;){var l=ce;if(l===a){ce=null;break}var d=l.sibling;if(d!==null){d.return=l.return,ce=d;break}ce=l.return}}function q1(a){for(;ce!==null;){var l=ce;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{Au(4,l)}catch(B){Xe(l,d,B)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var v=l.return;try{g.componentDidMount()}catch(B){Xe(l,v,B)}}var w=l.return;try{hf(l)}catch(B){Xe(l,w,B)}break;case 5:var j=l.return;try{hf(l)}catch(B){Xe(l,j,B)}}}catch(B){Xe(l,l.return,B)}if(l===a){ce=null;break}var L=l.sibling;if(L!==null){L.return=l.return,ce=L;break}ce=l.return}}var Iu=0,Lu=1,Mu=2,Du=3,Fu=4;if(typeof Symbol=="function"&&Symbol.for){var Ta=Symbol.for;Iu=Ta("selector.component"),Lu=Ta("selector.has_pseudo_class"),Mu=Ta("selector.role"),Du=Ta("selector.test_id"),Fu=Ta("selector.text")}function mf(a){var l=dh(a);if(l!=null){if(typeof l.memoizedProps["data-testname"]!="string")throw Error(o(364));return l}if(a=mh(a),a===null)throw Error(o(362));return a.stateNode.current}function yf(a,l){switch(l.$$typeof){case Iu:if(a.type===l.value)return!0;break;case Lu:e:{l=l.value,a=[a,0];for(var d=0;d<a.length;){var g=a[d++],v=a[d++],w=l[v];if(g.tag!==5||!Xs(g)){for(;w!=null&&yf(g,w);)v++,w=l[v];if(v===l.length){l=!0;break e}else for(g=g.child;g!==null;)a.push(g,v),g=g.sibling}}l=!1}return l;case Mu:if(a.tag===5&&ha(a.stateNode,l.value))return!0;break;case Fu:if((a.tag===5||a.tag===6)&&(a=da(a),a!==null&&0<=a.indexOf(l.value)))return!0;break;case Du:if(a.tag===5&&(a=a.memoizedProps["data-testname"],typeof a=="string"&&a.toLowerCase()===l.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function vf(a){switch(a.$$typeof){case Iu:return"<"+(R(a.value)||"Unknown")+">";case Lu:return":has("+(vf(a)||"")+")";case Mu:return'[role="'+a.value+'"]';case Fu:return'"'+a.value+'"';case Du:return'[data-testname="'+a.value+'"]';default:throw Error(o(365))}}function K1(a,l){var d=[];a=[a,0];for(var g=0;g<a.length;){var v=a[g++],w=a[g++],j=l[w];if(v.tag!==5||!Xs(v)){for(;j!=null&&yf(v,j);)w++,j=l[w];if(w===l.length)d.push(v);else for(v=v.child;v!==null;)a.push(v,w),v=v.sibling}}return d}function xf(a,l){if(!Ys)throw Error(o(363));a=mf(a),a=K1(a,l),l=[],a=Array.from(a);for(var d=0;d<a.length;){var g=a[d++];if(g.tag===5)Xs(g)||l.push(g.stateNode);else for(g=g.child;g!==null;)a.push(g),g=g.sibling}return l}var y6=Math.ceil,zu=u.ReactCurrentDispatcher,wf=u.ReactCurrentOwner,at=u.ReactCurrentBatchConfig,Ee=0,Ct=null,ht=null,Ot=0,Sn=0,so=ss(0),xt=0,Ra=null,ni=0,Uu=0,_f=0,Oa=null,an=null,Sf=0,bf=1/0,Dr=null;function io(){bf=kt()+500}var Bu=!1,kf=null,ls=null,Gu=!1,us=null,Wu=0,Aa=0,Ef=null,$u=-1,Hu=0;function Ut(){return Ee&6?kt():$u!==-1?$u:$u=kt()}function cs(a){return a.mode&1?Ee&2&&Ot!==0?Ot&-Ot:Z5.transition!==null?(Hu===0&&(Hu=Om()),Hu):(a=Re,a!==0?a:fh()):1}function Gn(a,l,d,g){if(50<Aa)throw Aa=0,Ef=null,Error(o(185));ya(a,d,g),(!(Ee&2)||a!==Ct)&&(a===Ct&&(!(Ee&2)&&(Uu|=d),xt===4&&ds(a,Ot)),ln(a,g),d===1&&Ee===0&&!(l.mode&1)&&(io(),du&&yr()))}function ln(a,l){var d=a.callbackNode;$5(a,l);var g=uu(a,a===Ct?Ot:0);if(g===0)d!==null&&Im(d),a.callbackNode=null,a.callbackPriority=0;else if(l=g&-g,a.callbackPriority!==l){if(d!=null&&Im(d),l===1)a.tag===0?J5(X1.bind(null,a)):Lm(X1.bind(null,a)),ph?gh(function(){!(Ee&6)&&yr()}):jh(Nh,yr),d=null;else{switch(Am(g)){case 1:d=Nh;break;case 4:d=K5;break;case 16:d=Ph;break;case 536870912:d=Y5;break;default:d=Ph}d=iy(d,Y1.bind(null,a))}a.callbackPriority=l,a.callbackNode=d}}function Y1(a,l){if($u=-1,Hu=0,Ee&6)throw Error(o(327));var d=a.callbackNode;if(ii()&&a.callbackNode!==d)return null;var g=uu(a,a===Ct?Ot:0);if(g===0)return null;if(g&30||g&a.expiredLanes||l)l=Vu(a,g);else{l=g;var v=Ee;Ee|=2;var w=Z1();(Ct!==a||Ot!==l)&&(Dr=null,io(),ri(a,l));do try{w6();break}catch(L){J1(a,L)}while(!0);Dh(),zu.current=w,Ee=v,ht!==null?l=0:(Ct=null,Ot=0,l=xt)}if(l!==0){if(l===2&&(v=kh(a),v!==0&&(g=v,l=Cf(a,v))),l===1)throw d=Ra,ri(a,0),ds(a,g),ln(a,kt()),d;if(l===6)ds(a,g);else{if(v=a.current.alternate,!(g&30)&&!v6(v)&&(l=Vu(a,g),l===2&&(w=kh(a),w!==0&&(g=w,l=Cf(a,w))),l===1))throw d=Ra,ri(a,0),ds(a,g),ln(a,kt()),d;switch(a.finishedWork=v,a.finishedLanes=g,l){case 0:case 1:throw Error(o(345));case 2:si(a,an,Dr);break;case 3:if(ds(a,g),(g&130023424)===g&&(l=Sf+500-kt(),10<l)){if(uu(a,0)!==0)break;if(v=a.suspendedLanes,(v&g)!==g){Ut(),a.pingedLanes|=a.suspendedLanes&v;break}a.timeoutHandle=en(si.bind(null,a,an,Dr),l);break}si(a,an,Dr);break;case 4:if(ds(a,g),(g&4194240)===g)break;for(l=a.eventTimes,v=-1;0<g;){var j=31-Jn(g);w=1<<j,j=l[j],j>v&&(v=j),g&=~w}if(g=v,g=kt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*y6(g/1960))-g,10<g){a.timeoutHandle=en(si.bind(null,a,an,Dr),g);break}si(a,an,Dr);break;case 5:si(a,an,Dr);break;default:throw Error(o(329))}}}return ln(a,kt()),a.callbackNode===d?Y1.bind(null,a):null}function Cf(a,l){var d=Oa;return a.current.memoizedState.isDehydrated&&(ri(a,l).flags|=256),a=Vu(a,l),a!==2&&(l=an,an=d,l!==null&&jf(l)),a}function jf(a){an===null?an=a:an.push.apply(an,a)}function v6(a){for(var l=a;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var g=0;g<d.length;g++){var v=d[g],w=v.getSnapshot;v=v.value;try{if(!Zn(w(),v))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ds(a,l){for(l&=~_f,l&=~Uu,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var d=31-Jn(l),g=1<<d;a[d]=-1,l&=~g}}function X1(a){if(Ee&6)throw Error(o(327));ii();var l=uu(a,0);if(!(l&1))return ln(a,kt()),null;var d=Vu(a,l);if(a.tag!==0&&d===2){var g=kh(a);g!==0&&(l=g,d=Cf(a,g))}if(d===1)throw d=Ra,ri(a,0),ds(a,l),ln(a,kt()),d;if(d===6)throw Error(o(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,si(a,an,Dr),ln(a,kt()),null}function Q1(a){us!==null&&us.tag===0&&!(Ee&6)&&ii();var l=Ee;Ee|=1;var d=at.transition,g=Re;try{if(at.transition=null,Re=1,a)return a()}finally{Re=g,at.transition=d,Ee=l,!(Ee&6)&&yr()}}function Nf(){Sn=so.current,$e(so)}function ri(a,l){a.finishedWork=null,a.finishedLanes=0;var d=a.timeoutHandle;if(d!==xn&&(a.timeoutHandle=xn,Bi(d)),ht!==null)for(d=ht.return;d!==null;){var g=d;switch(Oh(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&iu();break;case 3:to(),$e(rn),$e(Mt),Hh();break;case 5:Wh(g);break;case 4:to();break;case 13:$e(Je);break;case 19:$e(Je);break;case 10:Fh(g.type._context);break;case 22:case 23:Nf()}d=d.return}if(Ct=a,ht=a=hs(a.current,null),Ot=Sn=l,xt=0,Ra=null,_f=Uu=ni=0,an=Oa=null,ei!==null){for(l=0;l<ei.length;l++)if(d=ei[l],g=d.interleaved,g!==null){d.interleaved=null;var v=g.next,w=d.pending;if(w!==null){var j=w.next;w.next=v,g.next=j}d.pending=g}ei=null}return a}function J1(a,l){do{var d=ht;try{if(Dh(),Su.current=Cu,bu){for(var g=Ze.memoizedState;g!==null;){var v=g.queue;v!==null&&(v.pending=null),g=g.next}bu=!1}if(ti=0,Et=vt=Ze=null,Sa=!1,ba=0,wf.current=null,d===null||d.return===null){xt=1,Ra=l,ht=null;break}e:{var w=a,j=d.return,L=d,B=l;if(l=Ot,L.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var J=B,fe=L,_e=fe.tag;if(!(fe.mode&1)&&(_e===0||_e===11||_e===15)){var ae=fe.alternate;ae?(fe.updateQueue=ae.updateQueue,fe.memoizedState=ae.memoizedState,fe.lanes=ae.lanes):(fe.updateQueue=null,fe.memoizedState=null)}var He=b1(j);if(He!==null){He.flags&=-257,k1(He,j,L,w,l),He.mode&1&&S1(w,J,l),l=He,B=J;var De=l.updateQueue;if(De===null){var un=new Set;un.add(B),l.updateQueue=un}else De.add(B);break e}else{if(!(l&1)){S1(w,J,l),Pf();break e}B=Error(o(426))}}else if(Ye&&L.mode&1){var Fr=b1(j);if(Fr!==null){!(Fr.flags&65536)&&(Fr.flags|=256),k1(Fr,j,L,w,l),Lh(no(B,L));break e}}w=B=no(B,L),xt!==4&&(xt=2),Oa===null?Oa=[w]:Oa.push(w),w=j;do{switch(w.tag){case 3:w.flags|=65536,l&=-l,w.lanes|=l;var F=w1(w,B,l);qm(w,F);break e;case 1:L=B;var D=w.type,W=w.stateNode;if(!(w.flags&128)&&(typeof D.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(ls===null||!ls.has(W)))){w.flags|=65536,l&=-l,w.lanes|=l;var le=_1(w,L,l);qm(w,le);break e}}w=w.return}while(w!==null)}ty(d)}catch(me){l=me,ht===d&&d!==null&&(ht=d=d.return);continue}break}while(!0)}function Z1(){var a=zu.current;return zu.current=Cu,a===null?Cu:a}function Pf(){(xt===0||xt===3||xt===2)&&(xt=4),Ct===null||!(ni&268435455)&&!(Uu&268435455)||ds(Ct,Ot)}function Vu(a,l){var d=Ee;Ee|=2;var g=Z1();(Ct!==a||Ot!==l)&&(Dr=null,ri(a,l));do try{x6();break}catch(v){J1(a,v)}while(!0);if(Dh(),Ee=d,zu.current=g,ht!==null)throw Error(o(261));return Ct=null,Ot=0,xt}function x6(){for(;ht!==null;)ey(ht)}function w6(){for(;ht!==null&&!V5();)ey(ht)}function ey(a){var l=sy(a.alternate,a,Sn);a.memoizedProps=a.pendingProps,l===null?ty(a):ht=l,wf.current=null}function ty(a){var l=a;do{var d=l.alternate;if(a=l.return,l.flags&32768){if(d=f6(d,l),d!==null){d.flags&=32767,ht=d;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{xt=6,ht=null;return}}else if(d=h6(d,l,Sn),d!==null){ht=d;return}if(l=l.sibling,l!==null){ht=l;return}ht=l=a}while(l!==null);xt===0&&(xt=5)}function si(a,l,d){var g=Re,v=at.transition;try{at.transition=null,Re=1,_6(a,l,d,g)}finally{at.transition=v,Re=g}return null}function _6(a,l,d,g){do ii();while(us!==null);if(Ee&6)throw Error(o(327));d=a.finishedWork;var v=a.finishedLanes;if(d===null)return null;if(a.finishedWork=null,a.finishedLanes=0,d===a.current)throw Error(o(177));a.callbackNode=null,a.callbackPriority=0;var w=d.lanes|d.childLanes;if(H5(a,w),a===Ct&&(ht=Ct=null,Ot=0),!(d.subtreeFlags&2064)&&!(d.flags&2064)||Gu||(Gu=!0,iy(Ph,function(){return ii(),null})),w=(d.flags&15990)!==0,d.subtreeFlags&15990||w){w=at.transition,at.transition=null;var j=Re;Re=1;var L=Ee;Ee|=4,wf.current=null,g6(a,d),W1(d,a),oe(a.containerInfo),a.current=d,m6(d),q5(),Ee=L,Re=j,at.transition=w}else a.current=d;if(Gu&&(Gu=!1,us=a,Wu=v),w=a.pendingLanes,w===0&&(ls=null),X5(d.stateNode),ln(a,kt()),l!==null)for(g=a.onRecoverableError,d=0;d<l.length;d++)v=l[d],g(v.value,{componentStack:v.stack,digest:v.digest});if(Bu)throw Bu=!1,a=kf,kf=null,a;return Wu&1&&a.tag!==0&&ii(),w=a.pendingLanes,w&1?a===Ef?Aa++:(Aa=0,Ef=a):Aa=0,yr(),null}function ii(){if(us!==null){var a=Am(Wu),l=at.transition,d=Re;try{if(at.transition=null,Re=16>a?16:a,us===null)var g=!1;else{if(a=us,us=null,Wu=0,Ee&6)throw Error(o(331));var v=Ee;for(Ee|=4,ce=a.current;ce!==null;){var w=ce,j=w.child;if(ce.flags&16){var L=w.deletions;if(L!==null){for(var B=0;B<L.length;B++){var J=L[B];for(ce=J;ce!==null;){var fe=ce;switch(fe.tag){case 0:case 11:case 15:Pa(8,fe,w)}var _e=fe.child;if(_e!==null)_e.return=fe,ce=_e;else for(;ce!==null;){fe=ce;var ae=fe.sibling,He=fe.return;if(z1(fe),fe===J){ce=null;break}if(ae!==null){ae.return=He,ce=ae;break}ce=He}}}var De=w.alternate;if(De!==null){var un=De.child;if(un!==null){De.child=null;do{var Fr=un.sibling;un.sibling=null,un=Fr}while(un!==null)}}ce=w}}if(w.subtreeFlags&2064&&j!==null)j.return=w,ce=j;else e:for(;ce!==null;){if(w=ce,w.flags&2048)switch(w.tag){case 0:case 11:case 15:Pa(9,w,w.return)}var F=w.sibling;if(F!==null){F.return=w.return,ce=F;break e}ce=w.return}}var D=a.current;for(ce=D;ce!==null;){j=ce;var W=j.child;if(j.subtreeFlags&2064&&W!==null)W.return=j,ce=W;else e:for(j=D;ce!==null;){if(L=ce,L.flags&2048)try{switch(L.tag){case 0:case 11:case 15:Au(9,L)}}catch(me){Xe(L,L.return,me)}if(L===j){ce=null;break e}var le=L.sibling;if(le!==null){le.return=L.return,ce=le;break e}ce=L.return}}if(Ee=v,yr(),mr&&typeof mr.onPostCommitFiberRoot=="function")try{mr.onPostCommitFiberRoot(cu,a)}catch{}g=!0}return g}finally{Re=d,at.transition=l}}return!1}function ny(a,l,d){l=no(d,l),l=w1(a,l,1),a=as(a,l,1),l=Ut(),a!==null&&(ya(a,1,l),ln(a,l))}function Xe(a,l,d){if(a.tag===3)ny(a,a,d);else for(;l!==null;){if(l.tag===3){ny(l,a,d);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ls===null||!ls.has(g))){a=no(d,a),a=_1(l,a,1),l=as(l,a,1),a=Ut(),l!==null&&(ya(l,1,a),ln(l,a));break}}l=l.return}}function S6(a,l,d){var g=a.pingCache;g!==null&&g.delete(l),l=Ut(),a.pingedLanes|=a.suspendedLanes&d,Ct===a&&(Ot&d)===d&&(xt===4||xt===3&&(Ot&130023424)===Ot&&500>kt()-Sf?ri(a,0):_f|=d),ln(a,l)}function ry(a,l){l===0&&(a.mode&1?(l=lu,lu<<=1,!(lu&130023424)&&(lu=4194304)):l=1);var d=Ut();a=vr(a,l),a!==null&&(ya(a,l,d),ln(a,d))}function b6(a){var l=a.memoizedState,d=0;l!==null&&(d=l.retryLane),ry(a,d)}function k6(a,l){var d=0;switch(a.tag){case 13:var g=a.stateNode,v=a.memoizedState;v!==null&&(d=v.retryLane);break;case 19:g=a.stateNode;break;default:throw Error(o(314))}g!==null&&g.delete(l),ry(a,d)}var sy;sy=function(a,l,d){if(a!==null)if(a.memoizedProps!==l.pendingProps||rn.current)on=!0;else{if(!(a.lanes&d)&&!(l.flags&128))return on=!1,d6(a,l,d);on=!!(a.flags&131072)}else on=!1,Ye&&l.flags&1048576&&Mm(l,fu,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;Pu(a,l),a=l.pendingProps;var v=qi(l,Mt.current);Zi(l,d),v=Kh(null,l,g,a,v,d);var w=Yh();return l.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,sn(g)?(w=!0,ou(l)):w=!1,l.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,Bh(l),v.updater=ju,l.stateNode=v,v._reactInternals=l,tf(l,g,a,d),l=of(null,l,g,!0,w,d)):(l.tag=0,Ye&&w&&Rh(l),Kt(null,l,v,d),l=l.child),l;case 16:g=l.elementType;e:{switch(Pu(a,l),a=l.pendingProps,v=g._init,g=v(g._payload),l.type=g,v=l.tag=C6(g),a=tr(g,a),v){case 0:l=sf(null,l,g,a,d);break e;case 1:l=T1(null,l,g,a,d);break e;case 11:l=E1(null,l,g,a,d);break e;case 14:l=C1(null,l,g,tr(g.type,a),d);break e}throw Error(o(306,g,""))}return l;case 0:return g=l.type,v=l.pendingProps,v=l.elementType===g?v:tr(g,v),sf(a,l,g,v,d);case 1:return g=l.type,v=l.pendingProps,v=l.elementType===g?v:tr(g,v),T1(a,l,g,v,d);case 3:e:{if(R1(l),a===null)throw Error(o(387));g=l.pendingProps,w=l.memoizedState,v=w.element,Vm(a,l),wu(l,g,null,d);var j=l.memoizedState;if(g=j.element,tn&&w.isDehydrated)if(w={element:g,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){v=no(Error(o(423)),l),l=O1(a,l,g,d,v);break e}else if(g!==v){v=no(Error(o(424)),l),l=O1(a,l,g,d,v);break e}else for(tn&&(Fn=C5(l.stateNode.containerInfo),_n=l,Ye=!0,er=null,va=!1),d=Wm(l,null,g,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Xi(),g===v){l=Mr(a,l,d);break e}Kt(a,l,g,d)}l=l.child}return l;case 5:return Ym(l),a===null&&Ih(l),g=l.type,v=l.pendingProps,w=a!==null?a.memoizedProps:null,j=v.children,qt(g,v)?j=null:w!==null&&qt(g,w)&&(l.flags|=32),P1(a,l),Kt(a,l,j,d),l.child;case 6:return a===null&&Ih(l),null;case 13:return A1(a,l,d);case 4:return Gh(l,l.stateNode.containerInfo),g=l.pendingProps,a===null?l.child=Qi(l,null,g,d):Kt(a,l,g,d),l.child;case 11:return g=l.type,v=l.pendingProps,v=l.elementType===g?v:tr(g,v),E1(a,l,g,v,d);case 7:return Kt(a,l,l.pendingProps,d),l.child;case 8:return Kt(a,l,l.pendingProps.children,d),l.child;case 12:return Kt(a,l,l.pendingProps.children,d),l.child;case 10:e:{if(g=l.type._context,v=l.pendingProps,w=l.memoizedProps,j=v.value,$m(l,g,j),w!==null)if(Zn(w.value,j)){if(w.children===v.children&&!rn.current){l=Mr(a,l,d);break e}}else for(w=l.child,w!==null&&(w.return=l);w!==null;){var L=w.dependencies;if(L!==null){j=w.child;for(var B=L.firstContext;B!==null;){if(B.context===g){if(w.tag===1){B=Lr(-1,d&-d),B.tag=2;var J=w.updateQueue;if(J!==null){J=J.shared;var fe=J.pending;fe===null?B.next=B:(B.next=fe.next,fe.next=B),J.pending=B}}w.lanes|=d,B=w.alternate,B!==null&&(B.lanes|=d),zh(w.return,d,l),L.lanes|=d;break}B=B.next}}else if(w.tag===10)j=w.type===l.type?null:w.child;else if(w.tag===18){if(j=w.return,j===null)throw Error(o(341));j.lanes|=d,L=j.alternate,L!==null&&(L.lanes|=d),zh(j,d,l),j=w.sibling}else j=w.child;if(j!==null)j.return=w;else for(j=w;j!==null;){if(j===l){j=null;break}if(w=j.sibling,w!==null){w.return=j.return,j=w;break}j=j.return}w=j}Kt(a,l,v.children,d),l=l.child}return l;case 9:return v=l.type,g=l.pendingProps.children,Zi(l,d),v=zn(v),g=g(v),l.flags|=1,Kt(a,l,g,d),l.child;case 14:return g=l.type,v=tr(g,l.pendingProps),v=tr(g.type,v),C1(a,l,g,v,d);case 15:return j1(a,l,l.type,l.pendingProps,d);case 17:return g=l.type,v=l.pendingProps,v=l.elementType===g?v:tr(g,v),Pu(a,l),l.tag=1,sn(g)?(a=!0,ou(l)):a=!1,Zi(l,d),v1(l,g,v),tf(l,g,v,d),of(null,l,g,!0,a,d);case 19:return L1(a,l,d);case 22:return N1(a,l,d)}throw Error(o(156,l.tag))};function iy(a,l){return jh(a,l)}function E6(a,l,d,g){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(a,l,d,g){return new E6(a,l,d,g)}function Tf(a){return a=a.prototype,!(!a||!a.isReactComponent)}function C6(a){if(typeof a=="function")return Tf(a)?1:0;if(a!=null){if(a=a.$$typeof,a===b)return 11;if(a===S)return 14}return 2}function hs(a,l){var d=a.alternate;return d===null?(d=Wn(a.tag,l,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=l,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&14680064,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,l=a.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d}function qu(a,l,d,g,v,w){var j=2;if(g=a,typeof a=="function")Tf(a)&&(j=1);else if(typeof a=="string")j=5;else e:switch(a){case p:return oi(d.children,v,w,l);case m:j=8,v|=8;break;case y:return a=Wn(12,d,l,v|2),a.elementType=y,a.lanes=w,a;case C:return a=Wn(13,d,l,v),a.elementType=C,a.lanes=w,a;case k:return a=Wn(19,d,l,v),a.elementType=k,a.lanes=w,a;case N:return Ku(d,v,w,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case _:j=10;break e;case x:j=9;break e;case b:j=11;break e;case S:j=14;break e;case E:j=16,g=null;break e}throw Error(o(130,a==null?a:typeof a,""))}return l=Wn(j,d,l,v),l.elementType=a,l.type=g,l.lanes=w,l}function oi(a,l,d,g){return a=Wn(7,a,g,l),a.lanes=d,a}function Ku(a,l,d,g){return a=Wn(22,a,g,l),a.elementType=N,a.lanes=d,a.stateNode={isHidden:!1},a}function Rf(a,l,d){return a=Wn(6,a,null,l),a.lanes=d,a}function Of(a,l,d){return l=Wn(4,a.children!==null?a.children:[],a.key,l),l.lanes=d,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function j6(a,l,d,g,v){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=xn,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Eh(0),this.expirationTimes=Eh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eh(0),this.identifierPrefix=g,this.onRecoverableError=v,tn&&(this.mutableSourceEagerHydrationData=null)}function oy(a,l,d,g,v,w,j,L,B){return a=new j6(a,l,d,L,B),l===1?(l=1,w===!0&&(l|=8)):l=0,w=Wn(3,null,null,l),a.current=w,w.stateNode=a,w.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bh(w),a}function ay(a){if(!a)return is;a=a._reactInternals;e:{if(U(a)!==a||a.tag!==1)throw Error(o(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(sn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(o(171))}if(a.tag===1){var d=a.type;if(sn(d))return Tm(a,d,l)}return l}function ly(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(o(188)):(a=Object.keys(a).join(","),Error(o(268,a)));return a=q(l),a===null?null:a.stateNode}function uy(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<l?d:l}}function Yu(a,l){uy(a,l),(a=a.alternate)&&uy(a,l)}function N6(a){return a=q(a),a===null?null:a.stateNode}function P6(){return null}return n.attemptContinuousHydration=function(a){if(a.tag===13){var l=vr(a,134217728);if(l!==null){var d=Ut();Gn(l,a,134217728,d)}Yu(a,134217728)}},n.attemptDiscreteHydration=function(a){if(a.tag===13){var l=vr(a,1);if(l!==null){var d=Ut();Gn(l,a,1,d)}Yu(a,1)}},n.attemptHydrationAtCurrentPriority=function(a){if(a.tag===13){var l=cs(a),d=vr(a,l);if(d!==null){var g=Ut();Gn(d,a,l,g)}Yu(a,l)}},n.attemptSynchronousHydration=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var d=ma(l.pendingLanes);d!==0&&(Ch(l,d|1),ln(l,kt()),!(Ee&6)&&(io(),yr()))}break;case 13:Q1(function(){var g=vr(a,1);if(g!==null){var v=Ut();Gn(g,a,1,v)}}),Yu(a,1)}},n.batchedUpdates=function(a,l){var d=Ee;Ee|=1;try{return a(l)}finally{Ee=d,Ee===0&&(io(),du&&yr())}},n.createComponentSelector=function(a){return{$$typeof:Iu,value:a}},n.createContainer=function(a,l,d,g,v,w,j){return oy(a,l,!1,null,d,g,v,w,j)},n.createHasPseudoClassSelector=function(a){return{$$typeof:Lu,value:a}},n.createHydrationContainer=function(a,l,d,g,v,w,j,L,B){return a=oy(d,g,!0,a,v,w,j,L,B),a.context=ay(null),d=a.current,g=Ut(),v=cs(d),w=Lr(g,v),w.callback=l??null,as(d,w,v),a.current.lanes=v,ya(a,v,g),ln(a,g),a},n.createPortal=function(a,l,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:g==null?null:""+g,children:a,containerInfo:l,implementation:d}},n.createRoleSelector=function(a){return{$$typeof:Mu,value:a}},n.createTestNameSelector=function(a){return{$$typeof:Du,value:a}},n.createTextSelector=function(a){return{$$typeof:Fu,value:a}},n.deferredUpdates=function(a){var l=Re,d=at.transition;try{return at.transition=null,Re=16,a()}finally{Re=l,at.transition=d}},n.discreteUpdates=function(a,l,d,g,v){var w=Re,j=at.transition;try{return at.transition=null,Re=1,a(l,d,g,v)}finally{Re=w,at.transition=j,Ee===0&&io()}},n.findAllNodes=xf,n.findBoundingRects=function(a,l){if(!Ys)throw Error(o(363));l=xf(a,l),a=[];for(var d=0;d<l.length;d++)a.push(yh(l[d]));for(l=a.length-1;0<l;l--){d=a[l];for(var g=d.x,v=g+d.width,w=d.y,j=w+d.height,L=l-1;0<=L;L--)if(l!==L){var B=a[L],J=B.x,fe=J+B.width,_e=B.y,ae=_e+B.height;if(g>=J&&w>=_e&&v<=fe&&j<=ae){a.splice(l,1);break}else if(g!==J||d.width!==B.width||ae<w||_e>j){if(!(w!==_e||d.height!==B.height||fe<g||J>v)){J>g&&(B.width+=J-g,B.x=g),fe<v&&(B.width=v-J),a.splice(l,1);break}}else{_e>w&&(B.height+=_e-w,B.y=w),ae<j&&(B.height=j-_e),a.splice(l,1);break}}}return a},n.findHostInstance=ly,n.findHostInstanceWithNoPortals=function(a){return a=Y(a),a=a!==null?ie(a):null,a===null?null:a.stateNode},n.findHostInstanceWithWarning=function(a){return ly(a)},n.flushControlled=function(a){var l=Ee;Ee|=1;var d=at.transition,g=Re;try{at.transition=null,Re=1,a()}finally{Re=g,at.transition=d,Ee=l,Ee===0&&(io(),yr())}},n.flushPassiveEffects=ii,n.flushSync=Q1,n.focusWithin=function(a,l){if(!Ys)throw Error(o(363));for(a=mf(a),l=K1(a,l),l=Array.from(l),a=0;a<l.length;){var d=l[a++];if(!Xs(d)){if(d.tag===5&&Gi(d.stateNode))return!0;for(d=d.child;d!==null;)l.push(d),d=d.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Re},n.getFindAllNodesFailureDescription=function(a,l){if(!Ys)throw Error(o(363));var d=0,g=[];a=[mf(a),0];for(var v=0;v<a.length;){var w=a[v++],j=a[v++],L=l[j];if((w.tag!==5||!Xs(w))&&(yf(w,L)&&(g.push(vf(L)),j++,j>d&&(d=j)),j<l.length))for(w=w.child;w!==null;)a.push(w,j),w=w.sibling}if(d<l.length){for(a=[];d<l.length;d++)a.push(vf(l[d]));return`findAllNodes was able to match part of the selector:
  `+(g.join(" > ")+`

No matching component was found for:
  `)+a.join(" > ")}return null},n.getPublicRootInstance=function(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return H(a.child.stateNode);default:return a.child.stateNode}},n.injectIntoDevTools=function(a){if(a={bundleType:a.bundleType,version:a.version,rendererPackageName:a.rendererPackageName,rendererConfig:a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:u.ReactCurrentDispatcher,findHostInstanceByFiber:N6,findFiberByHostInstance:a.findFiberByHostInstance||P6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")a=!1;else{var l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(l.isDisabled||!l.supportsFiber)a=!0;else{try{cu=l.inject(a),mr=l}catch{}a=!!l.checkDCE}}return a},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(a,l,d,g){if(!Ys)throw Error(o(363));a=xf(a,l);var v=fa(a,d,g).disconnect;return{disconnect:function(){v()}}},n.registerMutableSourceForHydration=function(a,l){var d=l._getVersion;d=d(l._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[l,d]:a.mutableSourceEagerHydrationData.push(l,d)},n.runWithPriority=function(a,l){var d=Re;try{return Re=a,l()}finally{Re=d}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(a,l,d,g){var v=l.current,w=Ut(),j=cs(v);return d=ay(d),l.context===null?l.context=d:l.pendingContext=d,l=Lr(w,j),l.payload={element:a},g=g===void 0?null:g,g!==null&&(l.callback=g),a=as(v,l,j),a!==null&&(Gn(a,v,j,w),xu(a,v,j)),j},n};V_.exports=EP;var CP=V_.exports;const jP=Id(CP);var q_={exports:{}},Ui={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Ui.ConcurrentRoot=1;Ui.ContinuousEventPriority=4;Ui.DefaultEventPriority=16;Ui.DiscreteEventPriority=1;Ui.IdleEventPriority=536870912;Ui.LegacyRoot=0;q_.exports=Ui;var K_=q_.exports;const Q2={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let J2=!1,Z2=!1;const _m=".react-konva-event",NP=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,PP=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,TP={};function uh(t,e,n=TP){if(!J2&&"zIndex"in e&&(console.warn(PP),J2=!0),!Z2&&e.draggable){var r=e.x!==void 0||e.y!==void 0,s=e.onDragEnd||e.onDragMove;r&&!s&&(console.warn(NP),Z2=!0)}for(var i in n)if(!Q2[i]){var o=i.slice(0,2)==="on",u=n[i]!==e[i];if(o&&u){var c=i.substr(2).toLowerCase();c.substr(0,7)==="content"&&(c="content"+c.substr(7,1).toUpperCase()+c.substr(8)),t.off(c,n[i])}var h=!e.hasOwnProperty(i);h&&t.setAttr(i,void 0)}var p=e._useStrictMode,m={},y=!1;const _={};for(var i in e)if(!Q2[i]){var o=i.slice(0,2)==="on",x=n[i]!==e[i];if(o&&x){var c=i.substr(2).toLowerCase();c.substr(0,7)==="content"&&(c="content"+c.substr(7,1).toUpperCase()+c.substr(8)),e[i]&&(_[c]=e[i])}!o&&(e[i]!==n[i]||p&&e[i]!==t.getAttr(i))&&(y=!0,m[i]=e[i])}y&&(t.setAttrs(m),Ks(t));for(var c in _)t.on(c+_m,_[c])}function Ks(t){if(!se.autoDrawEnabled){var e=t.getLayer()||t.getStage();e&&e.batchDraw()}}const Y_={},RP={};Ti.Node.prototype._applyProps=uh;function OP(t,e){if(typeof e=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${e}`);return}t.add(e),Ks(t)}function AP(t,e,n){let r=Ti[t];r||(console.error(`Konva has no node with the type ${t}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${t}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),r=Ti.Group);const s={},i={};for(var o in e){var u=o.slice(0,2)==="on";u?i[o]=e[o]:s[o]=e[o]}const c=new r(s);return uh(c,i),c}function IP(t,e,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${t}"`)}function LP(t,e,n){return!1}function MP(t){return t}function DP(){return null}function FP(){return null}function zP(t,e,n,r){return RP}function UP(){}function BP(t){}function GP(t,e){return!1}function WP(){return Y_}function $P(){return Y_}const HP=setTimeout,VP=clearTimeout,qP=-1;function KP(t,e){return!1}const YP=!1,XP=!0,QP=!0;function JP(t,e){e.parent===t?e.moveToTop():t.add(e),Ks(t)}function ZP(t,e){e.parent===t?e.moveToTop():t.add(e),Ks(t)}function X_(t,e,n){e._remove(),t.add(e),e.setZIndex(n.getZIndex()),Ks(t)}function eT(t,e,n){X_(t,e,n)}function tT(t,e){e.destroy(),e.off(_m),Ks(t)}function nT(t,e){e.destroy(),e.off(_m),Ks(t)}function rT(t,e,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function sT(t,e,n){}function iT(t,e,n,r,s){uh(t,s,r)}function oT(t){t.hide(),Ks(t)}function aT(t){}function lT(t,e){(e.visible==null||e.visible)&&t.show()}function uT(t,e){}function cT(t){}function dT(){}const hT=()=>K_.DefaultEventPriority,fT=Object.freeze(Object.defineProperty({__proto__:null,appendChild:JP,appendChildToContainer:ZP,appendInitialChild:OP,cancelTimeout:VP,clearContainer:cT,commitMount:sT,commitTextUpdate:rT,commitUpdate:iT,createInstance:AP,createTextInstance:IP,detachDeletedInstance:dT,finalizeInitialChildren:LP,getChildHostContext:$P,getCurrentEventPriority:hT,getPublicInstance:MP,getRootHostContext:WP,hideInstance:oT,hideTextInstance:aT,idlePriority:ol.unstable_IdlePriority,insertBefore:X_,insertInContainerBefore:eT,isPrimaryRenderer:YP,noTimeout:qP,now:ol.unstable_now,prepareForCommit:DP,preparePortalMount:FP,prepareUpdate:zP,removeChild:tT,removeChildFromContainer:nT,resetAfterCommit:UP,resetTextContent:BP,run:ol.unstable_runWithPriority,scheduleTimeout:HP,shouldDeprioritizeSubtree:GP,shouldSetTextContent:KP,supportsMutation:QP,unhideInstance:lT,unhideTextInstance:uT,warnsIfNotActing:XP},Symbol.toStringTag,{value:"Module"}));var pT=Object.defineProperty,gT=Object.defineProperties,mT=Object.getOwnPropertyDescriptors,ex=Object.getOwnPropertySymbols,yT=Object.prototype.hasOwnProperty,vT=Object.prototype.propertyIsEnumerable,tx=(t,e,n)=>e in t?pT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nx=(t,e)=>{for(var n in e||(e={}))yT.call(e,n)&&tx(t,n,e[n]);if(ex)for(var n of ex(e))vT.call(e,n)&&tx(t,n,e[n]);return t},xT=(t,e)=>gT(t,mT(e)),rx,sx;typeof window<"u"&&((rx=window.document)!=null&&rx.createElement||((sx=window.navigator)==null?void 0:sx.product)==="ReactNative")?A.useLayoutEffect:A.useEffect;function Q_(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const s=Q_(r,e,n);if(s)return s;r=r.sibling}}function J_(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const ix=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=ix;return}return ix.apply(this,arguments)};const Sm=J_(A.createContext(null));class Z_ extends A.Component{render(){return A.createElement(Sm.Provider,{value:this._reactInternals},this.props.children)}}function wT(){const t=A.useContext(Sm);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=A.useId();return A.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const s=Q_(r,!1,i=>{let o=i.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(s)return s}},[t,e])}function _T(){const t=wT(),[e]=A.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const s=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;s&&s!==Sm&&!e.has(s)&&e.set(s,A.useContext(J_(s)))}n=n.return}return e}function ST(){const t=_T();return A.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>A.createElement(e,null,A.createElement(n.Provider,xT(nx({},r),{value:t.get(n)}))),e=>A.createElement(Z_,nx({},e))),[t])}function bT(t){const e=xe.useRef({});return xe.useLayoutEffect(()=>{e.current=t}),xe.useLayoutEffect(()=>()=>{e.current={}},[]),e.current}const kT=t=>{const e=xe.useRef(null),n=xe.useRef(null),r=xe.useRef(null),s=bT(t),i=ST(),o=u=>{const{forwardedRef:c}=t;c&&(typeof c=="function"?c(u):c.current=u)};return xe.useLayoutEffect(()=>(n.current=new Ti.Stage({width:t.width,height:t.height,container:e.current}),o(n.current),r.current=il.createContainer(n.current,K_.LegacyRoot,!1,null),il.updateContainer(xe.createElement(i,{},t.children),r.current),()=>{Ti.isBrowser&&(o(null),il.updateContainer(null,r.current,null),n.current.destroy())}),[]),xe.useLayoutEffect(()=>{o(n.current),uh(n.current,t,s),il.updateContainer(xe.createElement(i,{},t.children),r.current,null)}),xe.createElement("div",{ref:e,id:t.id,accessKey:t.accessKey,className:t.className,role:t.role,style:t.style,tabIndex:t.tabIndex,title:t.title})},ET="Layer",ox="Image",CT="Transformer",il=jP(fT);il.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:xe.version,rendererPackageName:"react-konva"});const jT=xe.forwardRef((t,e)=>xe.createElement(Z_,{},xe.createElement(kT,{...t,forwardedRef:e}))),e5=A.forwardRef(({tshirtColor:t="white",artworks:e=[],onArtworkPositionChange:n,view:r="front"},s)=>{const[i,o]=A.useState(null),[u,c]=A.useState([]),[h,p]=A.useState(null),[m]=A.useState(null),y=A.useRef([]),_=A.useRef(null),x=A.useRef(null),b=A.useRef({front:null,back:null,neck:null}),C=A.useRef("front"),[k,S]=A.useState({width:550,height:650});A.useImperativeHandle(s,()=>({downloadImage:()=>{if(x.current){const R=x.current.toDataURL({pixelRatio:3,mimeType:"image/png",quality:1}),I=document.createElement("a");I.download="tshirt-design.png",I.href=R,document.body.appendChild(I),I.click(),document.body.removeChild(I)}},getThumbnail:()=>x.current?x.current.toDataURL({pixelRatio:1,mimeType:"image/png",quality:.8}):null,captureImage:()=>x.current?x.current.toDataURL({pixelRatio:2,mimeType:"image/png",quality:.9}):null,getThumbnailBlob:async()=>{if(x.current){const R=x.current.toDataURL({pixelRatio:1,mimeType:"image/png",quality:.8});return await(await fetch(R)).blob()}return null}}));const E=R=>{const I=R.toLowerCase();return I==="navy"?{front:"/assets/navy-front.png",back:"/assets/navy-back.png",neck:"/assets/navy-neck.png"}:I==="black"?{front:"/assets/black-front.png",back:"/assets/black-back.png",neck:"/assets/black-neck.png"}:{front:"/assets/blank-tshirt.png",back:"/assets/back-tshirt.jpeg",neck:"/assets/neck-tshirt.jpeg"}};A.useEffect(()=>{const R=U=>new Promise($=>{const Y=new window.Image;Y.src=U,Y.crossOrigin="anonymous",Y.onload=()=>$(Y),Y.onerror=()=>$(Y)}),I=E(t);Promise.all([R(I.front),R(I.back),R(I.neck)]).then(([U,$,Y])=>{b.current.front=U,b.current.back=$,b.current.neck=Y;const q=r==="neck"?Y:r==="back"?$:U;if(r==="neck"){const ne=q.width/q.height,ie=1600,V=950;let H=ie,ge=H/ne;ge<V&&(ge=V,H=ge*ne),S({width:H,height:ge})}else{const ne=q.width/q.height,ie=600,V=700;let H=ie,ge=ie/ne;if(ge>V&&(ge=V,H=V*ne),r==="back"){const G=(t==null?void 0:t.toLowerCase())||"";G==="white"||G===""?(H=H*1.1,ge=ge*1.1):G==="navy"&&(H=H*1.02,ge=ge*1.02)}S({width:H,height:ge})}o(q)})},[t,r]),A.useEffect(()=>{if(r===C.current)return;const R=r==="neck"?b.current.neck:r==="back"?b.current.back:b.current.front;if(R){if(r==="neck"){const I=R.width/R.height,U=1600,$=950;let Y=U,q=Y/I;q<$&&(q=$,Y=q*I),S({width:Y,height:q})}else{const $=R.width/R.height;let Y=600,q=600/$;if(q>700&&(q=700,Y=700*$),r==="back"){const ne=(t==null?void 0:t.toLowerCase())||"";ne==="white"||ne===""?(Y=Y*1.1,q=q*1.1):ne==="navy"&&(Y=Y*1.02,q=q*1.02)}S({width:Y,height:q})}o(R),C.current=r}},[r]);const N=A.useRef(new Map);A.useEffect(()=>{if(e.length===0){c([]),p(null),y.current=[];return}(async()=>{const I=e.map(U=>{const $=N.current.get(U.url);return $?Promise.resolve($):new Promise((Y,q)=>{const ne=new window.Image;ne.src=U.url,ne.crossOrigin="anonymous",ne.onload=()=>{N.current.set(U.url,ne),Y(ne)},ne.onerror=q})});try{const U=await Promise.all(I);c(U),y.current=new Array(U.length).fill(null);const $=e[e.length-1];$&&!$.position&&p(`artwork-${e.length-1}`)}catch(U){console.error("Failed to load artworks:",U)}})()},[e]),A.useEffect(()=>{var R;if(h&&_.current){const I=parseInt(h.split("-")[1]),U=y.current[I];U&&(_.current.nodes([U]),(R=_.current.getLayer())==null||R.batchDraw())}},[h]);const O=R=>{const I=y.current[R];I&&n&&n({x:I.x(),y:I.y(),scaleX:I.scaleX(),scaleY:I.scaleY(),rotation:I.rotation()},R)},T=R=>{const I=R.target===R.target.getStage(),U=R.target.image===i;(I||U)&&p(null)};return m?f.jsx("div",{className:"relative w-full h-full flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-gray-500 mb-2",children:m}),f.jsx("p",{className:"text-xs text-gray-400",children:"Using fallback preview"})]})}):f.jsxs("div",{className:"relative w-full h-full flex items-center justify-center overflow-hidden",children:[u.length>0&&h&&f.jsx("div",{className:"absolute top-3 left-1/2 -translate-x-1/2 bg-black/80 text-white text-xs px-4 py-2 rounded-full z-10",children:"Drag to move • Corners to resize • Rotate to spin • Click away to finish"}),u.length>0&&!h&&f.jsx("div",{className:"absolute top-3 left-1/2 -translate-x-1/2 bg-gray-800/60 text-white text-xs px-4 py-2 rounded-full z-10",children:"Click artwork to edit position and size"}),f.jsx(jT,{ref:x,width:k.width,height:k.height,onMouseDown:T,onTouchStart:T,children:f.jsxs(ET,{children:[i&&f.jsx(ox,{image:i,x:0,y:0,width:k.width,height:k.height,onClick:()=>p(null),onTap:()=>p(null),...r==="neck"?{crop:{x:0,y:0,width:i.width,height:i.height}}:{}}),u.map((R,I)=>{var V,H,ge,G,re;const U=e[I];if(!U)return null;const $=250,Y=250,q=R.width/R.height;let ne=$,ie=$/q;return ie>Y&&(ie=Y,ne=Y*q),f.jsxs(xe.Fragment,{children:[f.jsx(ox,{ref:oe=>{y.current[I]=oe},image:R,x:((V=U.position)==null?void 0:V.x)??(r==="neck"?750:200+I*20),y:((H=U.position)==null?void 0:H.y)??(r==="neck"?500:250+I*20),width:ne,height:ie,scaleX:((ge=U.position)==null?void 0:ge.scaleX)??1,scaleY:((G=U.position)==null?void 0:G.scaleY)??1,rotation:((re=U.position)==null?void 0:re.rotation)??0,draggable:!0,dragBoundFunc:oe=>{let X;r==="neck"?X={minX:520,maxX:1080,minY:560,maxY:710}:X={minX:80,maxX:470,minY:100,maxY:550};const he=y.current[I],Me=(he==null?void 0:he.width())||0,yt=(he==null?void 0:he.height())||0,qt=(he==null?void 0:he.scaleX())||1,Zt=(he==null?void 0:he.scaleY())||1,en=Me*qt,Bi=yt*Zt;let xn=oe.x,Qn=oe.y;return xn<X.minX&&(xn=X.minX),xn+en>X.maxX&&(xn=X.maxX-en),Qn<X.minY&&(Qn=X.minY),Qn+Bi>X.maxY&&(Qn=X.maxY-Bi),{x:xn,y:Qn}},onClick:()=>p(`artwork-${I}`),onTap:()=>p(`artwork-${I}`),onDragEnd:()=>O(I),onTransformEnd:()=>O(I)}),h===`artwork-${I}`&&f.jsx(CT,{ref:_,keepRatio:!0,boundBoxFunc:(oe,X)=>X.width<50||X.height<50||X.width>400||X.height>400?oe:X,enabledAnchors:["top-left","top-right","bottom-left","bottom-right"],rotateEnabled:!0,borderStroke:"#000000",borderStrokeWidth:2,anchorSize:12,anchorStroke:"#000000",anchorFill:"#ffffff",anchorCornerRadius:6})]},`artwork-${I}`)})]})})]})});e5.displayName="TShirtCanvas";function NT({isOpen:t,onClose:e,onSave:n,isUpdating:r=!1,currentName:s=""}){const[i,o]=A.useState(s),[u,c]=A.useState(!1),[h,p]=A.useState(!1),[m,y]=A.useState(""),_=async()=>{if(!i.trim()){y("Please enter a name for your design");return}c(!0),y("");try{await n(i.trim()),p(!0),setTimeout(()=>{e(),p(!1),o("")},1500)}catch(b){y(b.message||"Failed to save design"),c(!1)}},x=()=>{u||(e(),o(""),y(""),p(!1))};return t?f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[f.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[f.jsx("h2",{className:"text-2xl font-bold",children:r?"Update Design":"Save Design"}),!u&&f.jsx("button",{onClick:x,className:"text-gray-400 hover:text-gray-600 transition-colors",children:f.jsx(Od,{size:24})})]}),f.jsx("div",{className:"p-6",children:h?f.jsxs("div",{className:"text-center py-8",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:f.jsx(a_,{size:32,className:"text-green-600"})}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:r?"Design Updated!":"Design Saved!"}),f.jsxs("p",{className:"text-gray-600",children:['Your design "',i,'" has been saved to your dashboard']})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"mb-6",children:[f.jsx("label",{htmlFor:"design-name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Design Name"}),f.jsx("input",{id:"design-name",type:"text",value:i,onChange:b=>o(b.target.value),onKeyPress:b=>b.key==="Enter"&&_(),placeholder:"e.g., Summer Collection Tee",className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",disabled:u,autoFocus:!0}),m&&f.jsx("p",{className:"mt-2 text-sm text-red-600",children:m})]}),f.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:f.jsxs("p",{className:"text-sm text-gray-600",children:["💡 ",f.jsx("strong",{children:"Tip:"})," Give your design a memorable name so you can easily find it later!"]})})]})}),!h&&f.jsxs("div",{className:"flex gap-3 p-6 border-t border-gray-200",children:[f.jsx("button",{onClick:x,disabled:u,className:"flex-1 px-4 py-3 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),f.jsx("button",{onClick:_,disabled:u||!i.trim(),className:"flex-1 px-4 py-3 bg-black text-white rounded-md hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u?f.jsxs("span",{className:"flex items-center justify-center gap-2",children:[f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Saving..."]}):r?"Update Design":"Save Design"})]})]})}):null}function PT({message:t,type:e="success",onClose:n,duration:r=3e3}){A.useEffect(()=>{const o=setTimeout(()=>{n()},r);return()=>clearTimeout(o)},[n,r]);const s={success:f.jsx(a_,{size:20}),error:f.jsx(Od,{size:20}),info:f.jsx(l_,{size:20})},i={success:"bg-green-500",error:"bg-red-500",info:"bg-blue-500"};return f.jsxs("div",{className:"fixed bottom-8 right-8 z-50 animate-slideUp",role:"alert",children:[f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden max-w-md",children:[f.jsxs("div",{className:"flex items-center gap-4 p-4",children:[f.jsx("div",{className:`${i[e]} text-white p-2 rounded-xl flex-shrink-0`,children:s[e]}),f.jsx("p",{className:"text-gray-900 font-medium flex-1",children:t}),f.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors p-1","aria-label":"Close",children:f.jsx(Od,{size:18})})]}),f.jsx("div",{className:"h-1 bg-gray-100",children:f.jsx("div",{className:`h-full ${i[e]} transition-all`,style:{animation:`shrink ${r}ms linear`,transformOrigin:"left"}})})]}),f.jsx("style",{children:`
        @keyframes slideUp {
          from {
            transform: translateY(100px);
            opacity: 0;
          }
          to {
            transform: translateY(0);
            opacity: 1;
          }
        }

        @keyframes shrink {
          from {
            width: 100%;
          }
          to {
            width: 0%;
          }
        }
      `})]})}function TT({product:t,variants:e}){const n=Zr(),r=Fo(te=>te.addItem),s=Fo(te=>te.updateItem),i=Fo(te=>te.getItem),o=A.useRef(null),{isAuthenticated:u}=Ii(),[c]=uk(),[h,p]=A.useState(null),[m,y]=A.useState(null),[_,x]=A.useState(""),[b,C]=A.useState(""),[k,S]=A.useState(null),[E]=A.useState(""),[N,O]=A.useState(1),[T,R]=A.useState([]),[I]=A.useState("front_chest"),[U,$]=A.useState("front"),[Y,q]=A.useState([]),[ne,ie]=A.useState(null),[V,H]=A.useState([]),[,ge]=A.useState(null),G=()=>U==="front"?Y:U==="neck"?ne?[ne]:[]:U==="back"?V:[],re=G()[0]||null,[,oe]=A.useState(null),[,X]=A.useState(!1),[he,Me]=A.useState(!1),[yt,qt]=A.useState(""),[Zt,en]=A.useState(!1),[Bi,xn]=A.useState(""),Tt=(()=>{let te=12.98;const ue=Y.length>0,ve=V.length>0,Ce=ne!==null;return[ue,ve].filter(Boolean).length===2&&(te+=5),Ce&&(te+=1),te})(),rs=[...new Set(e.map(te=>te.color))],tn=rs.includes("Navy")?rs:[...rs,"Navy"],dh=[...new Set(e.map(te=>te.size))].sort((te,ue)=>{const ve=["S","M","L","XL","2XL","3XL"];return ve.indexOf(te)-ve.indexOf(ue)});A.useEffect(()=>{if(_&&b){const te=e.find(ue=>ue.color===_&&ue.size===b);S(te||null)}},[_,b,e]),A.useEffect(()=>{const te=c.get("designId");te&&u&&hh(te)},[c,u]),A.useEffect(()=>{const te=c.get("editCartItem");if(te){const ue=i(te);ue&&(y(te),x(ue.variantColor),C(ue.variantSize),O(ue.quantity),ue.customization&&(ue.customization.frontArtworks&&q(ue.customization.frontArtworks),ue.customization.backArtworks&&H(ue.customization.backArtworks),ue.customization.neckArtwork&&ie(ue.customization.neckArtwork)))}},[c,i]);const hh=async te=>{try{const ue=await ml.getById(te);if(p(ue.id),ue.design_data&&(ue.design_data.front&&q(ue.design_data.front.map(ve=>({url:"",position:ve}))),ue.design_data.back&&H(ue.design_data.back.map(ve=>({url:"",position:ve}))),ue.design_data.neck&&ue.design_data.neck.length>0&&ie({url:"",position:ue.design_data.neck[0]})),ue.variant_id){const ve=e.find(Ce=>Ce.id===ue.variant_id);ve&&(x(ve.color),C(ve.size))}}catch(ue){console.error("Error loading design:",ue),alert("Failed to load design")}};A.useEffect(()=>{k&&E&&T.length>0&&fh()},[k,E,T,N]);const fh=async()=>{if(k){X(!0);try{const te=await z9.calculate({variant_id:k.id,method:E,placements:T,quantity:N});oe(te)}catch(te){console.error("Failed to calculate price:",te)}finally{X(!1)}}},ca=async te=>{var ve;const ue=(ve=te.target.files)==null?void 0:ve[0];if(ue)try{if(ue.type==="image/png"||ue.type==="image/jpeg"){const wn=await ue.arrayBuffer(),nn=await ph(wn,ue.type);if(nn&&nn<300&&!window.confirm(`Warning: This image has a DPI of ${nn}, which is below the required 300 DPI for high-quality DTG printing. The print quality may be poor.

Do you want to upload it anyway?`)){te.target.value="";return}}const dt={url:URL.createObjectURL(ue),position:null};if(U==="front")if(Y.length<4)q([...Y,dt]);else{alert("Maximum 4 artworks allowed on front view"),te.target.value="";return}else if(U==="neck"){if(ne){alert("Only 1 artwork allowed on neck view. Remove existing artwork first."),te.target.value="";return}ie(dt)}else if(U==="back")if(V.length<4)H([...V,dt]);else{alert("Maximum 4 artworks allowed on back view"),te.target.value="";return}try{const wn=await $v.uploadFile(ue);ge(wn);const nn={location:I,x:5,y:5,width:4,height:4,artwork_id:wn.id,colors:["#000000"]};R([...T,nn])}catch(wn){console.error("Server upload failed (continuing with local preview):",wn)}te.target.value=""}catch(Ce){console.error("File upload failed:",Ce),alert("Failed to upload file"),te.target.value=""}},ph=async(te,ue)=>{const ve=new DataView(te);try{if(ue==="image/png"){let Ce=8;for(;Ce<ve.byteLength;){const dt=ve.getUint32(Ce);if(String.fromCharCode(ve.getUint8(Ce+4),ve.getUint8(Ce+5),ve.getUint8(Ce+6),ve.getUint8(Ce+7))==="pHYs"){const nn=ve.getUint32(Ce+8);if(ve.getUint8(Ce+16)===1)return Math.round(nn/39.3701)}Ce+=dt+12}}else if(ue==="image/jpeg"){let Ce=2;for(;Ce<ve.byteLength;){if(ve.getUint16(Ce)===65504){const nn=ve.getUint8(Ce+11),Hi=ve.getUint16(Ce+12);if(nn===1)return Hi;if(nn===2)return Math.round(Hi*2.54);break}const wn=ve.getUint16(Ce+2);Ce+=wn+2}}}catch(Ce){console.error("Error reading DPI:",Ce)}return null},gh=()=>{o.current&&o.current.downloadImage&&o.current.downloadImage()},Ys=()=>{if(!u){n("/login",{state:{from:window.location.pathname+window.location.search}});return}Me(!0)},mh=async te=>{try{const ue={front:Y.map(dt=>dt.position),back:V.map(dt=>dt.position),neck:ne?[ne.position]:[]},ve=[];let Ce="";if(o.current&&o.current.getThumbnailBlob)try{const dt=await o.current.getThumbnailBlob();if(dt){const wn=new File([dt],"thumbnail.png",{type:"image/png"});Ce=(await $v.uploadFile(wn)).file_url}}catch(dt){console.error("Failed to capture thumbnail:",dt)}if(h)await ml.update(h,{name:te,variantId:k==null?void 0:k.id,designData:ue,artworkIds:ve,thumbnailUrl:Ce}),qt(te);else{const dt=await ml.save({name:te,productId:t.id,variantId:k==null?void 0:k.id,designData:ue,artworkIds:ve,thumbnailUrl:Ce});p(dt.id),qt(te)}}catch(ue){throw console.error("Error saving design:",ue),ue}},yh=()=>{if(!_||!b){xn("Please select a color and size"),en(!0);return}let te;try{o.current&&o.current.captureImage&&(te=o.current.captureImage())}catch(Ce){console.error("Error capturing mockup:",Ce)}const ue=k||{id:`temp-${_}-${b}`},ve={id:m||`${ue.id}-${Date.now()}`,variantId:ue.id,productTitle:t.title,variantColor:_,variantSize:b,quantity:N,unitPrice:Tt,customization:{method:E||"screen_print",placements:T,frontArtworks:Y,backArtworks:V,neckArtwork:ne},mockupUrl:te};m?(s(m,ve),xn("Cart item updated successfully!")):(r(ve),xn("Added to cart successfully!")),en(!0),setTimeout(()=>{n("/cart")},1500)},[da,Xs]=A.useState(!0),[ha,Gi]=A.useState(!1),[fa,Wi]=A.useState(!1),[pa,$i]=A.useState(!1);return A.useEffect(()=>{U==="neck"?($i(!0),Gi(!1),Wi(!1)):U==="front"?(Gi(!0),Wi(!1),$i(!1)):U==="back"&&(Wi(!0),Gi(!1),$i(!1))},[U]),f.jsxs("div",{className:"min-h-screen bg-white",children:[f.jsx("div",{className:"border-b border-gray-200 bg-white",children:f.jsxs("div",{className:"relative px-6 py-1.5 flex items-center",children:[f.jsx("h1",{className:"text-sm font-bold",children:t.title}),f.jsx(Pe,{to:"/",className:"absolute left-1/2 -translate-x-1/2 text-lg font-bold hover:text-gray-600 transition-colors",children:"Raspberry"}),f.jsxs("div",{className:"ml-auto flex items-center gap-4",children:[f.jsx("button",{onClick:gh,disabled:!re,title:"Download Design",className:`p-2 rounded-md transition-colors ${re?"text-gray-700 hover:bg-gray-100":"text-gray-300 cursor-not-allowed"}`,children:f.jsx(gC,{size:18})}),f.jsxs("button",{onClick:Ys,className:"flex items-center gap-1.5 px-4 py-1.5 text-xs font-medium rounded-md transition-colors bg-black text-white hover:bg-gray-800",children:[f.jsx(wC,{size:14}),h?"Update Design":"Save Design"]}),f.jsxs("div",{className:"text-sm font-normal",children:["from $",12.98.toFixed(2)]})]})]})}),f.jsxs("div",{className:"grid lg:grid-cols-[1fr_400px] h-[calc(100vh-40px)]",children:[f.jsxs("div",{className:"bg-white flex flex-col relative h-full overflow-hidden",children:[f.jsx("div",{className:`absolute inset-0 flex items-center justify-center ${U==="neck"?"pt-0 pb-0 px-0":"pt-2 pb-16 px-6"}`,children:f.jsx(e5,{ref:o,tshirtColor:_,artworks:G(),onArtworkPositionChange:(te,ue)=>{if(U==="front"){const ve=[...Y];ve[ue]={...ve[ue],position:te},q(ve)}else if(U==="neck"&&ne)ie({...ne,position:te});else if(U==="back"){const ve=[...V];ve[ue]={...ve[ue],position:te},H(ve)}},view:U})}),f.jsxs("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 bg-white rounded-full shadow-lg px-2 py-2 flex gap-1",children:[f.jsx("button",{onClick:()=>$("front"),className:`px-5 py-2 rounded-full text-sm font-medium transition-colors ${U==="front"?"bg-black text-white":"text-gray-700 hover:bg-gray-100"}`,children:"Front"}),f.jsx("button",{onClick:()=>$("back"),className:`px-5 py-2 rounded-full text-sm font-medium transition-colors ${U==="back"?"bg-black text-white":"text-gray-700 hover:bg-gray-100"}`,children:"Back"}),f.jsx("button",{onClick:()=>$("neck"),className:`px-5 py-2 rounded-full text-sm font-medium transition-colors ${U==="neck"?"bg-black text-white":"text-gray-700 hover:bg-gray-100"}`,children:"Neck"})]})]}),f.jsx("div",{className:"bg-white border-l border-gray-200 overflow-y-auto",children:f.jsxs("div",{className:"p-5 space-y-1",children:[f.jsxs("div",{className:"border-t border-gray-200 pt-5 pb-4",children:[f.jsxs("button",{onClick:()=>Xs(!da),className:"w-full flex items-center justify-between mb-4 group",children:[f.jsx("h3",{className:"text-sm font-semibold",children:"Garment Color"}),f.jsxs("div",{className:"flex items-center gap-3",children:[_&&f.jsx("span",{className:"w-5 h-5 rounded-full border border-gray-300",style:{backgroundColor:_==="White"?"#FFFFFF":_==="Black"?"#000000":_.toLowerCase()}}),f.jsx("span",{className:"text-gray-400 group-hover:text-gray-600",children:da?"−":"+"})]})]}),da&&f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-wider mb-3",children:"Pre-developed"}),f.jsx("div",{className:"grid grid-cols-2 gap-2.5",children:tn.map(te=>f.jsxs("button",{onClick:()=>x(te),className:`flex items-center gap-2.5 p-2.5 rounded-md border transition-all ${_===te?"border-gray-900 bg-gray-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[f.jsx("div",{className:"w-8 h-8 rounded-full border border-gray-300 flex-shrink-0",style:{backgroundColor:te==="White"?"#FFFFFF":te==="Black"?"#000000":te==="Navy"?"#001f3f":te.toLowerCase()}}),f.jsx("span",{className:"text-xs font-medium",children:te})]},te))})]})]}),f.jsxs("div",{className:"border-t border-gray-200 pt-5 pb-4",children:[f.jsxs("button",{onClick:()=>Gi(!ha),className:"w-full flex items-center justify-between mb-4 group",children:[f.jsx("h3",{className:"text-sm font-semibold",children:"Front Artwork"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"w-5 h-5 rounded-full bg-black text-white text-xs flex items-center justify-center",children:Y.length}),f.jsx("span",{className:"text-gray-400 group-hover:text-gray-600",children:ha?"−":"+"})]})]}),ha&&f.jsxs("div",{className:"space-y-4",children:[Y.length<4&&f.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-md p-6 text-center hover:border-gray-300 transition-colors cursor-pointer",onClick:()=>$("front"),children:[f.jsx("input",{type:"file",accept:"image/png,image/jpeg,image/svg+xml,application/pdf",onChange:te=>{$("front"),ca(te)},className:"hidden",id:"front-artwork-upload",onClick:te=>te.stopPropagation()}),f.jsxs("label",{htmlFor:"front-artwork-upload",className:"cursor-pointer",children:[f.jsx(vp,{className:"mx-auto mb-2 text-gray-300",size:28}),f.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"Upload front artwork (up to 4)"}),f.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"PNG, JPG, SVG or PDF"})]})]}),Y.map((te,ue)=>f.jsx("div",{className:"border border-gray-200 rounded-md p-3 bg-gray-50",children:f.jsxs("div",{className:"flex items-start justify-between mb-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-10 h-10 bg-white border border-gray-200 rounded flex items-center justify-center overflow-hidden",children:f.jsx("img",{src:te.url,alt:"Front Artwork",className:"w-full h-full object-contain"})}),f.jsxs("div",{children:[f.jsxs("p",{className:"text-xs font-medium",children:["Artwork ",ue+1]}),f.jsx("p",{className:"text-xs text-gray-500",children:"Click front view to edit"})]})]}),f.jsx("button",{onClick:()=>{q(Y.filter((ve,Ce)=>Ce!==ue))},className:"text-xs text-red-600 hover:text-red-700",children:"Remove"})]})},ue))]})]}),f.jsxs("div",{className:"border-t border-gray-200 pt-5 pb-4",children:[f.jsxs("button",{onClick:()=>Wi(!fa),className:"w-full flex items-center justify-between mb-4 group",children:[f.jsx("h3",{className:"text-sm font-semibold",children:"Back Artwork"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"w-5 h-5 rounded-full bg-black text-white text-xs flex items-center justify-center",children:V.length}),f.jsx("span",{className:"text-gray-400 group-hover:text-gray-600",children:fa?"−":"+"})]})]}),fa&&f.jsxs("div",{className:"space-y-4",children:[V.length<4&&f.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-md p-6 text-center hover:border-gray-300 transition-colors cursor-pointer",onClick:()=>$("back"),children:[f.jsx("input",{type:"file",accept:"image/png,image/jpeg,image/svg+xml,application/pdf",onChange:te=>{$("back"),ca(te)},className:"hidden",id:"back-artwork-upload",onClick:te=>te.stopPropagation()}),f.jsxs("label",{htmlFor:"back-artwork-upload",className:"cursor-pointer",children:[f.jsx(vp,{className:"mx-auto mb-2 text-gray-300",size:28}),f.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"Upload back artwork (up to 4)"}),f.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"PNG, JPG, SVG or PDF"})]})]}),V.map((te,ue)=>f.jsx("div",{className:"border border-gray-200 rounded-md p-3 bg-gray-50",children:f.jsxs("div",{className:"flex items-start justify-between mb-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-10 h-10 bg-white border border-gray-200 rounded flex items-center justify-center overflow-hidden",children:f.jsx("img",{src:te.url,alt:"Back Artwork",className:"w-full h-full object-contain"})}),f.jsxs("div",{children:[f.jsxs("p",{className:"text-xs font-medium",children:["Artwork ",ue+1]}),f.jsx("p",{className:"text-xs text-gray-500",children:"Click back view to edit"})]})]}),f.jsx("button",{onClick:()=>{H(V.filter((ve,Ce)=>Ce!==ue))},className:"text-xs text-red-600 hover:text-red-700",children:"Remove"})]})},ue))]})]}),f.jsxs("div",{className:"border-t border-gray-200 pt-5 pb-4",children:[f.jsxs("button",{onClick:()=>$i(!pa),className:"w-full flex items-center justify-between mb-4 group",children:[f.jsx("h3",{className:"text-sm font-semibold",children:"Neck Label"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"w-5 h-5 rounded-full bg-black text-white text-xs flex items-center justify-center",children:ne?"1":"0"}),f.jsx("span",{className:"text-gray-400 group-hover:text-gray-600",children:pa?"−":"+"})]})]}),pa&&f.jsxs("div",{className:"space-y-4",children:[!ne&&f.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-md p-6 text-center hover:border-gray-300 transition-colors cursor-pointer",onClick:()=>$("neck"),children:[f.jsx("input",{type:"file",accept:"image/png,image/jpeg,image/svg+xml,application/pdf",onChange:te=>{$("neck"),ca(te)},className:"hidden",id:"neck-label-upload",onClick:te=>te.stopPropagation()}),f.jsxs("label",{htmlFor:"neck-label-upload",className:"cursor-pointer",children:[f.jsx(vp,{className:"mx-auto mb-2 text-gray-300",size:28}),f.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"Upload neck label"}),f.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"PNG, JPG, SVG or PDF"})]})]}),ne&&f.jsx("div",{className:"border border-gray-200 rounded-md p-3 bg-gray-50",children:f.jsxs("div",{className:"flex items-start justify-between mb-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-10 h-10 bg-white border border-gray-200 rounded flex items-center justify-center overflow-hidden",children:f.jsx("img",{src:ne.url,alt:"Neck Label",className:"w-full h-full object-contain"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs font-medium",children:"Neck Label"}),f.jsx("p",{className:"text-xs text-gray-500",children:"Click neck view to edit"})]})]}),f.jsx("button",{onClick:()=>ie(null),className:"text-xs text-red-600 hover:text-red-700",children:"Remove"})]})})]})]}),f.jsxs("div",{className:"border-t border-gray-200 pt-5 pb-4",children:[f.jsx("label",{className:"block text-xs font-medium mb-3",children:"Size"}),f.jsx("div",{className:"grid grid-cols-3 gap-2",children:dh.map(te=>f.jsx("button",{onClick:()=>C(te),className:`px-3 py-2 border rounded-md text-xs font-medium transition-all ${b===te?"border-black bg-black text-white":"border-gray-300 hover:border-gray-400"}`,children:te},te))})]}),f.jsx("div",{className:"border-t border-gray-200 pt-5 pb-4",children:f.jsxs("div",{className:`grid ${N>=2?"grid-cols-4":"grid-cols-3"} gap-3`,children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs text-gray-500 mb-2",children:"Quantity"}),f.jsx("input",{type:"number",min:"1",value:N,onChange:te=>O(parseInt(te.target.value)||1),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:border-gray-900"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs text-gray-500 mb-2",children:"Unit cost"}),f.jsxs("div",{className:"text-sm font-semibold",children:["$",Tt.toFixed(2)]})]}),N>=2&&f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs text-gray-500 mb-2",children:"Total cost"}),f.jsxs("div",{className:"text-sm font-semibold",children:["$",(Tt*N).toFixed(2)]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs text-gray-500 mb-2",children:"Delivery"}),f.jsx("div",{className:"text-xs font-semibold",children:"4 Nov"})]})]})}),f.jsx("div",{className:"pt-4",children:f.jsx("button",{onClick:yh,disabled:!_||!b,className:"w-full py-3 bg-black text-white text-sm font-medium rounded-full hover:bg-gray-800 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:m?"Update Cart":"Add to Cart"})})]})})]}),f.jsx(NT,{isOpen:he,onClose:()=>Me(!1),onSave:mh,isUpdating:!!h,currentName:yt}),Zt&&f.jsx(PT,{message:Bi,type:"success",onClose:()=>en(!1)})]})}function RT(){const{slug:t}=A4(),[e,n]=A.useState(null),[r,s]=A.useState(!0),[i]=A.useState(null);return A.useEffect(()=>{if(!t)return;n({product:{id:"1",title:"Classic Cotton T-Shirt",slug:"classic-tee",description:"Premium 100% cotton t-shirt. Soft, comfortable, and perfect for custom designs.",images:["/assets/blank-tshirt.png"],status:"active",variants:[{id:"1",product_id:"1",color:"White",size:"S",sku:"TEE-WHT-S",base_price:12.99,stock_level:100},{id:"2",product_id:"1",color:"White",size:"M",sku:"TEE-WHT-M",base_price:12.99,stock_level:100},{id:"3",product_id:"1",color:"White",size:"L",sku:"TEE-WHT-L",base_price:12.99,stock_level:100},{id:"4",product_id:"1",color:"Black",size:"S",sku:"TEE-BLK-S",base_price:12.99,stock_level:100},{id:"5",product_id:"1",color:"Black",size:"M",sku:"TEE-BLK-M",base_price:12.99,stock_level:100},{id:"6",product_id:"1",color:"Black",size:"L",sku:"TEE-BLK-L",base_price:12.99,stock_level:100},{id:"7",product_id:"1",color:"Navy",size:"S",sku:"TEE-NAV-S",base_price:12.99,stock_level:100},{id:"8",product_id:"1",color:"Navy",size:"M",sku:"TEE-NAV-M",base_price:12.99,stock_level:100},{id:"9",product_id:"1",color:"Navy",size:"L",sku:"TEE-NAV-L",base_price:12.99,stock_level:100}]},decorationMethods:[{id:"1",name:"dtg",display_name:"Direct to Garment",description:"Full-color digital printing",pricing_rules:{base_price:10,per_location:6,quantity_breaks:[{min:1,max:5,multiplier:1},{min:6,max:11,multiplier:.95},{min:12,max:null,multiplier:.85}]},file_requirements:{min_dpi:300,accepted_formats:["png","jpg","pdf"]}}]}),s(!1),im.getBySlug(t).then(u=>{u&&u.product&&n(u)}).catch(u=>{console.log("Using mock data, API unavailable:",u.message)})},[t]),r?f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:f.jsxs("div",{className:"text-center py-16",children:[f.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"}),f.jsx("p",{className:"mt-4 text-gray-600",children:"Loading product..."})]})}):i||!e?f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:f.jsx("div",{className:"text-center py-16",children:f.jsx("p",{className:"text-red-600 text-lg",children:i||"Product not found"})})}):f.jsx(TT,{product:e.product,variants:e.product.variants,decorationMethods:e.decorationMethods})}function OT(){const{items:t,removeItem:e,updateQuantity:n,getTotalPrice:r}=Fo(),s=(u,c)=>{n(u,c+1)},i=(u,c)=>{c>1&&n(u,c-1)},o=()=>t.reduce((u,c)=>u+c.quantity,0);return t.length===0?f.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:f.jsxs("div",{className:"max-w-md w-full text-center",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-6",children:f.jsx(x2,{size:48,className:"text-gray-400"})}),f.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Your cart is empty"}),f.jsx("p",{className:"text-gray-600 text-lg mb-8",children:"Start designing your custom apparel and add items to your cart."})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx(Pe,{to:"/products/classic-tee",className:"block w-full px-8 py-4 bg-black text-white font-medium rounded-lg hover:bg-gray-800 transition-colors",children:"Start Designing"}),f.jsx(Pe,{to:"/products",className:"block w-full px-8 py-4 border-2 border-gray-300 text-gray-900 font-medium rounded-lg hover:bg-gray-100 transition-colors",children:"Browse Products"})]})]})}):f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h1",{className:"text-4xl lg:text-5xl font-bold mb-2",children:"Shopping Cart"}),f.jsxs("p",{className:"text-gray-600",children:[o()," ",o()===1?"item":"items"," in your cart"]})]}),f.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[t.map((u,c)=>f.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm hover:shadow-md transition-shadow group",style:{animation:`slideIn 0.3s ease-out ${c*.1}s backwards`},children:f.jsxs("div",{className:"flex gap-6",children:[f.jsx(Pe,{to:`/products/classic-tee?editCartItem=${u.id}`,className:"flex-shrink-0 cursor-pointer",children:f.jsx("div",{className:"w-32 h-32 bg-gray-100 rounded-xl overflow-hidden group-hover:ring-2 group-hover:ring-black transition-all",children:u.mockupUrl?f.jsx("img",{src:u.mockupUrl,alt:u.productTitle,className:"w-full h-full object-cover"}):f.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:f.jsx(x2,{size:48})})})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex justify-between items-start mb-3",children:[f.jsxs("div",{children:[f.jsx(Pe,{to:`/products/classic-tee?editCartItem=${u.id}`,className:"font-bold text-xl mb-1 hover:text-gray-600 transition-colors",children:u.productTitle}),f.jsxs("div",{className:"flex gap-2 text-sm text-gray-600 mt-1",children:[f.jsx("span",{className:"px-3 py-1 bg-gray-100 rounded-full",children:u.variantColor}),f.jsx("span",{className:"px-3 py-1 bg-gray-100 rounded-full",children:u.variantSize})]}),f.jsx(Pe,{to:`/products/classic-tee?editCartItem=${u.id}`,className:"text-sm text-blue-600 hover:text-blue-800 mt-2 inline-block",children:"Edit Design →"})]}),f.jsx("button",{onClick:()=>e(u.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors","aria-label":"Remove item",children:f.jsx(Od,{size:20})})]}),f.jsxs("div",{className:"flex items-center justify-between mt-4",children:[f.jsxs("div",{className:"text-2xl font-bold",children:["$",(u.unitPrice*u.quantity).toFixed(2)]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("span",{className:"text-sm text-gray-600",children:["$",u.unitPrice.toFixed(2)," each"]}),f.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg",children:[f.jsx("button",{onClick:()=>i(u.id,u.quantity),disabled:u.quantity<=1,className:"p-2 hover:bg-gray-200 rounded-l-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Decrease quantity",children:f.jsx(yC,{size:18})}),f.jsx("span",{className:"px-4 py-2 font-medium min-w-[3rem] text-center",children:u.quantity}),f.jsx("button",{onClick:()=>s(u.id,u.quantity),className:"p-2 hover:bg-gray-200 rounded-r-lg transition-colors","aria-label":"Increase quantity",children:f.jsx(xC,{size:18})})]})]})]})]})]})},u.id)),f.jsx(Pe,{to:"/products",className:"block text-center py-4 text-gray-600 hover:text-gray-900 transition-colors",children:"← Continue Shopping"})]}),f.jsx("div",{className:"lg:col-span-1",children:f.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm sticky top-24",children:[f.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Order Summary"}),f.jsxs("div",{className:"space-y-4 mb-6",children:[f.jsxs("div",{className:"flex justify-between text-lg",children:[f.jsxs("span",{className:"text-gray-600",children:["Subtotal (",o()," items)"]}),f.jsxs("span",{className:"font-medium",children:["$",r().toFixed(2)]})]}),f.jsxs("div",{className:"flex justify-between text-lg",children:[f.jsx("span",{className:"text-gray-600",children:"Shipping"}),f.jsx("span",{className:"text-gray-600",children:"TBD"})]}),f.jsxs("div",{className:"flex justify-between text-lg",children:[f.jsx("span",{className:"text-gray-600",children:"Tax"}),f.jsx("span",{className:"text-gray-600",children:"TBD"})]}),f.jsxs("div",{className:"border-t pt-4",children:[f.jsxs("div",{className:"flex justify-between text-2xl font-bold",children:[f.jsx("span",{children:"Total"}),f.jsxs("span",{children:["$",r().toFixed(2)]})]}),f.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Final price calculated at checkout"})]})]}),f.jsx(Pe,{to:"/checkout",className:"block w-full px-8 py-4 bg-black text-white text-center font-medium rounded-lg hover:bg-gray-800 transition-colors mb-3",children:"Proceed to Checkout"}),f.jsxs("div",{className:"mt-6 pt-6 border-t space-y-3",children:[f.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[f.jsx("div",{className:"w-5 h-5 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:f.jsx("svg",{className:"w-3 h-3 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),f.jsx("span",{children:"Secure checkout"})]}),f.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[f.jsx("div",{className:"w-5 h-5 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:f.jsx("svg",{className:"w-3 h-3 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),f.jsx("span",{children:"Fast turnaround"})]}),f.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[f.jsx("div",{className:"w-5 h-5 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0",children:f.jsx("svg",{className:"w-3 h-3 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),f.jsx("span",{children:"Quality guaranteed"})]})]})]})})]})]}),f.jsx("style",{children:`
        @keyframes slideIn {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
      `})]})}var t5="https://js.stripe.com/v3",AT=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/;var IT=function(){for(var e=document.querySelectorAll('script[src^="'.concat(t5,'"]')),n=0;n<e.length;n++){var r=e[n];if(AT.test(r.src))return r}return null},ax=function(e){var n="",r=document.createElement("script");r.src="".concat(t5).concat(n);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(r),r},LT=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"2.4.0",startTime:n})},Va=null,Ic=null,Lc=null,MT=function(e){return function(){e(new Error("Failed to load Stripe.js"))}},DT=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},FT=function(e){return Va!==null?Va:(Va=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var s=IT();if(!(s&&e)){if(!s)s=ax(e);else if(s&&Lc!==null&&Ic!==null){var i;s.removeEventListener("load",Lc),s.removeEventListener("error",Ic),(i=s.parentNode)===null||i===void 0||i.removeChild(s),s=ax(e)}}Lc=DT(n,r),Ic=MT(r),s.addEventListener("load",Lc),s.addEventListener("error",Ic)}catch(o){r(o);return}}),Va.catch(function(n){return Va=null,Promise.reject(n)}))},zT=function(e,n,r){if(e===null)return null;var s=e.apply(void 0,n);return LT(s,r),s},qa,n5=!1,r5=function(){return qa||(qa=FT(null).catch(function(e){return qa=null,Promise.reject(e)}),qa)};Promise.resolve().then(function(){return r5()}).catch(function(t){n5||console.warn(t)});var UT=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n5=!0;var s=Date.now();return r5().then(function(i){return zT(i,n,s)})},s5={exports:{}},BT="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",GT=BT,WT=GT;function i5(){}function o5(){}o5.resetWarningCache=i5;var $T=function(){function t(r,s,i,o,u,c){if(c!==WT){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o5,resetWarningCache:i5};return n.PropTypes=n,n};s5.exports=$T();var HT=s5.exports;const et=Id(HT);function lx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ux(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lx(Object(n),!0).forEach(function(r){a5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ed(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ed=function(e){return typeof e}:ed=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(t)}function a5(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l5(t,e){return VT(t)||qT(t,e)||KT(t,e)||YT()}function VT(t){if(Array.isArray(t))return t}function qT(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var r=[],s=!0,i=!1,o,u;try{for(n=n.call(t);!(s=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));s=!0);}catch(c){i=!0,u=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(i)throw u}}return r}}function KT(t,e){if(t){if(typeof t=="string")return cx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cx(t,e)}}function cx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function YT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var bn=function(e,n,r){var s=!!r,i=xe.useRef(r);xe.useEffect(function(){i.current=r},[r]),xe.useEffect(function(){if(!s||!e)return function(){};var o=function(){i.current&&i.current.apply(i,arguments)};return e.on(n,o),function(){e.off(n,o)}},[s,n,e,i])},ng=function(e){var n=xe.useRef(e);return xe.useEffect(function(){n.current=e},[e]),n.current},Qo=function(e){return e!==null&&ed(e)==="object"},XT=function(e){return Qo(e)&&typeof e.then=="function"},QT=function(e){return Qo(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},dx="[object Object]",JT=function t(e,n){if(!Qo(e)||!Qo(n))return e===n;var r=Array.isArray(e),s=Array.isArray(n);if(r!==s)return!1;var i=Object.prototype.toString.call(e)===dx,o=Object.prototype.toString.call(n)===dx;if(i!==o)return!1;if(!i&&!r)return e===n;var u=Object.keys(e),c=Object.keys(n);if(u.length!==c.length)return!1;for(var h={},p=0;p<u.length;p+=1)h[u[p]]=!0;for(var m=0;m<c.length;m+=1)h[c[m]]=!0;var y=Object.keys(h);if(y.length!==u.length)return!1;var _=e,x=n,b=function(k){return t(_[k],x[k])};return y.every(b)},u5=function(e,n,r){return Qo(e)?Object.keys(e).reduce(function(s,i){var o=!Qo(n)||!JT(e[i],n[i]);return r.includes(i)?(o&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),s):o?ux(ux({},s||{}),{},a5({},i,e[i])):s},null):null},c5="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",hx=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c5;if(e===null||QT(e))return e;throw new Error(n)},ZT=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c5;if(XT(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(s){return hx(s,n)})};var r=hx(e,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},eR=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"2.8.1"}),e.registerAppInfo({name:"react-stripe-js",version:"2.8.1",url:"https://stripe.com/docs/stripe-js/react"}))},ch=xe.createContext(null);ch.displayName="ElementsContext";var d5=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},h5=function(e){var n=e.stripe,r=e.options,s=e.children,i=xe.useMemo(function(){return ZT(n)},[n]),o=xe.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(r):null}}),u=l5(o,2),c=u[0],h=u[1];xe.useEffect(function(){var y=!0,_=function(b){h(function(C){return C.stripe?C:{stripe:b,elements:b.elements(r)}})};return i.tag==="async"&&!c.stripe?i.stripePromise.then(function(x){x&&y&&_(x)}):i.tag==="sync"&&!c.stripe&&_(i.stripe),function(){y=!1}},[i,c,r]);var p=ng(n);xe.useEffect(function(){p!==null&&p!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[p,n]);var m=ng(r);return xe.useEffect(function(){if(c.elements){var y=u5(r,m,["clientSecret","fonts"]);y&&c.elements.update(y)}},[r,m,c.elements]),xe.useEffect(function(){eR(c.stripe)},[c.stripe]),xe.createElement(ch.Provider,{value:c},s)};h5.propTypes={stripe:et.any,options:et.object};var tR=function(e){var n=xe.useContext(ch);return d5(n,e)},nR=function(){var e=tR("calls useElements()"),n=e.elements;return n};et.func.isRequired;var f5=xe.createContext(null);f5.displayName="CustomCheckoutSdkContext";var rR=function(e,n){if(!e)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CustomCheckoutProvider> provider."));return e},sR=xe.createContext(null);sR.displayName="CustomCheckoutContext";et.any,et.shape({clientSecret:et.string.isRequired,elementsOptions:et.object}).isRequired;var rg=function(e){var n=xe.useContext(f5),r=xe.useContext(ch);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CustomCheckoutProvider> and <Elements> providers."));return n?rR(n,e):d5(r,e)},iR=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},gt=function(e,n){var r="".concat(iR(e),"Element"),s=function(c){var h=c.id,p=c.className,m=c.options,y=m===void 0?{}:m,_=c.onBlur,x=c.onFocus,b=c.onReady,C=c.onChange,k=c.onEscape,S=c.onClick,E=c.onLoadError,N=c.onLoaderStart,O=c.onNetworksChange,T=c.onConfirm,R=c.onCancel,I=c.onShippingAddressChange,U=c.onShippingRateChange,$=rg("mounts <".concat(r,">")),Y="elements"in $?$.elements:null,q="customCheckoutSdk"in $?$.customCheckoutSdk:null,ne=xe.useState(null),ie=l5(ne,2),V=ie[0],H=ie[1],ge=xe.useRef(null),G=xe.useRef(null);bn(V,"blur",_),bn(V,"focus",x),bn(V,"escape",k),bn(V,"click",S),bn(V,"loaderror",E),bn(V,"loaderstart",N),bn(V,"networkschange",O),bn(V,"confirm",T),bn(V,"cancel",R),bn(V,"shippingaddresschange",I),bn(V,"shippingratechange",U),bn(V,"change",C);var re;b&&(e==="expressCheckout"?re=b:re=function(){b(V)}),bn(V,"ready",re),xe.useLayoutEffect(function(){if(ge.current===null&&G.current!==null&&(Y||q)){var X=null;q?X=q.createElement(e,y):Y&&(X=Y.create(e,y)),ge.current=X,H(X),X&&X.mount(G.current)}},[Y,q,y]);var oe=ng(y);return xe.useEffect(function(){if(ge.current){var X=u5(y,oe,["paymentRequest"]);X&&"update"in ge.current&&ge.current.update(X)}},[y,oe]),xe.useLayoutEffect(function(){return function(){if(ge.current&&typeof ge.current.destroy=="function")try{ge.current.destroy(),ge.current=null}catch{}}},[]),xe.createElement("div",{id:h,className:p,ref:G})},i=function(c){rg("mounts <".concat(r,">"));var h=c.id,p=c.className;return xe.createElement("div",{id:h,className:p})},o=n?i:s;return o.propTypes={id:et.string,className:et.string,onChange:et.func,onBlur:et.func,onFocus:et.func,onReady:et.func,onEscape:et.func,onClick:et.func,onLoadError:et.func,onLoaderStart:et.func,onNetworksChange:et.func,onConfirm:et.func,onCancel:et.func,onShippingAddressChange:et.func,onShippingRateChange:et.func,options:et.object},o.displayName=r,o.__elementType=e,o},mt=typeof window>"u",oR=xe.createContext(null);oR.displayName="EmbeddedCheckoutProviderContext";var aR=function(){var e=rg("calls useStripe()"),n=e.stripe;return n};gt("auBankAccount",mt);var fx=gt("card",mt);gt("cardNumber",mt);gt("cardExpiry",mt);gt("cardCvc",mt);gt("fpxBank",mt);gt("iban",mt);gt("idealBank",mt);gt("p24Bank",mt);gt("epsBank",mt);gt("payment",mt);gt("expressCheckout",mt);gt("currencySelector",mt);gt("paymentRequestButton",mt);gt("linkAuthentication",mt);gt("address",mt);gt("shippingAddress",mt);gt("paymentMethodMessaging",mt);gt("affirmMessage",mt);gt("afterpayClearpayMessage",mt);const lR=UT("pk_test_51S6MQDEDQ6axpLThLLd3vs0vMlnBCJJ5rJnTonlS2iaMWrBii8UXoosY3CLLoXqOu7SyqhapEC7WTapzAuG4QtJR00CZ7ndWUt");function uR(){const t=Zr(),e=aR(),n=nR(),{items:r,getTotalPrice:s,clearCart:i}=Fo(),[o,u]=A.useState(!1),[c,h]=A.useState(null),[p,m]=A.useState({email:"",name:"",phone:""}),[y,_]=A.useState({line1:"",line2:"",city:"",state:"",postal_code:"",country:"US"}),x=async b=>{if(b.preventDefault(),!(!e||!n)){u(!0),h(null);try{const C={customer:p,items:r.map(T=>({variant_id:T.variantId,quantity:T.quantity,unit_price:T.unitPrice,total_price:T.unitPrice*T.quantity,customization:T.customization})),shipping_address:y,billing_address:y,subtotal:s(),tax:0,shipping:0,total:s()},{order:k,client_secret:S}=await R0.create(C),E=n.getElement(fx);if(!E)throw new Error("Card element not found");const{error:N,paymentIntent:O}=await e.confirmCardPayment(S,{payment_method:{card:E,billing_details:{name:p.name,email:p.email}}});if(N)throw new Error(N.message);O&&O.status==="succeeded"&&(await R0.capturePayment(k.id,O.id),i(),t(`/orders/${k.order_number}`))}catch(C){console.error("Checkout error:",C),h(C.message||"Payment failed. Please try again.")}finally{u(!1)}}};return r.length===0?f.jsxs("div",{className:"text-center py-16",children:[f.jsx("p",{className:"text-gray-600 text-lg mb-4",children:"Your cart is empty"}),f.jsx("button",{onClick:()=>t("/products"),className:"btn-primary",children:"Continue Shopping"})]}):f.jsxs("form",{onSubmit:x,className:"grid lg:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[f.jsxs("div",{className:"card",children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Customer Information"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block font-semibold mb-1",children:"Email"}),f.jsx("input",{type:"email",required:!0,value:p.email,onChange:b=>m({...p,email:b.target.value}),className:"input"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block font-semibold mb-1",children:"Full Name"}),f.jsx("input",{type:"text",required:!0,value:p.name,onChange:b=>m({...p,name:b.target.value}),className:"input"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block font-semibold mb-1",children:"Phone"}),f.jsx("input",{type:"tel",value:p.phone,onChange:b=>m({...p,phone:b.target.value}),className:"input"})]})]})]}),f.jsxs("div",{className:"card",children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Shipping Address"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block font-semibold mb-1",children:"Address Line 1"}),f.jsx("input",{type:"text",required:!0,value:y.line1,onChange:b=>_({...y,line1:b.target.value}),className:"input"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block font-semibold mb-1",children:"Address Line 2"}),f.jsx("input",{type:"text",value:y.line2,onChange:b=>_({...y,line2:b.target.value}),className:"input"})]}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block font-semibold mb-1",children:"City"}),f.jsx("input",{type:"text",required:!0,value:y.city,onChange:b=>_({...y,city:b.target.value}),className:"input"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block font-semibold mb-1",children:"State"}),f.jsx("input",{type:"text",required:!0,value:y.state,onChange:b=>_({...y,state:b.target.value}),className:"input"})]})]}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block font-semibold mb-1",children:"ZIP Code"}),f.jsx("input",{type:"text",required:!0,value:y.postal_code,onChange:b=>_({...y,postal_code:b.target.value}),className:"input"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block font-semibold mb-1",children:"Country"}),f.jsxs("select",{value:y.country,onChange:b=>_({...y,country:b.target.value}),className:"input",children:[f.jsx("option",{value:"US",children:"United States"}),f.jsx("option",{value:"CA",children:"Canada"})]})]})]})]})]}),f.jsxs("div",{className:"card",children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Payment Information"}),f.jsx("div",{className:"p-4 border border-gray-300 rounded-lg",children:f.jsx(fx,{options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}}})})]}),c&&f.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:c})]}),f.jsx("div",{className:"lg:col-span-1",children:f.jsxs("div",{className:"card sticky top-24",children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Order Summary"}),f.jsx("div",{className:"space-y-3 mb-6",children:r.map(b=>f.jsxs("div",{className:"flex gap-3 pb-3 border-b",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"font-semibold",children:b.productTitle}),f.jsxs("p",{className:"text-sm text-gray-600",children:[b.variantColor," / ",b.variantSize]}),f.jsxs("p",{className:"text-sm text-gray-600",children:["Qty: ",b.quantity]})]}),f.jsx("div",{className:"text-right",children:f.jsxs("p",{className:"font-semibold",children:["$",(b.unitPrice*b.quantity).toFixed(2)]})})]},b.id))}),f.jsxs("div",{className:"space-y-2 mb-6",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Subtotal"}),f.jsxs("span",{children:["$",s().toFixed(2)]})]}),f.jsxs("div",{className:"flex justify-between text-gray-600",children:[f.jsx("span",{children:"Shipping"}),f.jsx("span",{children:"FREE"})]}),f.jsxs("div",{className:"flex justify-between text-gray-600",children:[f.jsx("span",{children:"Tax"}),f.jsx("span",{children:"$0.00"})]}),f.jsxs("div",{className:"border-t pt-2 flex justify-between font-bold text-lg",children:[f.jsx("span",{children:"Total"}),f.jsxs("span",{className:"text-primary-600",children:["$",s().toFixed(2)]})]})]}),f.jsx("button",{type:"submit",disabled:!e||o,className:"btn-primary w-full",children:o?"Processing...":`Pay $${s().toFixed(2)}`}),f.jsx("p",{className:"text-xs text-gray-500 mt-4 text-center",children:"Your payment information is secure and encrypted."})]})})]})}function cR(){return f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[f.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Checkout"}),f.jsx(h5,{stripe:lR,children:f.jsx(uR,{})})]})}function dR(){const{id:t}=A4(),[e,n]=A.useState(null),[r,s]=A.useState([]),[i,o]=A.useState(!0),[u,c]=A.useState(null);if(A.useEffect(()=>{(async()=>{var y,_;if(t)try{const{order:x,items:b}=await R0.get(t);n(x),s(b)}catch(x){c(((_=(y=x.response)==null?void 0:y.data)==null?void 0:_.message)||"Failed to load order")}finally{o(!1)}})()},[t]),i)return f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:f.jsxs("div",{className:"text-center py-16",children:[f.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"}),f.jsx("p",{className:"mt-4 text-gray-600",children:"Loading order..."})]})});if(u||!e)return f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:f.jsx("div",{className:"text-center py-16",children:f.jsx("p",{className:"text-red-600 text-lg",children:u||"Order not found"})})});const h=m=>{switch(m){case"paid":return"text-green-600";case"pending":return"text-yellow-600";case"failed":return"text-red-600";default:return"text-gray-600"}},p=m=>{switch(m){case"shipped":return"text-green-600";case"in_production":return"text-blue-600";case"pending":return"text-yellow-600";default:return"text-gray-600"}};return f.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[f.jsxs("h1",{className:"text-4xl font-bold mb-2",children:["Order #",e.order_number]}),f.jsxs("p",{className:"text-gray-600 mb-8",children:["Placed on ",new Date(e.created_at).toLocaleDateString()]}),f.jsxs("div",{className:"card mb-8",children:[f.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Order Status"}),f.jsxs("div",{className:"flex justify-between items-center mb-8",children:[f.jsxs("div",{className:"flex flex-col items-center flex-1",children:[f.jsx("div",{className:`rounded-full p-3 mb-2 ${e.payment_status==="paid"?"bg-green-100":"bg-gray-100"}`,children:f.jsx(mC,{className:e.payment_status==="paid"?"text-green-600":"text-gray-400",size:32})}),f.jsx("p",{className:"font-semibold",children:"Payment"}),f.jsx("p",{className:`text-sm ${h(e.payment_status)}`,children:e.payment_status.charAt(0).toUpperCase()+e.payment_status.slice(1)})]}),f.jsx("div",{className:"flex-1 h-1 bg-gray-200 mx-4",children:f.jsx("div",{className:`h-full ${e.production_status!=="pending"?"bg-primary-600":"bg-gray-200"}`})}),f.jsxs("div",{className:"flex flex-col items-center flex-1",children:[f.jsx("div",{className:`rounded-full p-3 mb-2 ${e.production_status!=="pending"?"bg-blue-100":"bg-gray-100"}`,children:f.jsx(vC,{className:e.production_status!=="pending"?"text-blue-600":"text-gray-400",size:32})}),f.jsx("p",{className:"font-semibold",children:"Production"}),f.jsx("p",{className:`text-sm ${p(e.production_status)}`,children:e.production_status.replace("_"," ").charAt(0).toUpperCase()+e.production_status.replace("_"," ").slice(1)})]}),f.jsx("div",{className:"flex-1 h-1 bg-gray-200 mx-4",children:f.jsx("div",{className:`h-full ${e.production_status==="shipped"?"bg-primary-600":"bg-gray-200"}`})}),f.jsxs("div",{className:"flex flex-col items-center flex-1",children:[f.jsx("div",{className:`rounded-full p-3 mb-2 ${e.production_status==="shipped"?"bg-green-100":"bg-gray-100"}`,children:f.jsx(_C,{className:e.production_status==="shipped"?"text-green-600":"text-gray-400",size:32})}),f.jsx("p",{className:"font-semibold",children:"Shipped"}),f.jsx("p",{className:`text-sm ${e.production_status==="shipped"?"text-green-600":"text-gray-400"}`,children:e.production_status==="shipped"?"Delivered":"Pending"})]})]}),e.tracking_number&&f.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[f.jsx("p",{className:"font-semibold text-green-900 mb-1",children:"Tracking Number"}),f.jsx("p",{className:"text-green-700 font-mono",children:e.tracking_number})]})]}),f.jsxs("div",{className:"card mb-8",children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Order Items"}),f.jsx("div",{className:"space-y-4",children:r.map((m,y)=>f.jsxs("div",{className:"flex gap-4 pb-4 border-b last:border-b-0",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"font-semibold",children:"Custom Item"}),f.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",m.quantity]})]}),f.jsx("div",{className:"text-right",children:f.jsxs("p",{className:"font-semibold",children:["$",m.total_price.toFixed(2)]})})]},y))})]}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"card",children:[f.jsx("h2",{className:"text-xl font-bold mb-3",children:"Shipping Address"}),f.jsxs("div",{className:"text-gray-700",children:[f.jsx("p",{children:e.shipping_address.line1}),e.shipping_address.line2&&f.jsx("p",{children:e.shipping_address.line2}),f.jsxs("p",{children:[e.shipping_address.city,", ",e.shipping_address.state," ",e.shipping_address.postal_code]}),f.jsx("p",{children:e.shipping_address.country})]})]}),f.jsxs("div",{className:"card",children:[f.jsx("h2",{className:"text-xl font-bold mb-3",children:"Order Summary"}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Subtotal"}),f.jsxs("span",{children:["$",e.subtotal.toFixed(2)]})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Shipping"}),f.jsxs("span",{children:["$",e.shipping.toFixed(2)]})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Tax"}),f.jsxs("span",{children:["$",e.tax.toFixed(2)]})]}),f.jsxs("div",{className:"border-t pt-2 flex justify-between font-bold text-lg",children:[f.jsx("span",{children:"Total"}),f.jsxs("span",{className:"text-primary-600",children:["$",e.total.toFixed(2)]})]})]})]})]})]})}function hR(){return f.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[f.jsx("h1",{className:"text-4xl font-bold mb-8",children:"About Raspberry"}),f.jsxs("div",{className:"prose prose-lg",children:[f.jsx("p",{className:"text-gray-700 mb-4",children:"Raspberry is a custom clothing ecommerce platform that makes it easy to design and order personalized apparel."}),f.jsx("p",{className:"text-gray-700 mb-4",children:"Our live customizer lets you upload artwork, add text, choose colors, and see your design come to life in real-time."}),f.jsx("p",{className:"text-gray-700",children:"We work with trusted printing partners to deliver high-quality custom products right to your door."})]})]})}function fR(){const[t,e]=A.useState(0),n=[{number:"01",title:"Choose Your Canvas",description:"Select from our curated collection of premium blank apparel. From classic tees to cozy hoodies, we've got the perfect base for your design.",icon:"👕",color:"from-blue-500 to-blue-600",features:["Premium quality blanks","Multiple product types","Various colors & sizes"]},{number:"02",title:"Design Your Vision",description:"Use our intuitive customizer to bring your ideas to life. Upload artwork, add text, choose placements, and see your design in real-time.",icon:"🎨",color:"from-purple-500 to-purple-600",features:["Drag & drop editor","Real-time preview","Multiple decoration methods"]},{number:"03",title:"Get Instant Pricing",description:"Our smart pricing engine calculates your cost on the fly. No hidden fees, no surprises - just transparent, fair pricing based on your customization.",icon:"💰",color:"from-green-500 to-green-600",features:["Live price updates","Quantity discounts","No minimum order"]},{number:"04",title:"Place Your Order",description:"Secure checkout with Stripe. Once confirmed, we generate production-ready files and send them straight to our trusted fulfillment partners.",icon:"✨",color:"from-orange-500 to-orange-600",features:["Secure payment","Auto-generated files","Fast turnaround"]}],r=[{name:"Screen Printing",desc:"Bold, vibrant colors for large quantities",icon:"🖨️"},{name:"DTG Printing",desc:"Photo-quality prints with unlimited colors",icon:"🎯"},{name:"Embroidery",desc:"Premium texture for a professional look",icon:"🧵"},{name:"Heat Transfer",desc:"Perfect for complex designs and gradients",icon:"🔥"}];return f.jsxs("div",{className:"bg-white min-h-screen",children:[f.jsx("section",{className:"relative pt-24 pb-32 overflow-hidden",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:[f.jsxs("div",{className:"text-center mb-20",children:[f.jsx("h1",{className:"text-5xl lg:text-7xl font-bold leading-tight mb-6",children:"How It Works"}),f.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"From blank to branded in four simple steps. Creating custom apparel has never been easier."})]}),f.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-start",children:[f.jsx("div",{className:"space-y-6 lg:sticky lg:top-24",children:n.map((s,i)=>f.jsx("button",{onClick:()=>e(i),className:`w-full text-left p-6 rounded-2xl transition-all duration-300 ${t===i?"bg-black text-white shadow-2xl scale-105":"bg-gray-50 hover:bg-gray-100 text-gray-800"}`,children:f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:`text-4xl ${t===i?"animate-bounce":""}`,children:s.icon}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:`text-sm font-medium mb-2 ${t===i?"text-gray-300":"text-gray-500"}`,children:["Step ",s.number]}),f.jsx("h3",{className:"text-2xl font-bold mb-2",children:s.title}),f.jsx("p",{className:`text-sm leading-relaxed ${t===i?"text-gray-300":"text-gray-600"}`,children:s.description})]})]})},i))}),f.jsx("div",{className:"lg:sticky lg:top-24",children:f.jsxs("div",{className:`bg-gradient-to-br ${n[t].color} rounded-3xl p-8 text-white shadow-2xl transition-all duration-500 transform`,children:[f.jsx("div",{className:"text-8xl mb-6 animate-pulse",children:n[t].icon}),f.jsx("div",{className:"text-6xl font-bold mb-4 opacity-20",children:n[t].number}),f.jsx("h2",{className:"text-4xl font-bold mb-6",children:n[t].title}),f.jsx("p",{className:"text-lg mb-8 leading-relaxed opacity-90",children:n[t].description}),f.jsx("div",{className:"space-y-3",children:n[t].features.map((s,i)=>f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-6 h-6 bg-white/20 rounded-full flex items-center justify-center",children:f.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),f.jsx("span",{className:"text-lg",children:s})]},i))})]})})]})]})}),f.jsx("section",{className:"py-20 bg-gray-50",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:[f.jsxs("div",{className:"text-center mb-16",children:[f.jsx("h2",{className:"text-4xl lg:text-5xl font-bold mb-4",children:"Choose Your Decoration Method"}),f.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Different techniques for different needs. We'll help you pick the perfect method for your design."})]}),f.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map((s,i)=>f.jsxs("div",{className:"bg-white rounded-2xl p-6 hover:shadow-xl transition-all duration-300 hover:-translate-y-2 cursor-pointer group",children:[f.jsx("div",{className:"text-5xl mb-4 group-hover:scale-110 transition-transform duration-300",children:s.icon}),f.jsx("h3",{className:"text-xl font-bold mb-2",children:s.name}),f.jsx("p",{className:"text-gray-600 text-sm",children:s.desc})]},i))})]})}),f.jsx("section",{className:"py-20 bg-white",children:f.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:f.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-4xl lg:text-5xl font-bold mb-6",children:"Why designers love working with us"}),f.jsx("p",{className:"text-lg text-gray-600 mb-8 leading-relaxed",children:"We've built our platform from the ground up to make custom apparel creation seamless, transparent, and professional."}),f.jsx("div",{className:"space-y-6",children:[{title:"No Minimum Orders",desc:"Order as few or as many as you need. Perfect for testing designs or small batches.",color:"green"},{title:"Real-Time Pricing",desc:"See costs update instantly as you design. No waiting for quotes or surprises.",color:"blue"},{title:"Production-Ready Files",desc:"We automatically generate all the files your printer needs. No manual work required.",color:"purple"},{title:"Fast Turnaround",desc:"Most orders ship within 3-5 business days. Rush options available.",color:"orange"}].map((s,i)=>f.jsxs("div",{className:"flex gap-4",children:[f.jsx("div",{className:`w-12 h-12 bg-${s.color}-100 rounded-xl flex items-center justify-center flex-shrink-0`,children:f.jsx("svg",{className:`w-6 h-6 text-${s.color}-600`,fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold mb-1",children:s.title}),f.jsx("p",{className:"text-gray-600",children:s.desc})]})]},i))})]}),f.jsx("div",{className:"relative",children:f.jsx("div",{className:"bg-gradient-to-br from-pink-500 to-purple-600 rounded-3xl p-12 text-white shadow-2xl",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-6xl mb-6",children:"🚀"}),f.jsx("h3",{className:"text-3xl font-bold mb-4",children:"Ready to create?"}),f.jsx("p",{className:"text-lg mb-8 opacity-90",children:"Join thousands of creators bringing their designs to life"}),f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsx(Pe,{to:"/products/classic-tee",className:"px-8 py-4 bg-white text-purple-600 font-bold rounded-lg hover:bg-gray-100 transition-colors",children:"Start Designing Now"}),f.jsx(Pe,{to:"/products",className:"px-8 py-4 border-2 border-white text-white font-bold rounded-lg hover:bg-white/10 transition-colors",children:"Browse Products"})]})]})})})]})})}),f.jsx("section",{className:"py-20 bg-gray-50",children:f.jsxs("div",{className:"max-w-4xl mx-auto px-6 lg:px-8",children:[f.jsxs("div",{className:"text-center mb-16",children:[f.jsx("h2",{className:"text-4xl lg:text-5xl font-bold mb-4",children:"From Order to Delivery"}),f.jsx("p",{className:"text-lg text-gray-600",children:`Here's what happens after you click "Place Order"`})]}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-gray-300"}),f.jsx("div",{className:"space-y-12",children:[{time:"Instant",title:"Order Confirmed",desc:"Payment processed and production files generated automatically"},{time:"1-2 days",title:"In Production",desc:"Your design is printed by our trusted fulfillment partners"},{time:"2-3 days",title:"Quality Check",desc:"Each item is inspected before packaging"},{time:"3-5 days",title:"Shipped",desc:"Tracking number sent to your email"},{time:"5-7 days",title:"Delivered",desc:"Your custom apparel arrives at your door"}].map((s,i)=>f.jsxs("div",{className:"relative pl-20",children:[f.jsx("div",{className:"absolute left-0 w-16 h-16 bg-black rounded-full flex items-center justify-center text-white font-bold shadow-lg",children:i+1}),f.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md hover:shadow-xl transition-shadow",children:[f.jsx("div",{className:"text-sm font-medium text-purple-600 mb-1",children:s.time}),f.jsx("h3",{className:"text-2xl font-bold mb-2",children:s.title}),f.jsx("p",{className:"text-gray-600",children:s.desc})]})]},i))})]})]})}),f.jsx("section",{className:"py-20 bg-white",children:f.jsxs("div",{className:"max-w-4xl mx-auto px-6 lg:px-8",children:[f.jsx("div",{className:"text-center mb-16",children:f.jsx("h2",{className:"text-4xl lg:text-5xl font-bold mb-4",children:"Common Questions"})}),f.jsx("div",{className:"space-y-4",children:[{q:"What file formats do you accept?",a:"We accept PNG, JPG, SVG, and PDF files. For best results, use high-resolution images (300 DPI or higher)."},{q:"Can I order just one item?",a:"Absolutely! There are no minimum order quantities. Order as few or as many as you need."},{q:"How long does production take?",a:"Most orders are produced and shipped within 3-5 business days. Rush options are available for faster delivery."},{q:"What if I need help with my design?",a:"Our design support team is here to help! Contact us and we'll assist with file preparation and design advice."}].map((s,i)=>f.jsxs("details",{className:"bg-gray-50 rounded-xl p-6 hover:bg-gray-100 transition-colors group",children:[f.jsxs("summary",{className:"text-xl font-bold cursor-pointer flex justify-between items-center",children:[s.q,f.jsx("span",{className:"text-2xl group-open:rotate-180 transition-transform",children:"↓"})]}),f.jsx("p",{className:"text-gray-600 mt-4 leading-relaxed",children:s.a})]},i))})]})}),f.jsx("section",{className:"py-24 bg-black text-white",children:f.jsxs("div",{className:"max-w-4xl mx-auto px-6 lg:px-8 text-center",children:[f.jsx("h2",{className:"text-4xl lg:text-6xl font-bold mb-6",children:"Ready to bring your ideas to life?"}),f.jsx("p",{className:"text-xl text-gray-300 mb-10",children:"Start designing in minutes. No experience required."}),f.jsx(Pe,{to:"/products/classic-tee",className:"inline-block px-10 py-5 bg-white text-black text-lg font-bold rounded-lg hover:bg-gray-100 transition-colors",children:"Start Your First Design"})]})})]})}function pR(){const[t,e]=A.useState(null),n=[{id:"1",brand:"TRESOR",image:"/assets/case-study-tresor.jpg",color:"Black",product:"Classic T-Shirt",quantity:150,method:"Screen print",description:"Berlin-based techno club TRESOR wanted high-quality merch that matched their iconic brand. We delivered premium black tees with crisp white prints.",tags:["Music","Events","Nightlife"]},{id:"2",brand:"apartamento",image:"/assets/pink-hoodie-model.jpeg",color:"Navy",product:"Classic T-Shirt",quantity:270,method:"Screen print",description:"The Apartamento team wanted to launch some high quality merchandise to complement their magazine's premium visuals and expert curation.",tags:["Magazine","Publishing","Lifestyle"]},{id:"3",brand:"Art Basel",image:"/assets/blank-tshirt.png",color:"White",product:"Tote Bag",quantity:500,method:"Screen print",description:"Art Basel needed sustainable merch for their annual fair. We created eco-friendly tote bags that became a hit with collectors and artists alike.",tags:["Art","Events","Premium"]},{id:"4",brand:"Studio Hato",image:"/assets/pink-hoodie-model.jpeg",color:"Forest Green",product:"Hoodie",quantity:85,method:"Embroidery",description:"London design studio needed premium team wear. We delivered heavyweight hoodies with custom embroidered logos for a professional finish.",tags:["Design","Studio","Team Wear"]},{id:"5",brand:"Kinfolk",image:"/assets/blank-tshirt.png",color:"Bone",product:"Classic T-Shirt",quantity:320,method:"DTG",description:"Kinfolk magazine wanted subtle, high-quality merch that reflected their minimalist aesthetic. Our DTG printing captured every detail perfectly.",tags:["Magazine","Minimal","Lifestyle"]},{id:"6",brand:"Soho House",image:"/assets/pink-hoodie-model.jpeg",color:"Black",product:"Polo Shirt",quantity:200,method:"Embroidery",description:"Soho House needed elevated staff uniforms across their global locations. We provided consistent quality with embroidered polos.",tags:["Hospitality","Uniforms","Premium"]}];return f.jsxs("div",{className:"bg-white min-h-screen",children:[f.jsx("section",{className:"pt-24 pb-16",children:f.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:f.jsxs("div",{className:"max-w-3xl",children:[f.jsx("h1",{className:"text-5xl lg:text-7xl font-bold leading-tight mb-6",children:"Case Studies"}),f.jsx("p",{className:"text-xl text-gray-600 leading-relaxed",children:"See how leading brands, studios, and creators use Raspberry to bring their custom apparel vision to life."})]})})}),f.jsx("section",{className:"pb-20",children:f.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:f.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(r=>f.jsx("div",{className:"relative group cursor-pointer",onMouseEnter:()=>e(r.id),onMouseLeave:()=>e(null),children:f.jsxs("div",{className:"relative rounded-3xl overflow-hidden bg-gray-900 aspect-[3/4]",children:[f.jsx("img",{src:r.image,alt:r.brand,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-105",onError:s=>{s.currentTarget.src="/assets/blank-tshirt.png"}}),f.jsxs("div",{className:"absolute top-6 left-6 right-6 flex flex-wrap gap-2 z-10",children:[f.jsx("span",{className:"px-3 py-1.5 bg-white rounded-full text-xs font-medium text-gray-900",children:r.color}),f.jsxs("span",{className:"px-3 py-1.5 bg-white rounded-full text-xs font-medium text-gray-900",children:[r.product," - ",r.quantity]}),f.jsx("span",{className:"px-3 py-1.5 bg-white rounded-full text-xs font-medium text-gray-900",children:r.method})]}),f.jsx("div",{className:"absolute bottom-6 left-6 right-6 z-10",children:f.jsx("h3",{className:"text-white text-3xl font-bold",children:r.brand})}),f.jsxs("div",{className:`absolute left-0 right-0 bottom-0 bg-[#d4c5b0] p-6 transition-transform duration-500 ease-out ${t===r.id?"translate-y-0":"translate-y-full"}`,children:[f.jsx("h3",{className:"text-2xl font-bold mb-3 text-gray-900",children:r.brand}),f.jsx("p",{className:"text-gray-800 text-sm leading-relaxed mb-4",children:r.description}),f.jsxs("button",{className:"flex items-center gap-2 text-gray-900 font-medium text-sm hover:gap-3 transition-all",children:["Read more",f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})},r.id))})})}),f.jsx("section",{className:"py-20 bg-gray-50",children:f.jsxs("div",{className:"max-w-4xl mx-auto px-6 lg:px-8 text-center",children:[f.jsx("h2",{className:"text-4xl lg:text-5xl font-bold mb-6",children:"Ready to create your own success story?"}),f.jsx("p",{className:"text-xl text-gray-600 mb-10",children:"Join hundreds of brands and creators who trust Raspberry for their custom apparel needs."}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[f.jsx(Pe,{to:"/products/classic-tee",className:"px-8 py-4 bg-black text-white text-lg font-medium rounded-full hover:bg-gray-800 transition-colors",children:"Start Your Project"}),f.jsx(Pe,{to:"/how-it-works",className:"px-8 py-4 border-2 border-gray-300 text-gray-900 text-lg font-medium rounded-full hover:bg-gray-100 transition-colors",children:"How It Works"})]})]})}),f.jsx("section",{className:"py-20 bg-black text-white",children:f.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:f.jsxs("div",{className:"grid md:grid-cols-4 gap-12 text-center",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-5xl font-bold mb-2",children:"500+"}),f.jsx("div",{className:"text-gray-400",children:"Brands served"})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-5xl font-bold mb-2",children:"50K+"}),f.jsx("div",{className:"text-gray-400",children:"Items produced"})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-5xl font-bold mb-2",children:"4.9/5"}),f.jsx("div",{className:"text-gray-400",children:"Customer rating"})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-5xl font-bold mb-2",children:"24h"}),f.jsx("div",{className:"text-gray-400",children:"Avg. response time"})]})]})})})]})}function gR(){var k,S;const[t,e]=A.useState(""),[n,r]=A.useState(""),[s,i]=A.useState(""),[o,u]=A.useState(!1),{login:c,loginWithGoogle:h,loginWithApple:p}=Ii(),m=Zr(),_=((S=(k=Jr().state)==null?void 0:k.from)==null?void 0:S.pathname)||"/dashboard",x=async E=>{var N,O;E.preventDefault(),i(""),u(!0);try{await c(t,n),m(_,{replace:!0})}catch(T){i(((O=(N=T.response)==null?void 0:N.data)==null?void 0:O.message)||"Failed to log in. Please check your credentials.")}finally{u(!1)}},b=async()=>{try{await h()}catch(E){i(E.message||"Failed to sign in with Google")}},C=async()=>{try{await p()}catch(E){i(E.message||"Failed to sign in with Apple")}};return f.jsx("div",{className:"min-h-[80vh] flex items-center justify-center px-4",children:f.jsxs("div",{className:"max-w-md w-full space-y-8",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h2",{className:"text-4xl font-bold",children:"Welcome Back"}),f.jsx("p",{className:"mt-2 text-gray-600",children:"Sign in to your account"})]}),s&&f.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:s}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("button",{type:"button",onClick:b,className:"w-full flex items-center justify-center gap-3 px-4 py-3 border border-gray-300 rounded-md shadow-sm bg-white text-gray-700 hover:bg-gray-50 transition-colors",children:[f.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[f.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),f.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),f.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),f.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),f.jsxs("button",{type:"button",onClick:C,className:"w-full flex items-center justify-center gap-3 px-4 py-3 border border-gray-300 rounded-md shadow-sm bg-black text-white hover:bg-gray-800 transition-colors",children:[f.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"})}),"Continue with Apple"]})]}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-0 flex items-center",children:f.jsx("div",{className:"w-full border-t border-gray-300"})}),f.jsx("div",{className:"relative flex justify-center text-sm",children:f.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with email"})})]}),f.jsxs("form",{onSubmit:x,className:"space-y-6",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),f.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:E=>e(E.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-black focus:border-black"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),f.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:n,onChange:E=>r(E.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-black focus:border-black"})]})]}),f.jsx("div",{className:"flex items-center justify-between",children:f.jsx("div",{className:"text-sm",children:f.jsx(Pe,{to:"/forgot-password",className:"text-gray-600 hover:text-black",children:"Forgot your password?"})})}),f.jsx("button",{type:"submit",disabled:o,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-white bg-black hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-black disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Signing in...":"Sign In"}),f.jsxs("div",{className:"text-center",children:[f.jsx("span",{className:"text-gray-600",children:"Don't have an account? "}),f.jsx(Pe,{to:"/register",className:"font-medium text-black hover:underline",children:"Sign up"})]})]})]})})}function mR(){const[t,e]=A.useState(""),[n,r]=A.useState(""),[s,i]=A.useState(""),[o,u]=A.useState(""),[c,h]=A.useState(""),[p,m]=A.useState(!1),{register:y,loginWithGoogle:_,loginWithApple:x}=Ii(),b=Zr(),C=async E=>{var N,O;if(E.preventDefault(),h(""),s!==o){h("Passwords do not match");return}if(s.length<6){h("Password must be at least 6 characters long");return}m(!0);try{await y(n,s,t),b("/dashboard")}catch(T){h(((O=(N=T.response)==null?void 0:N.data)==null?void 0:O.message)||"Failed to create account. Please try again.")}finally{m(!1)}},k=async()=>{try{await _()}catch(E){h(E.message||"Failed to sign in with Google")}},S=async()=>{try{await x()}catch(E){h(E.message||"Failed to sign in with Apple")}};return f.jsx("div",{className:"min-h-[80vh] flex items-center justify-center px-4",children:f.jsxs("div",{className:"max-w-md w-full space-y-8",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h2",{className:"text-4xl font-bold",children:"Create Account"}),f.jsx("p",{className:"mt-2 text-gray-600",children:"Start designing custom apparel"})]}),c&&f.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:c}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("button",{type:"button",onClick:k,className:"w-full flex items-center justify-center gap-3 px-4 py-3 border border-gray-300 rounded-md shadow-sm bg-white text-gray-700 hover:bg-gray-50 transition-colors",children:[f.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[f.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),f.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),f.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),f.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),f.jsxs("button",{type:"button",onClick:S,className:"w-full flex items-center justify-center gap-3 px-4 py-3 border border-gray-300 rounded-md shadow-sm bg-black text-white hover:bg-gray-800 transition-colors",children:[f.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"})}),"Continue with Apple"]})]}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-0 flex items-center",children:f.jsx("div",{className:"w-full border-t border-gray-300"})}),f.jsx("div",{className:"relative flex justify-center text-sm",children:f.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with email"})})]}),f.jsxs("form",{onSubmit:C,className:"space-y-6",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),f.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,value:t,onChange:E=>e(E.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-black focus:border-black"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),f.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:E=>r(E.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-black focus:border-black"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),f.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:s,onChange:E=>i(E.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-black focus:border-black"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),f.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,value:o,onChange:E=>u(E.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-black focus:border-black"})]})]}),f.jsx("button",{type:"submit",disabled:p,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-white bg-black hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-black disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Creating account...":"Create Account"}),f.jsxs("div",{className:"text-center",children:[f.jsx("span",{className:"text-gray-600",children:"Already have an account? "}),f.jsx(Pe,{to:"/login",className:"font-medium text-black hover:underline",children:"Sign in"})]})]})]})})}function yR(){const{user:t,logout:e}=Ii(),n=Zr(),[r,s]=A.useState([]),[i,o]=A.useState(!0),[u,c]=A.useState("");A.useEffect(()=>{h()},[]);const h=async()=>{try{const y=await ml.getAll();s(y)}catch(y){c("Failed to load your designs"),console.error("Error loading designs:",y)}finally{o(!1)}},p=async y=>{if(confirm("Are you sure you want to delete this design?"))try{await ml.delete(y),s(r.filter(_=>_.id!==y))}catch(_){alert("Failed to delete design"),console.error("Error deleting design:",_)}},m=()=>{e(),n("/")};return f.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[f.jsxs("div",{className:"flex justify-between items-center mb-8",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-4xl font-bold",children:"My Dashboard"}),f.jsxs("p",{className:"text-gray-600 mt-2",children:["Welcome back, ",t==null?void 0:t.name,"!"]})]}),f.jsx("button",{onClick:m,className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:"Logout"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[f.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[f.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Saved Designs"}),f.jsx("p",{className:"text-3xl font-bold mt-2",children:r.length})]}),f.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[f.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Orders"}),f.jsx("p",{className:"text-3xl font-bold mt-2",children:"0"}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Coming soon"})]}),f.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[f.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Account"}),f.jsx("p",{className:"text-sm mt-2",children:t==null?void 0:t.email})]})]}),f.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Your Saved Designs"}),f.jsx(Pe,{to:"/products",className:"px-4 py-2 bg-black text-white rounded-md hover:bg-gray-800",children:"Create New Design"})]}),i?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-black mx-auto"}),f.jsx("p",{className:"mt-4 text-gray-600",children:"Loading your designs..."})]}):u?f.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:u}):r.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),f.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No designs yet"}),f.jsx("p",{className:"mt-1 text-gray-500",children:"Get started by creating your first custom design!"}),f.jsx("div",{className:"mt-6",children:f.jsx(Pe,{to:"/products",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-black hover:bg-gray-800",children:"Start Designing"})})]}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(y=>f.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[f.jsxs("div",{className:"aspect-square bg-gray-100 flex items-center justify-center relative overflow-hidden",children:[f.jsx("svg",{className:"absolute h-20 w-20 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),y.thumbnail_url&&f.jsx("img",{src:y.thumbnail_url.startsWith("http")?y.thumbnail_url:`http://localhost:3001${y.thumbnail_url}`,alt:y.name,className:"relative w-full h-full object-contain bg-white",onLoad:()=>{},onError:_=>{console.error("Thumbnail failed to load:",y.thumbnail_url),_.currentTarget.style.display="none"}})]}),f.jsxs("div",{className:"p-4",children:[f.jsx("h3",{className:"font-semibold text-lg",children:y.name}),f.jsx("p",{className:"text-sm text-gray-500",children:y.product_title}),f.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Updated ",new Date(y.updated_at).toLocaleDateString()]}),f.jsxs("div",{className:"mt-4 flex gap-2",children:[f.jsx(Pe,{to:`/products/${y.product_slug}?designId=${y.id}`,className:"flex-1 text-center px-3 py-2 bg-black text-white text-sm rounded hover:bg-gray-800",children:"Edit"}),f.jsx("button",{onClick:()=>p(y.id),className:"px-3 py-2 border border-gray-300 text-sm rounded hover:bg-gray-50",children:"Delete"})]})]})]},y.id))})]})]})}function vR(){const t=Zr(),{login:e}=Ii(),[n,r]=A.useState("");A.useEffect(()=>{s()},[]);const s=async()=>{try{const{data:{session:i},error:o}=await Qc.auth.getSession();if(o)throw console.error("Session error:",o),o;if(i!=null&&i.user){const{email:u,user_metadata:c}=i.user,h=(c==null?void 0:c.full_name)||(c==null?void 0:c.name)||(u==null?void 0:u.split("@")[0])||"User";try{await Ja.register(u,"oauth-"+i.user.id,h)}catch{}try{await e(u,"oauth-"+i.user.id),t("/dashboard")}catch(p){console.error("Login error:",p),localStorage.setItem("auth_token",i.access_token),localStorage.setItem("oauth_user",JSON.stringify({id:i.user.id,email:u,name:h})),window.location.href="/dashboard"}}else console.error("No session found"),r("No session found. Please try again."),setTimeout(()=>t("/login"),2e3)}catch(i){console.error("OAuth callback error:",i),r(i.message||"Authentication failed. Please try again."),setTimeout(()=>t("/login"),2e3)}};return f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsx("div",{className:"text-center",children:n?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"text-red-600 mb-4",children:n}),f.jsx("p",{className:"text-gray-600",children:"Redirecting to login..."})]}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-black mx-auto"}),f.jsx("p",{className:"mt-4 text-gray-600",children:"Completing sign in..."})]})})})}function xR(){return f.jsx(QC,{children:f.jsx(hC,{children:f.jsx(ik,{children:f.jsx(XC,{children:f.jsxs(Qb,{children:[f.jsx(cn,{path:"/",element:f.jsx(ZC,{})}),f.jsx(cn,{path:"/products",element:f.jsx(ej,{})}),f.jsx(cn,{path:"/products/:slug",element:f.jsx(RT,{})}),f.jsx(cn,{path:"/cart",element:f.jsx(OT,{})}),f.jsx(cn,{path:"/checkout",element:f.jsx(cR,{})}),f.jsx(cn,{path:"/orders/:id",element:f.jsx(dR,{})}),f.jsx(cn,{path:"/about",element:f.jsx(hR,{})}),f.jsx(cn,{path:"/how-it-works",element:f.jsx(fR,{})}),f.jsx(cn,{path:"/case-studies",element:f.jsx(pR,{})}),f.jsx(cn,{path:"/login",element:f.jsx(gR,{})}),f.jsx(cn,{path:"/register",element:f.jsx(mR,{})}),f.jsx(cn,{path:"/auth/callback",element:f.jsx(vR,{})}),f.jsx(cn,{path:"/dashboard",element:f.jsx(JC,{children:f.jsx(yR,{})})})]})})})})})}const p5=document.getElementById("root");if(!p5)throw new Error("Root element not found");Pp.createRoot(p5).render(f.jsx(xe.StrictMode,{children:f.jsx(xR,{})}));
